{"version":3,"file":"TimelinePanel.js","sourceRoot":"","sources":["../../../../../front_end/timeline/TimelinePanel.js"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2012 Google Inc. All rights reserved.\n * Copyright (C) 2012 Intel Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Bindings from '../bindings/bindings.js';\nimport * as Common from '../common/common.js';\nimport * as Coverage from '../coverage/coverage.js';  // eslint-disable-line no-unused-vars\nimport * as Extensions from '../extensions/extensions.js';\nimport * as Host from '../host/host.js';\nimport * as MobileThrottling from '../mobile_throttling/mobile_throttling.js';\nimport * as PerfUI from '../perf_ui/perf_ui.js';\nimport * as Platform from '../platform/platform.js';\nimport {ls} from '../platform/platform.js';\nimport * as ProtocolClient from '../protocol_client/protocol_client.js';\nimport * as Root from '../root/root.js';\nimport * as SDK from '../sdk/sdk.js';\nimport * as TimelineModel from '../timeline_model/timeline_model.js';\nimport * as UI from '../ui/ui.js';\n\nimport {Events, PerformanceModel, Window} from './PerformanceModel.js';  // eslint-disable-line no-unused-vars\nimport {Client, TimelineController} from './TimelineController.js';      // eslint-disable-line no-unused-vars\nimport {TimelineEventOverview, TimelineEventOverviewCoverage, TimelineEventOverviewCPUActivity, TimelineEventOverviewFrames, TimelineEventOverviewInput, TimelineEventOverviewMemory, TimelineEventOverviewNetwork, TimelineEventOverviewResponsiveness, TimelineFilmStripOverview,} from './TimelineEventOverview.js';  // eslint-disable-line no-unused-vars\nimport {TimelineFlameChartView} from './TimelineFlameChartView.js';\nimport {TimelineHistoryManager} from './TimelineHistoryManager.js';\nimport {TimelineLoader} from './TimelineLoader.js';\nimport {TimelineUIUtils} from './TimelineUIUtils.js';\nimport {UIDevtoolsController} from './UIDevtoolsController.js';\nimport {UIDevtoolsUtils} from './UIDevtoolsUtils.js';\n\n/** @type {!TimelinePanel} */\nlet timelinePanelInstance;\n\n/**\n * @implements {Client}\n * @implements {TimelineModeViewDelegate}\n */\nexport class TimelinePanel extends UI.Panel.Panel {\n  constructor() {\n    super('timeline');\n    this.registerRequiredCSS('timeline/timelinePanel.css', {enableLegacyPatching: true});\n    this.element.addEventListener('contextmenu', this._contextMenu.bind(this), false);\n    this._dropTarget = new UI.DropTarget.DropTarget(\n        this.element, [UI.DropTarget.Type.File, UI.DropTarget.Type.URI],\n        Common.UIString.UIString('Drop timeline file or URL here'), this._handleDrop.bind(this));\n\n    /** @type {!Array<!UI.Toolbar.ToolbarItem>} */\n    this._recordingOptionUIControls = [];\n    this._state = State.Idle;\n    this._recordingPageReload = false;\n    this._millisecondsToRecordAfterLoadEvent = 5000;\n    /** @type {!UI.ActionRegistration.Action }*/\n    this._toggleRecordAction =\n        /** @type {!UI.ActionRegistration.Action }*/ (\n            UI.ActionRegistry.ActionRegistry.instance().action('timeline.toggle-recording'));\n    /** @type {!UI.ActionRegistration.Action }*/\n    this._recordReloadAction =\n        /** @type {!UI.ActionRegistration.Action }*/ (\n            UI.ActionRegistry.ActionRegistry.instance().action('timeline.record-reload'));\n\n    this._historyManager = new TimelineHistoryManager();\n\n    /** @type {?PerformanceModel} */\n    this._performanceModel = null;\n\n    this._viewModeSetting = Common.Settings.Settings.instance().createSetting('timelineViewMode', ViewMode.FlameChart);\n\n    this._disableCaptureJSProfileSetting =\n        Common.Settings.Settings.instance().createSetting('timelineDisableJSSampling', false);\n    this._disableCaptureJSProfileSetting.setTitle(Common.UIString.UIString('Disable JavaScript samples'));\n    this._captureLayersAndPicturesSetting =\n        Common.Settings.Settings.instance().createSetting('timelineCaptureLayersAndPictures', false);\n    this._captureLayersAndPicturesSetting.setTitle(\n        Common.UIString.UIString('Enable advanced paint instrumentation (slow)'));\n\n    this._showScreenshotsSetting = Common.Settings.Settings.instance().createSetting('timelineShowScreenshots', true);\n    this._showScreenshotsSetting.setTitle(Common.UIString.UIString('Screenshots'));\n    this._showScreenshotsSetting.addChangeListener(this._updateOverviewControls, this);\n\n    this._startCoverage = Common.Settings.Settings.instance().createSetting('timelineStartCoverage', false);\n    this._startCoverage.setTitle(ls`Coverage`);\n\n    if (!Root.Runtime.experiments.isEnabled('recordCoverageWithPerformanceTracing')) {\n      this._startCoverage.set(false);\n    }\n\n    this._showMemorySetting = Common.Settings.Settings.instance().createSetting('timelineShowMemory', false);\n    this._showMemorySetting.setTitle(Common.UIString.UIString('Memory'));\n    this._showMemorySetting.addChangeListener(this._onModeChanged, this);\n\n    this._showWebVitalsSetting = Common.Settings.Settings.instance().createSetting('timelineWebVitals', false);\n    this._showWebVitalsSetting.setTitle(ls`Web Vitals`);\n    this._showWebVitalsSetting.addChangeListener(this._onWebVitalsChanged, this);\n\n    const timelineToolbarContainer = this.element.createChild('div', 'timeline-toolbar-container');\n    this._panelToolbar = new UI.Toolbar.Toolbar('timeline-main-toolbar', timelineToolbarContainer);\n    this._panelRightToolbar = new UI.Toolbar.Toolbar('', timelineToolbarContainer);\n    this._createSettingsPane();\n    this._updateShowSettingsToolbarButton();\n\n    this._timelinePane = new UI.Widget.VBox();\n    this._timelinePane.show(this.element);\n    const topPaneElement = this._timelinePane.element.createChild('div', 'hbox');\n    topPaneElement.id = 'timeline-overview-panel';\n\n    // Create top overview component.\n    this._overviewPane = new PerfUI.TimelineOverviewPane.TimelineOverviewPane('timeline');\n    this._overviewPane.addEventListener(\n        PerfUI.TimelineOverviewPane.Events.WindowChanged, this._onOverviewWindowChanged.bind(this));\n    this._overviewPane.show(topPaneElement);\n    /** @type {!Array<!TimelineEventOverview>} */\n    this._overviewControls = [];\n\n    this._statusPaneContainer = this._timelinePane.element.createChild('div', 'status-pane-container fill');\n\n    this._createFileSelector();\n\n    SDK.SDKModel.TargetManager.instance().addModelListener(\n        SDK.ResourceTreeModel.ResourceTreeModel, SDK.ResourceTreeModel.Events.Load, this._loadEventFired, this);\n\n    this._flameChart = new TimelineFlameChartView(this);\n    this._searchableView = new UI.SearchableView.SearchableView(this._flameChart, null);\n    this._searchableView.setMinimumSize(0, 100);\n    this._searchableView.element.classList.add('searchable-view');\n    this._searchableView.show(this._timelinePane.element);\n    this._flameChart.show(this._searchableView.element);\n    this._flameChart.setSearchableView(this._searchableView);\n    this._searchableView.hideWidget();\n\n    this._onModeChanged();\n    this._onWebVitalsChanged();\n    this._populateToolbar();\n    this._showLandingPage();\n    this._updateTimelineControls();\n\n    Extensions.ExtensionServer.ExtensionServer.instance().addEventListener(\n        Extensions.ExtensionServer.Events.TraceProviderAdded, this._appendExtensionsToToolbar, this);\n    SDK.SDKModel.TargetManager.instance().addEventListener(\n        SDK.SDKModel.Events.SuspendStateChanged, this._onSuspendStateChanged, this);\n\n    /** @type {!UI.Toolbar.ToolbarSettingToggle} */\n    this._showSettingsPaneButton;\n    /** @type {!Common.Settings.Setting<boolean>} */\n    this._showSettingsPaneSetting;\n    /** @type {!UI.Widget.Widget} */\n    this._settingsPane;\n    /** @type {?TimelineController} */\n    this._controller;\n    /** @type {!UI.Toolbar.ToolbarButton} */\n    this._clearButton;\n    /** @type {!UI.Toolbar.ToolbarButton} */\n    this._loadButton;\n    /** @type {!UI.Toolbar.ToolbarButton} */\n    this._saveButton;\n    /** @type {?StatusPane} */\n    this._statusPane;\n    /** @type {!UI.Widget.Widget} */\n    this._landingPage;\n  }\n\n  /**\n   * @param {{forceNew: ?boolean}=} opts\n   * @return {!TimelinePanel}\n   */\n  static instance(opts = {forceNew: null}) {\n    const {forceNew} = opts;\n    if (!timelinePanelInstance || forceNew) {\n      timelinePanelInstance = new TimelinePanel();\n    }\n\n    return timelinePanelInstance;\n  }\n\n  /**\n   * @override\n   * @return {?UI.SearchableView.SearchableView}\n   */\n  searchableView() {\n    return this._searchableView;\n  }\n\n  /**\n   * @override\n   */\n  wasShown() {\n    UI.Context.Context.instance().setFlavor(TimelinePanel, this);\n    // Record the performance tool load time.\n    Host.userMetrics.panelLoaded('timeline', 'DevTools.Launch.Timeline');\n  }\n\n  /**\n   * @override\n   */\n  willHide() {\n    UI.Context.Context.instance().setFlavor(TimelinePanel, null);\n    this._historyManager.cancelIfShowing();\n  }\n\n  /**\n   * @param {!Array.<!SDK.TracingManager.EventPayload>} events\n   */\n  loadFromEvents(events) {\n    if (this._state !== State.Idle) {\n      return;\n    }\n    this._prepareToLoadTimeline();\n    this._loader = TimelineLoader.loadFromEvents(events, this);\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _onOverviewWindowChanged(event) {\n    if (!this._performanceModel) {\n      return;\n    }\n    const left = event.data.startTime;\n    const right = event.data.endTime;\n    this._performanceModel.setWindow({left, right}, /* animate */ true);\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _onModelWindowChanged(event) {\n    const window = /** @type {!Window} */ (event.data.window);\n    this._overviewPane.setWindowTimes(window.left, window.right);\n  }\n\n  /**\n   * @param {!State} state\n   */\n  _setState(state) {\n    this._state = state;\n    this._updateTimelineControls();\n  }\n\n  /**\n   * @param {!Common.Settings.Setting<?>} setting\n   * @param {string} tooltip\n   * @return {!UI.Toolbar.ToolbarItem}\n   */\n  _createSettingCheckbox(setting, tooltip) {\n    const checkboxItem = new UI.Toolbar.ToolbarSettingCheckbox(setting, tooltip);\n    this._recordingOptionUIControls.push(checkboxItem);\n    return checkboxItem;\n  }\n\n  _populateToolbar() {\n    // Record\n    this._panelToolbar.appendToolbarItem(UI.Toolbar.Toolbar.createActionButton(this._toggleRecordAction));\n    this._panelToolbar.appendToolbarItem(UI.Toolbar.Toolbar.createActionButton(this._recordReloadAction));\n    this._clearButton = new UI.Toolbar.ToolbarButton(Common.UIString.UIString('Clear'), 'largeicon-clear');\n    this._clearButton.addEventListener(UI.Toolbar.ToolbarButton.Events.Click, () => this._onClearButton());\n    this._panelToolbar.appendToolbarItem(this._clearButton);\n\n    // Load / Save\n    this._loadButton = new UI.Toolbar.ToolbarButton(Common.UIString.UIString('Load profile…'), 'largeicon-load');\n    this._loadButton.addEventListener(UI.Toolbar.ToolbarButton.Events.Click, () => this._selectFileToLoad());\n    this._saveButton =\n        new UI.Toolbar.ToolbarButton(Common.UIString.UIString('Save profile…'), 'largeicon-download');\n    this._saveButton.addEventListener(UI.Toolbar.ToolbarButton.Events.Click, event => {\n      this._saveToFile();\n    });\n    this._panelToolbar.appendSeparator();\n    this._panelToolbar.appendToolbarItem(this._loadButton);\n    this._panelToolbar.appendToolbarItem(this._saveButton);\n\n    // History\n    this._panelToolbar.appendSeparator();\n    this._panelToolbar.appendToolbarItem(this._historyManager.button());\n    this._panelToolbar.appendSeparator();\n\n    // View\n    this._panelToolbar.appendSeparator();\n    this._showScreenshotsToolbarCheckbox =\n        this._createSettingCheckbox(this._showScreenshotsSetting, Common.UIString.UIString('Capture screenshots'));\n    this._panelToolbar.appendToolbarItem(this._showScreenshotsToolbarCheckbox);\n\n    this._showMemoryToolbarCheckbox =\n        this._createSettingCheckbox(this._showMemorySetting, Common.UIString.UIString('Show memory timeline'));\n    this._panelToolbar.appendToolbarItem(this._showMemoryToolbarCheckbox);\n\n    this._showWebVitalsToolbarCheckbox = this._createSettingCheckbox(this._showWebVitalsSetting, ls`Show Web Vitals`);\n    this._panelToolbar.appendToolbarItem(this._showWebVitalsToolbarCheckbox);\n\n    if (Root.Runtime.experiments.isEnabled('recordCoverageWithPerformanceTracing')) {\n      this._startCoverageCheckbox =\n          this._createSettingCheckbox(this._startCoverage, ls`Record coverage with performance trace`);\n      this._panelToolbar.appendToolbarItem(this._startCoverageCheckbox);\n    }\n\n    // GC\n    this._panelToolbar.appendToolbarItem(UI.Toolbar.Toolbar.createActionButtonForId('components.collect-garbage'));\n\n    // Settings\n    this._panelRightToolbar.appendSeparator();\n    this._panelRightToolbar.appendToolbarItem(this._showSettingsPaneButton);\n  }\n\n  _createSettingsPane() {\n    this._showSettingsPaneSetting =\n        Common.Settings.Settings.instance().createSetting('timelineShowSettingsToolbar', false);\n    this._showSettingsPaneButton = new UI.Toolbar.ToolbarSettingToggle(\n        this._showSettingsPaneSetting, 'largeicon-settings-gear', Common.UIString.UIString('Capture settings'));\n    SDK.NetworkManager.MultitargetNetworkManager.instance().addEventListener(\n        SDK.NetworkManager.MultitargetNetworkManager.Events.ConditionsChanged, this._updateShowSettingsToolbarButton,\n        this);\n    MobileThrottling.ThrottlingManager.throttlingManager().addEventListener(\n        MobileThrottling.ThrottlingManager.Events.RateChanged, this._updateShowSettingsToolbarButton, this);\n    this._disableCaptureJSProfileSetting.addChangeListener(this._updateShowSettingsToolbarButton, this);\n    this._captureLayersAndPicturesSetting.addChangeListener(this._updateShowSettingsToolbarButton, this);\n\n    this._settingsPane = new UI.Widget.HBox();\n    this._settingsPane.element.classList.add('timeline-settings-pane');\n    this._settingsPane.show(this.element);\n\n    const captureToolbar = new UI.Toolbar.Toolbar('', this._settingsPane.element);\n    captureToolbar.element.classList.add('flex-auto');\n    captureToolbar.makeVertical();\n    captureToolbar.appendToolbarItem(this._createSettingCheckbox(\n        this._disableCaptureJSProfileSetting,\n        Common.UIString.UIString(\n            'Disables JavaScript sampling, reduces overhead when running against mobile devices')));\n    captureToolbar.appendToolbarItem(this._createSettingCheckbox(\n        this._captureLayersAndPicturesSetting,\n        Common.UIString.UIString(\n            'Captures advanced paint instrumentation, introduces significant performance overhead')));\n\n    const throttlingPane = new UI.Widget.VBox();\n    throttlingPane.element.classList.add('flex-auto');\n    throttlingPane.show(this._settingsPane.element);\n\n    const networkThrottlingToolbar = new UI.Toolbar.Toolbar('', throttlingPane.element);\n    networkThrottlingToolbar.appendText(Common.UIString.UIString('Network:'));\n    this._networkThrottlingSelect = this._createNetworkConditionsSelect();\n    networkThrottlingToolbar.appendToolbarItem(this._networkThrottlingSelect);\n\n    const cpuThrottlingToolbar = new UI.Toolbar.Toolbar('', throttlingPane.element);\n    cpuThrottlingToolbar.appendText(Common.UIString.UIString('CPU:'));\n    this._cpuThrottlingSelect = MobileThrottling.ThrottlingManager.throttlingManager().createCPUThrottlingSelector();\n    cpuThrottlingToolbar.appendToolbarItem(this._cpuThrottlingSelect);\n\n    this._showSettingsPaneSetting.addChangeListener(this._updateSettingsPaneVisibility.bind(this));\n    this._updateSettingsPaneVisibility();\n  }\n\n  /**\n    * @param {!Common.EventTarget.EventTargetEvent} event\n    */\n  _appendExtensionsToToolbar(event) {\n    const provider = /** @type {!Extensions.ExtensionTraceProvider.ExtensionTraceProvider} */ (event.data);\n    const setting = TimelinePanel._settingForTraceProvider(provider);\n    const checkbox = this._createSettingCheckbox(setting, provider.longDisplayName());\n    this._panelToolbar.appendToolbarItem(checkbox);\n  }\n\n  /**\n   * @param {!Extensions.ExtensionTraceProvider.ExtensionTraceProvider} traceProvider\n   * @return {!Common.Settings.Setting<boolean>}\n   */\n  static _settingForTraceProvider(traceProvider) {\n    let setting = traceProviderToSetting.get(traceProvider);\n    if (!setting) {\n      const providerId = traceProvider.persistentIdentifier();\n      setting = Common.Settings.Settings.instance().createSetting(providerId, false);\n      setting.setTitle(traceProvider.shortDisplayName());\n      traceProviderToSetting.set(traceProvider, setting);\n    }\n    return setting;\n  }\n\n  /**\n   * @return {!UI.Toolbar.ToolbarComboBox}\n   */\n  _createNetworkConditionsSelect() {\n    const toolbarItem = new UI.Toolbar.ToolbarComboBox(null, ls`Network conditions`);\n    toolbarItem.setMaxWidth(140);\n    MobileThrottling.ThrottlingManager.throttlingManager().decorateSelectWithNetworkThrottling(\n        toolbarItem.selectElement());\n    return toolbarItem;\n  }\n\n  _prepareToLoadTimeline() {\n    console.assert(this._state === State.Idle);\n    this._setState(State.Loading);\n    if (this._performanceModel) {\n      this._performanceModel.dispose();\n      this._performanceModel = null;\n    }\n  }\n\n  _createFileSelector() {\n    if (this._fileSelectorElement) {\n      this._fileSelectorElement.remove();\n    }\n    this._fileSelectorElement = UI.UIUtils.createFileSelectorElement(this._loadFromFile.bind(this));\n    this._timelinePane.element.appendChild(this._fileSelectorElement);\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _contextMenu(event) {\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    contextMenu.appendItemsAtLocation('timelineMenu');\n    contextMenu.show();\n  }\n  async _saveToFile() {\n    if (this._state !== State.Idle) {\n      return;\n    }\n    const performanceModel = this._performanceModel;\n    if (!performanceModel) {\n      return;\n    }\n\n    const now = new Date();\n    const fileName = 'Profile-' + Platform.DateUtilities.toISO8601Compact(now) + '.json';\n    const stream = new Bindings.FileUtils.FileOutputStream();\n\n    const accepted = await stream.open(fileName);\n    if (!accepted) {\n      return;\n    }\n\n    const error = /** @type {?{message: string, name: string, code: number}} */ (await performanceModel.save(stream));\n    if (!error) {\n      return;\n    }\n    Common.Console.Console.instance().error(\n        Common.UIString.UIString('Failed to save timeline: %s (%s, %s)', error.message, error.name, error.code));\n  }\n\n  async _showHistory() {\n    const model = await this._historyManager.showHistoryDropDown();\n    if (model && model !== this._performanceModel) {\n      this._setModel(model);\n    }\n  }\n\n  /**\n   * @param {number} direction\n   * @return {boolean}\n   */\n  _navigateHistory(direction) {\n    const model = this._historyManager.navigate(direction);\n    if (model && model !== this._performanceModel) {\n      this._setModel(model);\n    }\n    return true;\n  }\n\n  _selectFileToLoad() {\n    if (this._fileSelectorElement) {\n      this._fileSelectorElement.click();\n    }\n  }\n\n  /**\n   * @param {!File} file\n   */\n  _loadFromFile(file) {\n    if (this._state !== State.Idle) {\n      return;\n    }\n    this._prepareToLoadTimeline();\n    this._loader = TimelineLoader.loadFromFile(file, this);\n    this._createFileSelector();\n  }\n\n  /**\n   * @param {string} url\n   */\n  _loadFromURL(url) {\n    if (this._state !== State.Idle) {\n      return;\n    }\n    this._prepareToLoadTimeline();\n    this._loader = TimelineLoader.loadFromURL(url, this);\n  }\n\n  _updateOverviewControls() {\n    this._overviewControls = [];\n    this._overviewControls.push(new TimelineEventOverviewResponsiveness());\n    if (Root.Runtime.experiments.isEnabled('inputEventsOnTimelineOverview')) {\n      this._overviewControls.push(new TimelineEventOverviewInput());\n    }\n    this._overviewControls.push(new TimelineEventOverviewFrames());\n    this._overviewControls.push(new TimelineEventOverviewCPUActivity());\n    this._overviewControls.push(new TimelineEventOverviewNetwork());\n    if (this._showScreenshotsSetting.get() && this._performanceModel &&\n        this._performanceModel.filmStripModel().frames().length) {\n      this._overviewControls.push(new TimelineFilmStripOverview());\n    }\n    if (this._showMemorySetting.get()) {\n      this._overviewControls.push(new TimelineEventOverviewMemory());\n    }\n    if (this._startCoverage.get()) {\n      this._overviewControls.push(new TimelineEventOverviewCoverage());\n    }\n    for (const control of this._overviewControls) {\n      control.setModel(this._performanceModel);\n    }\n    this._overviewPane.setOverviewControls(this._overviewControls);\n  }\n\n  _onModeChanged() {\n    this._updateOverviewControls();\n    this.doResize();\n    this.select(null);\n  }\n\n  _onWebVitalsChanged() {\n    this._flameChart.toggleWebVitalsLane();\n  }\n\n  _updateSettingsPaneVisibility() {\n    if (this._showSettingsPaneSetting.get()) {\n      this._settingsPane.showWidget();\n    } else {\n      this._settingsPane.hideWidget();\n    }\n  }\n\n  _updateShowSettingsToolbarButton() {\n    /** @type {!Array<string>} */\n    const messages = [];\n    if (MobileThrottling.ThrottlingManager.throttlingManager().cpuThrottlingRate() !== 1) {\n      messages.push(Common.UIString.UIString('- CPU throttling is enabled'));\n    }\n    if (SDK.NetworkManager.MultitargetNetworkManager.instance().isThrottling()) {\n      messages.push(Common.UIString.UIString('- Network throttling is enabled'));\n    }\n    if (this._captureLayersAndPicturesSetting.get()) {\n      messages.push(Common.UIString.UIString('- Significant overhead due to paint instrumentation'));\n    }\n    if (this._disableCaptureJSProfileSetting.get()) {\n      messages.push(Common.UIString.UIString('- JavaScript sampling is disabled'));\n    }\n\n    this._showSettingsPaneButton.setDefaultWithRedColor(messages.length > 0);\n    this._showSettingsPaneButton.setToggleWithRedColor(messages.length > 0);\n\n    if (messages.length) {\n      const tooltipElement = document.createElement('div');\n      messages.forEach(message => {\n        tooltipElement.createChild('div').textContent = message;\n      });\n      this._showSettingsPaneButton.setTitle(tooltipElement.textContent || '');\n    } else {\n      this._showSettingsPaneButton.setTitle(Common.UIString.UIString('Capture settings'));\n    }\n  }\n\n  /**\n   * @param {boolean} enabled\n   */\n  _setUIControlsEnabled(enabled) {\n    this._recordingOptionUIControls.forEach(control => control.setEnabled(enabled));\n  }\n\n  async _getCoverageViewWidget() {\n    const view = /** @type {!UI.View.View} */ (UI.ViewManager.ViewManager.instance().view('coverage'));\n    return /** @type {!Coverage.CoverageView.CoverageView} */ (await view.widget());\n  }\n\n  async _startRecording() {\n    console.assert(!this._statusPane, 'Status pane is already opened.');\n    this._setState(State.StartPending);\n\n    const recordingOptions = {\n      enableJSSampling: !this._disableCaptureJSProfileSetting.get(),\n      capturePictures: this._captureLayersAndPicturesSetting.get(),\n      captureFilmStrip: this._showScreenshotsSetting.get(),\n      startCoverage: this._startCoverage.get()\n    };\n\n    if (recordingOptions.startCoverage) {\n      await UI.ViewManager.ViewManager.instance()\n          .showView('coverage')\n          .then(() => this._getCoverageViewWidget())\n          .then(widget => widget.ensureRecordingStarted());\n    }\n\n    this._showRecordingStarted();\n\n    const enabledTraceProviders = Extensions.ExtensionServer.ExtensionServer.instance().traceProviders().filter(\n        provider => TimelinePanel._settingForTraceProvider(provider).get());\n\n    const mainTarget = /** @type {!SDK.SDKModel.Target} */ (SDK.SDKModel.TargetManager.instance().mainTarget());\n    if (UIDevtoolsUtils.isUiDevTools()) {\n      this._controller = new UIDevtoolsController(mainTarget, this);\n    } else {\n      this._controller = new TimelineController(mainTarget, this);\n    }\n    this._setUIControlsEnabled(false);\n    this._hideLandingPage();\n    const response = await this._controller.startRecording(recordingOptions, enabledTraceProviders);\n    // @ts-ignore crbug.com/1011811 Closure does not understand `.getError()` propagation from the tracing model\n    if (response[ProtocolClient.InspectorBackend.ProtocolError]) {\n      // @ts-ignore crbug.com/1011811 Closure does not understand `.getError()` propagation from the tracing model\n      this._recordingFailed(response[ProtocolClient.InspectorBackend.ProtocolError]);\n    } else {\n      this._recordingStarted();\n    }\n  }\n\n  async _stopRecording() {\n    if (this._statusPane) {\n      this._statusPane.finish();\n      this._statusPane.updateStatus(Common.UIString.UIString('Stopping timeline…'));\n      this._statusPane.updateProgressBar(Common.UIString.UIString('Received'), 0);\n    }\n    this._setState(State.StopPending);\n    if (this._startCoverage.get()) {\n      await UI.ViewManager.ViewManager.instance()\n          .showView('coverage')\n          .then(() => this._getCoverageViewWidget())\n          .then(widget => widget.stopRecording());\n    }\n    if (this._controller) {\n      const model = await this._controller.stopRecording();\n      this._performanceModel = model;\n      this._setUIControlsEnabled(true);\n      this._controller.dispose();\n      this._controller = null;\n    }\n  }\n\n  /**\n   * @param {string} error The error message to display\n   */\n  _recordingFailed(error) {\n    if (this._statusPane) {\n      this._statusPane.hide();\n    }\n    this._statusPane = new StatusPane(\n        {\n          description: error,\n          buttonText: ls`Close`,\n          buttonDisabled: false,\n          showProgress: undefined,\n          showTimer: undefined\n        },\n        () => this.loadingComplete(null));\n    this._statusPane.showPane(this._statusPaneContainer);\n    this._statusPane.updateStatus(ls`Recording failed`);\n\n    this._setState(State.RecordingFailed);\n    this._performanceModel = null;\n    this._setUIControlsEnabled(true);\n    if (this._controller) {\n      this._controller.dispose();\n      this._controller = null;\n    }\n  }\n\n  _onSuspendStateChanged() {\n    this._updateTimelineControls();\n  }\n\n  _updateTimelineControls() {\n    const state = State;\n    this._toggleRecordAction.setToggled(this._state === state.Recording);\n    this._toggleRecordAction.setEnabled(this._state === state.Recording || this._state === state.Idle);\n    this._recordReloadAction.setEnabled(this._state === state.Idle);\n    this._historyManager.setEnabled(this._state === state.Idle);\n    this._clearButton.setEnabled(this._state === state.Idle);\n    this._panelToolbar.setEnabled(this._state !== state.Loading);\n    this._panelRightToolbar.setEnabled(this._state !== state.Loading);\n    this._dropTarget.setEnabled(this._state === state.Idle);\n    this._loadButton.setEnabled(this._state === state.Idle);\n    this._saveButton.setEnabled(this._state === state.Idle && Boolean(this._performanceModel));\n  }\n\n  _toggleRecording() {\n    if (this._state === State.Idle) {\n      this._recordingPageReload = false;\n      this._startRecording();\n      Host.userMetrics.actionTaken(Host.UserMetrics.Action.TimelineStarted);\n    } else if (this._state === State.Recording) {\n      this._stopRecording();\n    }\n  }\n\n  _recordReload() {\n    if (this._state !== State.Idle) {\n      return;\n    }\n    this._recordingPageReload = true;\n    this._startRecording();\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.TimelinePageReloadStarted);\n  }\n\n  _onClearButton() {\n    this._historyManager.clear();\n    this._clear();\n  }\n\n  _clear() {\n    this._showLandingPage();\n    this._reset();\n  }\n\n  _reset() {\n    PerfUI.LineLevelProfile.Performance.instance().reset();\n    this._setModel(null);\n  }\n\n  /**\n   * @param {!PerformanceModel} model\n   */\n  _applyFilters(model) {\n    if (model.timelineModel().isGenericTrace() || Root.Runtime.experiments.isEnabled('timelineShowAllEvents')) {\n      return;\n    }\n    model.setFilters([TimelineUIUtils.visibleEventsFilter()]);\n  }\n\n  /**\n   * @param {?PerformanceModel} model\n   */\n  _setModel(model) {\n    if (this._performanceModel) {\n      this._performanceModel.removeEventListener(Events.WindowChanged, this._onModelWindowChanged, this);\n    }\n    this._performanceModel = model;\n    if (model) {\n      this._searchableView.showWidget();\n      this._applyFilters(model);\n    } else {\n      this._searchableView.hideWidget();\n    }\n    this._flameChart.setModel(model);\n\n    this._updateOverviewControls();\n    this._overviewPane.reset();\n    if (model && this._performanceModel) {\n      this._performanceModel.addEventListener(Events.WindowChanged, this._onModelWindowChanged, this);\n      this._overviewPane.setNavStartTimes(model.timelineModel().navStartTimes());\n      this._overviewPane.setBounds(\n          model.timelineModel().minimumRecordTime(), model.timelineModel().maximumRecordTime());\n      PerfUI.LineLevelProfile.Performance.instance().reset();\n      for (const profile of model.timelineModel().cpuProfiles()) {\n        PerfUI.LineLevelProfile.Performance.instance().appendCPUProfile(profile);\n      }\n      this._setMarkers(model.timelineModel());\n      this._flameChart.setSelection(null);\n      this._overviewPane.setWindowTimes(model.window().left, model.window().right);\n    }\n    for (const control of this._overviewControls) {\n      control.setModel(model);\n    }\n    if (this._flameChart) {\n      this._flameChart.resizeToPreferredHeights();\n    }\n    this._updateTimelineControls();\n  }\n\n  _recordingStarted() {\n    if (this._recordingPageReload && this._controller) {\n      const target = this._controller.mainTarget();\n      const resourceModel = target.model(SDK.ResourceTreeModel.ResourceTreeModel);\n      if (resourceModel) {\n        resourceModel.reloadPage();\n      }\n    }\n    this._reset();\n    this._setState(State.Recording);\n    this._showRecordingStarted();\n    if (this._statusPane) {\n      this._statusPane.enableAndFocusButton();\n      this._statusPane.updateStatus(Common.UIString.UIString('Profiling…'));\n      this._statusPane.updateProgressBar(Common.UIString.UIString('Buffer usage'), 0);\n      this._statusPane.startTimer();\n    }\n    this._hideLandingPage();\n  }\n\n  /**\n   * @override\n   * @param {number} usage\n   */\n  recordingProgress(usage) {\n    if (this._statusPane) {\n      this._statusPane.updateProgressBar(Common.UIString.UIString('Buffer usage'), usage * 100);\n    }\n  }\n\n  _showLandingPage() {\n    if (this._landingPage) {\n      this._landingPage.show(this._statusPaneContainer);\n      return;\n    }\n\n    /**\n     * @param {string} tagName\n     * @param {string} contents\n     */\n    function encloseWithTag(tagName, contents) {\n      const e = document.createElement(tagName);\n      e.textContent = contents;\n      return e;\n    }\n\n    const learnMoreNode = UI.XLink.XLink.create(\n        'https://developers.google.com/web/tools/chrome-devtools/evaluate-performance/',\n        Common.UIString.UIString('Learn\\xa0more'));\n\n    const recordKey = encloseWithTag(\n        'b',\n        UI.ShortcutRegistry.ShortcutRegistry.instance().shortcutsForAction('timeline.toggle-recording')[0].title());\n    const reloadKey = encloseWithTag(\n        'b', UI.ShortcutRegistry.ShortcutRegistry.instance().shortcutsForAction('timeline.record-reload')[0].title());\n    const navigateNode = encloseWithTag('b', Common.UIString.UIString('WASD'));\n\n    this._landingPage = new UI.Widget.VBox();\n    this._landingPage.contentElement.classList.add('timeline-landing-page', 'fill');\n    const centered = this._landingPage.contentElement.createChild('div');\n\n    const recordButton = UI.UIUtils.createInlineButton(UI.Toolbar.Toolbar.createActionButton(this._toggleRecordAction));\n    const reloadButton =\n        UI.UIUtils.createInlineButton(UI.Toolbar.Toolbar.createActionButtonForId('timeline.record-reload'));\n\n    centered.createChild('p').appendChild(UI.UIUtils.formatLocalized(\n        'Click the record button %s or hit %s to start a new recording.\\nClick the reload button %s or hit %s to record the page load.',\n        [recordButton, recordKey, reloadButton, reloadKey]));\n\n    centered.createChild('p').appendChild(UI.UIUtils.formatLocalized(\n        'After recording, select an area of interest in the overview by dragging.\\nThen, zoom and pan the timeline with the mousewheel or %s keys.\\n%s',\n        [navigateNode, learnMoreNode]));\n\n    this._landingPage.show(this._statusPaneContainer);\n  }\n\n  _hideLandingPage() {\n    this._landingPage.detach();\n  }\n\n  /**\n   * @override\n   */\n  loadingStarted() {\n    this._hideLandingPage();\n\n    if (this._statusPane) {\n      this._statusPane.hide();\n    }\n    this._statusPane = new StatusPane(\n        {\n          showProgress: true,\n          showTimer: undefined,\n          buttonDisabled: undefined,\n          buttonText: undefined,\n          description: undefined\n        },\n        () => this._cancelLoading());\n    this._statusPane.showPane(this._statusPaneContainer);\n    this._statusPane.updateStatus(Common.UIString.UIString('Loading profile…'));\n    // FIXME: make loading from backend cancelable as well.\n    if (!this._loader) {\n      this._statusPane.finish();\n    }\n    this.loadingProgress(0);\n  }\n\n  /**\n   * @override\n   * @param {number=} progress\n   */\n  loadingProgress(progress) {\n    if (typeof progress === 'number' && this._statusPane) {\n      this._statusPane.updateProgressBar(Common.UIString.UIString('Received'), progress * 100);\n    }\n  }\n\n  /**\n   * @override\n   */\n  processingStarted() {\n    if (this._statusPane) {\n      this._statusPane.updateStatus(Common.UIString.UIString('Processing profile…'));\n    }\n  }\n\n  /**\n   * @override\n   * @param {?SDK.TracingModel.TracingModel} tracingModel\n   */\n  loadingComplete(tracingModel) {\n    delete this._loader;\n    this._setState(State.Idle);\n\n    if (this._statusPane) {\n      this._statusPane.hide();\n    }\n    this._statusPane = null;\n\n    if (!tracingModel) {\n      this._clear();\n      return;\n    }\n\n    if (!this._performanceModel) {\n      this._performanceModel = new PerformanceModel();\n    }\n    this._performanceModel.setTracingModel(tracingModel);\n    this._setModel(this._performanceModel);\n    this._historyManager.addRecording(this._performanceModel);\n\n    if (this._startCoverage.get()) {\n      UI.ViewManager.ViewManager.instance()\n          .showView('coverage')\n          .then(() => this._getCoverageViewWidget())\n          .then(widget => widget.processBacklog())\n          .then(() => this._updateOverviewControls());\n    }\n  }\n\n  _showRecordingStarted() {\n    if (this._statusPane) {\n      return;\n    }\n    this._statusPane = new StatusPane(\n        {\n          showTimer: true,\n          showProgress: true,\n          buttonDisabled: true,\n          description: undefined,\n          buttonText: undefined,\n        },\n        () => this._stopRecording());\n    this._statusPane.showPane(this._statusPaneContainer);\n    this._statusPane.updateStatus(Common.UIString.UIString('Initializing profiler…'));\n  }\n\n  _cancelLoading() {\n    if (this._loader) {\n      this._loader.cancel();\n    }\n  }\n\n  /**\n   * @param {!TimelineModel.TimelineModel.TimelineModelImpl} timelineModel\n   */\n  _setMarkers(timelineModel) {\n    const markers = new Map();\n    const recordTypes = TimelineModel.TimelineModel.RecordType;\n    const zeroTime = timelineModel.minimumRecordTime();\n    for (const event of timelineModel.timeMarkerEvents()) {\n      if (event.name === recordTypes.TimeStamp || event.name === recordTypes.ConsoleTime) {\n        continue;\n      }\n      markers.set(event.startTime, TimelineUIUtils.createEventDivider(event, zeroTime));\n    }\n\n    // Add markers for navigation start times.\n    for (const navStartTimeEvent of timelineModel.navStartTimes().values()) {\n      markers.set(navStartTimeEvent.startTime, TimelineUIUtils.createEventDivider(navStartTimeEvent, zeroTime));\n    }\n    this._overviewPane.setMarkers(markers);\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  async _loadEventFired(event) {\n    if (this._state !== State.Recording || !this._recordingPageReload || !this._controller ||\n        this._controller.mainTarget() !== event.data.resourceTreeModel.target()) {\n      return;\n    }\n    const controller = this._controller;\n    await new Promise(r => setTimeout(r, this._millisecondsToRecordAfterLoadEvent));\n\n    // Check if we're still in the same recording session.\n    if (controller !== this._controller || this._state !== State.Recording) {\n      return;\n    }\n    this._stopRecording();\n  }\n\n  /**\n   * @param {!TimelineSelection} selection\n   * @return {?TimelineModel.TimelineFrameModel.TimelineFrame}\n   */\n  _frameForSelection(selection) {\n    switch (selection.type()) {\n      case TimelineSelection.Type.Frame:\n        return /** @type {!TimelineModel.TimelineFrameModel.TimelineFrame} */ (selection.object());\n      case TimelineSelection.Type.Range:\n        return null;\n      case TimelineSelection.Type.TraceEvent:\n        if (!this._performanceModel) {\n          return null;\n        }\n        return this._performanceModel.frameModel().frames(selection._endTime, selection._endTime)[0];\n      default:\n        console.assert(false, 'Should never be reached');\n        return null;\n    }\n  }\n\n  /**\n   * @param {number} offset\n   */\n  _jumpToFrame(offset) {\n    const currentFrame = this._selection && this._frameForSelection(this._selection);\n    if (!currentFrame || !this._performanceModel) {\n      return;\n    }\n    const frames = this._performanceModel.frames();\n    let index = frames.indexOf(currentFrame);\n    console.assert(index >= 0, 'Can\\'t find current frame in the frame list');\n    index = Platform.NumberUtilities.clamp(index + offset, 0, frames.length - 1);\n    const frame = frames[index];\n    this._revealTimeRange(frame.startTime, frame.endTime);\n    this.select(TimelineSelection.fromFrame(frame));\n    return true;\n  }\n\n  /**\n   * @override\n   * @param {?TimelineSelection} selection\n   */\n  select(selection) {\n    this._selection = selection;\n    this._flameChart.setSelection(selection);\n  }\n\n  /**\n   * @override\n   * @param {?Array<!SDK.TracingModel.Event>} events\n   * @param {number} time\n   */\n  selectEntryAtTime(events, time) {\n    if (!events) {\n      return;\n    }\n    // Find best match, then backtrack to the first visible entry.\n    for (let index = Platform.ArrayUtilities.upperBound(events, time, (time, event) => time - event.startTime) - 1;\n         index >= 0; --index) {\n      const event = events[index];\n      const endTime = event.endTime || event.startTime;\n      if (SDK.TracingModel.TracingModel.isTopLevelEvent(event) && endTime < time) {\n        break;\n      }\n      if (this._performanceModel && this._performanceModel.isVisible(event) && endTime >= time) {\n        this.select(TimelineSelection.fromTraceEvent(event));\n        return;\n      }\n    }\n    this.select(null);\n  }\n\n  /**\n   * @override\n   * @param {?SDK.TracingModel.Event} event\n   */\n  highlightEvent(event) {\n    this._flameChart.highlightEvent(event);\n  }\n\n  /**\n   * @param {number} startTime\n   * @param {number} endTime\n   */\n  _revealTimeRange(startTime, endTime) {\n    if (!this._performanceModel) {\n      return;\n    }\n    const window = this._performanceModel.window();\n    let offset = 0;\n    if (window.right < endTime) {\n      offset = endTime - window.right;\n    } else if (window.left > startTime) {\n      offset = startTime - window.left;\n    }\n    this._performanceModel.setWindow({left: window.left + offset, right: window.right + offset}, /* animate */ true);\n  }\n\n  /**\n   * @param {!DataTransfer} dataTransfer\n   */\n  _handleDrop(dataTransfer) {\n    const items = dataTransfer.items;\n    if (!items.length) {\n      return;\n    }\n    const item = items[0];\n    if (item.kind === 'string') {\n      const url = dataTransfer.getData('text/uri-list');\n      if (new Common.ParsedURL.ParsedURL(url).isValid) {\n        this._loadFromURL(url);\n      }\n    } else if (item.kind === 'file') {\n      const entry = items[0].webkitGetAsEntry();\n      if (!entry.isFile) {\n        return;\n      }\n      entry.file(this._loadFromFile.bind(this));\n    }\n  }\n}\n\n/**\n * @enum {symbol}\n */\nexport const State = {\n  Idle: Symbol('Idle'),\n  StartPending: Symbol('StartPending'),\n  Recording: Symbol('Recording'),\n  StopPending: Symbol('StopPending'),\n  Loading: Symbol('Loading'),\n  RecordingFailed: Symbol('RecordingFailed')\n};\n\n/**\n * @enum {string}\n */\nexport const ViewMode = {\n  FlameChart: 'FlameChart',\n  BottomUp: 'BottomUp',\n  CallTree: 'CallTree',\n  EventLog: 'EventLog'\n};\n\n// Define row and header height, should be in sync with styles for timeline graphs.\nexport const rowHeight = 18;\n\nexport const headerHeight = 20;\n\nexport class TimelineSelection {\n  /**\n   * @param {!TimelineSelection.Type} type\n   * @param {number} startTime\n   * @param {number} endTime\n   * @param {!Object=} object\n   */\n  constructor(type, startTime, endTime, object) {\n    this._type = type;\n    this._startTime = startTime;\n    this._endTime = endTime;\n    this._object = object || null;\n  }\n\n  /**\n   * @param {!TimelineModel.TimelineFrameModel.TimelineFrame} frame\n   * @return {!TimelineSelection}\n   */\n  static fromFrame(frame) {\n    return new TimelineSelection(TimelineSelection.Type.Frame, frame.startTime, frame.endTime, frame);\n  }\n\n  /**\n   * @param {!TimelineModel.TimelineModel.NetworkRequest} request\n   * @return {!TimelineSelection}\n   */\n  static fromNetworkRequest(request) {\n    return new TimelineSelection(\n        TimelineSelection.Type.NetworkRequest, request.startTime, request.endTime || request.startTime, request);\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} event\n   * @return {!TimelineSelection}\n   */\n  static fromTraceEvent(event) {\n    return new TimelineSelection(\n        TimelineSelection.Type.TraceEvent, event.startTime, event.endTime || (event.startTime + 1), event);\n  }\n\n  /**\n   * @param {number} startTime\n   * @param {number} endTime\n   * @return {!TimelineSelection}\n   */\n  static fromRange(startTime, endTime) {\n    return new TimelineSelection(TimelineSelection.Type.Range, startTime, endTime);\n  }\n\n  /**\n   * @return {!TimelineSelection.Type}\n   */\n  type() {\n    return this._type;\n  }\n\n  /**\n   * @return {?Object}\n   */\n  object() {\n    return this._object;\n  }\n\n  /**\n   * @return {number}\n   */\n  startTime() {\n    return this._startTime;\n  }\n\n  /**\n   * @return {number}\n   */\n  endTime() {\n    return this._endTime;\n  }\n}\n\n/**\n * @enum {string}\n */\nTimelineSelection.Type = {\n  Frame: 'Frame',\n  NetworkRequest: 'NetworkRequest',\n  TraceEvent: 'TraceEvent',\n  Range: 'Range'\n};\n\n/**\n * @interface\n */\nexport class TimelineModeViewDelegate {\n  /**\n   * @param {?TimelineSelection} selection\n   */\n  select(selection) {\n  }\n\n  /**\n   * @param {?Array<!SDK.TracingModel.Event>} events\n   * @param {number} time\n   */\n  selectEntryAtTime(events, time) {\n  }\n\n  /**\n   * @param {?SDK.TracingModel.Event} event\n   */\n  highlightEvent(event) {\n  }\n}\n\nexport class StatusPane extends UI.Widget.VBox {\n  /**\n   * @param {!{showTimer: (boolean|undefined), showProgress: (boolean|undefined), description: (string|undefined), buttonText: (string|undefined), buttonDisabled: (boolean|undefined)}} options - a collection of options controlling the appearance of the pane.\n   *   The options object can have the following properties:\n   *   - **showTimer** - `{boolean}` - Display seconds since dialog opened\n   *   - **showProgress** - `{boolean}` - Display a progress bar\n   *   - **description** - `{string}` - Display this string in a description line\n   *   - **buttonText** - `{string}` - The localized text to display on the button\n   *   - **buttonDisabled** - `{string}` - Whether the button starts disabled or not - defaults to true\n   * @param {function(): (!Promise<void>|void)} buttonCallback\n   */\n  constructor(options, buttonCallback) {\n    super(true);\n    this.registerRequiredCSS('timeline/timelineStatusDialog.css', {enableLegacyPatching: true});\n    this.contentElement.classList.add('timeline-status-dialog');\n\n    const statusLine = this.contentElement.createChild('div', 'status-dialog-line status');\n    statusLine.createChild('div', 'label').textContent = Common.UIString.UIString('Status');\n    this._status = statusLine.createChild('div', 'content');\n    UI.ARIAUtils.markAsStatus(this._status);\n\n    if (options.showTimer) {\n      const timeLine = this.contentElement.createChild('div', 'status-dialog-line time');\n      timeLine.createChild('div', 'label').textContent = Common.UIString.UIString('Time');\n      this._time = timeLine.createChild('div', 'content');\n    }\n\n    if (options.showProgress) {\n      const progressLine = this.contentElement.createChild('div', 'status-dialog-line progress');\n      this._progressLabel = progressLine.createChild('div', 'label');\n      this._progressBar = progressLine.createChild('div', 'indicator-container').createChild('div', 'indicator');\n      UI.ARIAUtils.markAsProgressBar(this._progressBar);\n    }\n\n    if (typeof options.description === 'string') {\n      const descriptionLine = this.contentElement.createChild('div', 'status-dialog-line description');\n      descriptionLine.createChild('div', 'label').textContent = ls`Description`;\n      this._description = descriptionLine.createChild('div', 'content');\n      this._description.innerText = options.description;\n    }\n\n    const buttonText = options.buttonText || ls`Stop`;\n    this._button = UI.UIUtils.createTextButton(buttonText, buttonCallback, '', true);\n    // Profiling can't be stopped during initialization.\n    this._button.disabled = !options.buttonDisabled === false;\n    this.contentElement.createChild('div', 'stop-button').appendChild(this._button);\n    /** @type {!Element} */\n    this._progressLabel;\n    /** @type {!Element} */\n    this._progressBar;\n    /** @type {number} */\n    this._startTime;\n    /** @type {!Element} */\n    this._time;\n  }\n\n  finish() {\n    this._stopTimer();\n    this._button.disabled = true;\n  }\n\n  hide() {\n    /** @type {!HTMLElement} */ (this.element.parentNode).classList.remove('tinted');\n    this.element.remove();\n  }\n\n  /**\n   * @param {!Element} parent\n   */\n  showPane(parent) {\n    this.show(parent);\n    parent.classList.add('tinted');\n  }\n\n  enableAndFocusButton() {\n    this._button.disabled = false;\n    this._button.focus();\n  }\n\n  /**\n   * @param {string} text\n   */\n  updateStatus(text) {\n    this._status.textContent = text;\n  }\n\n  /**\n   * @param {string} activity\n   * @param {number} percent\n   */\n  updateProgressBar(activity, percent) {\n    this._progressLabel.textContent = activity;\n    /** @type {!HTMLElement} */ (this._progressBar).style.width = percent.toFixed(1) + '%';\n    UI.ARIAUtils.setValueNow(this._progressBar, percent);\n    this._updateTimer();\n  }\n\n  startTimer() {\n    this._startTime = Date.now();\n    this._timeUpdateTimer = setInterval(this._updateTimer.bind(this, false), 1000);\n    this._updateTimer();\n  }\n\n  _stopTimer() {\n    if (!this._timeUpdateTimer) {\n      return;\n    }\n    clearInterval(this._timeUpdateTimer);\n    this._updateTimer(true);\n    delete this._timeUpdateTimer;\n  }\n\n  /**\n   * @param {boolean=} precise\n   */\n  _updateTimer(precise) {\n    if (!this._timeUpdateTimer) {\n      return;\n    }\n    const elapsed = (Date.now() - this._startTime) / 1000;\n    this._time.textContent = Common.UIString.UIString('%s\\xa0sec', elapsed.toFixed(precise ? 1 : 0));\n  }\n}\n\n\n/**\n * @implements {Common.QueryParamHandler.QueryParamHandler}\n */\nexport class LoadTimelineHandler {\n  /**\n   * @override\n   * @param {string} value\n   */\n  handleQueryParam(value) {\n    UI.ViewManager.ViewManager.instance().showView('timeline').then(() => {\n      TimelinePanel.instance()._loadFromURL(window.decodeURIComponent(value));\n    });\n  }\n}\n\n/**\n * @implements {UI.ActionRegistration.ActionDelegate}\n */\nexport class ActionDelegate {\n  /**\n   * @override\n   * @param {!UI.Context.Context} context\n   * @param {string} actionId\n   * @return {boolean}\n   */\n  handleAction(context, actionId) {\n    const panel = /** @type {!TimelinePanel} */ (UI.Context.Context.instance().flavor(TimelinePanel));\n    console.assert(panel && panel instanceof TimelinePanel);\n    switch (actionId) {\n      case 'timeline.toggle-recording':\n        panel._toggleRecording();\n        return true;\n      case 'timeline.record-reload':\n        panel._recordReload();\n        return true;\n      case 'timeline.save-to-file':\n        panel._saveToFile();\n        return true;\n      case 'timeline.load-from-file':\n        panel._selectFileToLoad();\n        return true;\n      case 'timeline.jump-to-previous-frame':\n        panel._jumpToFrame(-1);\n        return true;\n      case 'timeline.jump-to-next-frame':\n        panel._jumpToFrame(1);\n        return true;\n      case 'timeline.show-history':\n        panel._showHistory();\n        return true;\n      case 'timeline.previous-recording':\n        panel._navigateHistory(1);\n        return true;\n      case 'timeline.next-recording':\n        panel._navigateHistory(-1);\n        return true;\n    }\n    return false;\n  }\n}\n\n/** @type {!WeakMap<!Extensions.ExtensionTraceProvider.ExtensionTraceProvider, !Common.Settings.Setting<boolean>>} */\nconst traceProviderToSetting = new WeakMap();\n"]}