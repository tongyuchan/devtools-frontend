{"version":3,"file":"TimelineTreeView.js","sourceRoot":"","sources":["../../../../../front_end/timeline/TimelineTreeView.js"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2015 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../common/common.js';\nimport * as Components from '../components/components.js';\nimport * as DataGrid from '../data_grid/data_grid.js';\nimport * as Platform from '../platform/platform.js';\nimport {ls} from '../platform/platform.js';\nimport * as SDK from '../sdk/sdk.js';\nimport * as TimelineModel from '../timeline_model/timeline_model.js';\nimport * as UI from '../ui/ui.js';\n\nimport {PerformanceModel} from './PerformanceModel.js';  // eslint-disable-line no-unused-vars\nimport {TimelineRegExp} from './TimelineFilters.js';\nimport {TimelineSelection} from './TimelinePanel.js';  // eslint-disable-line no-unused-vars\nimport {TimelineUIUtils} from './TimelineUIUtils.js';\n\n/**\n * @implements {UI.SearchableView.Searchable}\n */\nexport class TimelineTreeView extends UI.Widget.VBox {\n  constructor() {\n    super();\n    /** @type {?PerformanceModel} */\n    this._model = null;\n    /** @type {?TimelineModel.TimelineModel.Track} */\n    this._track = null;\n    /** @type {?TimelineModel.TimelineProfileTree.Node} */\n    this._tree = null;\n    this.element.classList.add('timeline-tree-view');\n\n    /** @type {!Array<!TimelineModel.TimelineProfileTree.Node>} */\n    this._searchResults = [];\n    /** @type {!Components.Linkifier.Linkifier} */\n    this.linkifier;\n    /** @type {!DataGrid.SortableDataGrid.SortableDataGrid<!GridNode>} */\n    this.dataGrid;\n    /** @type {?TimelineModel.TimelineProfileTree.Node} */\n    this._lastHoveredProfileNode;\n    /** @type {!TimelineRegExp} */\n    this._textFilter;\n    /** @type {!TimelineModel.TimelineModelFilter.ExclusiveNameFilter} */\n    this._taskFilter;\n    /** @type {number} */\n    this._startTime;\n    /** @type {number} */\n    this._endTime;\n    /** @type {!UI.SplitWidget.SplitWidget} */\n    this.splitWidget;\n    /** @type {!UI.Widget.Widget} */\n    this.detailsView;\n    /** @type {!UI.SearchableView.SearchableView} */\n    this._searchableView;\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} event\n   * @return {string}\n   */\n  static eventNameForSorting(event) {\n    if (event.name === TimelineModel.TimelineModel.RecordType.JSFrame) {\n      const data = event.args['data'];\n      return data['functionName'] + '@' + (data['scriptId'] || data['url'] || '');\n    }\n    return event.name + ':@' + TimelineModel.TimelineProfileTree.eventURL(event);\n  }\n\n  /**\n   * @param {!UI.SearchableView.SearchableView} searchableView\n   */\n  setSearchableView(searchableView) {\n    this._searchableView = searchableView;\n  }\n\n  /**\n   * @param {?PerformanceModel} model\n   * @param {?TimelineModel.TimelineModel.Track} track\n   */\n  setModel(model, track) {\n    this._model = model;\n    this._track = track;\n    this.refreshTree();\n  }\n\n  /**\n   * @return {string}\n   */\n  getToolbarInputAccessiblePlaceHolder() {\n    return '';\n  }\n\n  /**\n   * @protected\n   * @return {?PerformanceModel} model\n   */\n  model() {\n    return this._model;\n  }\n\n  /**\n   * @protected\n   */\n  init() {\n    this.linkifier = new Components.Linkifier.Linkifier();\n\n    this._taskFilter =\n        new TimelineModel.TimelineModelFilter.ExclusiveNameFilter([TimelineModel.TimelineModel.RecordType.Task]);\n    this._textFilter = new TimelineRegExp();\n\n    this._currentThreadSetting = Common.Settings.Settings.instance().createSetting('timelineTreeCurrentThread', 0);\n    this._currentThreadSetting.addChangeListener(this.refreshTree, this);\n\n    const columns = /** @type {!Array<!DataGrid.DataGrid.ColumnDescriptor>} */ ([]);\n    this.populateColumns(columns);\n\n    this.splitWidget = new UI.SplitWidget.SplitWidget(true, true, 'timelineTreeViewDetailsSplitWidget');\n    const mainView = new UI.Widget.VBox();\n    const toolbar = new UI.Toolbar.Toolbar('', mainView.element);\n    this.populateToolbar(toolbar);\n\n    this.dataGrid = new DataGrid.SortableDataGrid.SortableDataGrid({\n      displayName: ls`Performance`,\n      columns,\n      refreshCallback: undefined,\n      editCallback: undefined,\n      deleteCallback: undefined\n    });\n    this.dataGrid.addEventListener(DataGrid.DataGrid.Events.SortingChanged, this._sortingChanged, this);\n    this.dataGrid.element.addEventListener('mousemove', this._onMouseMove.bind(this), true);\n    this.dataGrid.setResizeMethod(DataGrid.DataGrid.ResizeMethod.Last);\n    this.dataGrid.setRowContextMenuCallback(this._onContextMenu.bind(this));\n    this.dataGrid.asWidget().show(mainView.element);\n    this.dataGrid.addEventListener(DataGrid.DataGrid.Events.SelectedNode, this._updateDetailsForSelection, this);\n\n    this.detailsView = new UI.Widget.VBox();\n    this.detailsView.element.classList.add('timeline-details-view', 'timeline-details-view-body');\n    this.splitWidget.setMainWidget(mainView);\n    this.splitWidget.setSidebarWidget(this.detailsView);\n    this.splitWidget.hideSidebar();\n    this.splitWidget.show(this.element);\n    this.splitWidget.addEventListener(UI.SplitWidget.Events.ShowModeChanged, this._onShowModeChanged, this);\n\n    /** @type {?TimelineModel.TimelineProfileTree.Node|undefined} */\n    this._lastSelectedNode;\n  }\n\n  /**\n   * @protected\n   * @return {?TimelineModel.TimelineProfileTree.Node|undefined}\n   */\n  lastSelectedNode() {\n    return this._lastSelectedNode;\n  }\n\n  /**\n   * @param {!TimelineSelection} selection\n   */\n  updateContents(selection) {\n    this.setRange(selection.startTime(), selection.endTime());\n  }\n\n  /**\n   * @param {number} startTime\n   * @param {number} endTime\n   */\n  setRange(startTime, endTime) {\n    this._startTime = startTime;\n    this._endTime = endTime;\n    this.refreshTree();\n  }\n\n  /**\n   * @protected\n   * @return {!Array<!TimelineModel.TimelineModelFilter.TimelineModelFilter>}\n   */\n  filters() {\n    return [this._taskFilter, this._textFilter, ...(this._model ? this._model.filters() : [])];\n  }\n\n  /**\n   * @protected\n   * @return {!Array<!TimelineModel.TimelineModelFilter.TimelineModelFilter>}\n   */\n  filtersWithoutTextFilter() {\n    return [this._taskFilter, ...(this._model ? this._model.filters() : [])];\n  }\n\n  /**\n   * @protected\n   * @return {!TimelineRegExp}\n   */\n  textFilter() {\n    return this._textFilter;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  _exposePercentages() {\n    return false;\n  }\n\n  /**\n   * @protected\n   * @param {!UI.Toolbar.Toolbar} toolbar\n   */\n  populateToolbar(toolbar) {\n    const textFilterUI =\n        new UI.Toolbar.ToolbarInput(Common.UIString.UIString('Filter'), this.getToolbarInputAccessiblePlaceHolder());\n    textFilterUI.addEventListener(UI.Toolbar.ToolbarInput.Event.TextChanged, () => {\n      const searchQuery = textFilterUI.value();\n      this._textFilter.setRegExp(searchQuery ? createPlainTextSearchRegex(searchQuery, 'i') : null);\n      this.refreshTree();\n    }, this);\n    this._textFilterUI = textFilterUI;\n    toolbar.appendToolbarItem(textFilterUI);\n  }\n\n  /**\n   * @return {!Array<!SDK.TracingModel.Event>}\n   */\n  _modelEvents() {\n    return this._track ? this._track.syncEvents() : [];\n  }\n\n  /**\n   * @param {?TimelineModel.TimelineProfileTree.Node} node\n   */\n  _onHover(node) {\n  }\n\n  /**\n   * @param {!UI.ContextMenu.ContextMenu} contextMenu\n   * @param {!TimelineModel.TimelineProfileTree.Node} node\n   */\n  _appendContextMenuItems(contextMenu, node) {\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} event\n   * @return {?Element}\n   */\n  _linkifyLocation(event) {\n    if (!this._model) {\n      return null;\n    }\n    const target = this._model.timelineModel().targetByEvent(event);\n    if (!target) {\n      return null;\n    }\n    const frame = TimelineModel.TimelineProfileTree.eventStackFrame(event);\n    if (!frame) {\n      return null;\n    }\n    return this.linkifier.maybeLinkifyConsoleCallFrame(target, frame);\n  }\n\n  /**\n   * @param {!TimelineModel.TimelineProfileTree.Node} treeNode\n   * @param {boolean} suppressSelectedEvent\n   */\n  selectProfileNode(treeNode, suppressSelectedEvent) {\n    const pathToRoot = [];\n    /** @type {?TimelineModel.TimelineProfileTree.Node} */\n    let node = treeNode;\n    for (; node; node = node.parent) {\n      pathToRoot.push(node);\n    }\n    for (let i = pathToRoot.length - 1; i > 0; --i) {\n      const gridNode = this.dataGridNodeForTreeNode(pathToRoot[i]);\n      if (gridNode && gridNode.dataGrid) {\n        gridNode.expand();\n      }\n    }\n    const gridNode = this.dataGridNodeForTreeNode(treeNode);\n    if (gridNode && gridNode.dataGrid) {\n      gridNode.reveal();\n      gridNode.select(suppressSelectedEvent);\n    }\n  }\n\n  /**\n   * @protected\n   */\n  refreshTree() {\n    this.linkifier.reset();\n    this.dataGrid.rootNode().removeChildren();\n    if (!this._model) {\n      this._updateDetailsForSelection();\n      return;\n    }\n    this._root = this._buildTree();\n    const children = this._root.children();\n    let maxSelfTime = 0;\n    let maxTotalTime = 0;\n    const totalUsedTime = this._root.totalTime - this._root.selfTime;\n    for (const child of children.values()) {\n      maxSelfTime = Math.max(maxSelfTime, child.selfTime);\n      maxTotalTime = Math.max(maxTotalTime, child.totalTime);\n    }\n    for (const child of children.values()) {\n      // Exclude the idle time off the total calculation.\n      const gridNode = new TreeGridNode(child, totalUsedTime, maxSelfTime, maxTotalTime, this);\n      this.dataGrid.insertChild(gridNode);\n    }\n    this._sortingChanged();\n    this._updateDetailsForSelection();\n    if (this._searchableView) {\n      this._searchableView.refreshSearch();\n    }\n    const rootNode = this.dataGrid.rootNode();\n    if (rootNode.children.length > 0) {\n      rootNode.children[0].select(/* supressSelectedEvent */ true);\n    }\n  }\n\n  /**\n   * @return {!TimelineModel.TimelineProfileTree.Node}\n   */\n  _buildTree() {\n    throw new Error('Not Implemented');\n  }\n\n  /**\n   * @protected\n   * @param {boolean} doNotAggregate\n   * @param {?function(!SDK.TracingModel.Event):string} groupIdCallback\n   * @return {!TimelineModel.TimelineProfileTree.Node}\n   */\n  buildTopDownTree(doNotAggregate, groupIdCallback) {\n    return new TimelineModel.TimelineProfileTree.TopDownRootNode(\n        this._modelEvents(), this.filters(), this._startTime, this._endTime, doNotAggregate, groupIdCallback);\n  }\n\n  /**\n   * @protected\n   * @param {!Array<!DataGrid.DataGrid.ColumnDescriptor>} columns\n   */\n  populateColumns(columns) {\n    columns.push(\n        /** @type {!DataGrid.DataGrid.ColumnDescriptor} */ ({\n          id: 'self',\n          title: Common.UIString.UIString('Self Time'),\n          width: '120px',\n          fixedWidth: true,\n          sortable: true\n        }));\n    columns.push(\n        /** @type {!DataGrid.DataGrid.ColumnDescriptor} */ ({\n          id: 'total',\n          title: Common.UIString.UIString('Total Time'),\n          width: '120px',\n          fixedWidth: true,\n          sortable: true\n        }));\n    columns.push(/** @type {!DataGrid.DataGrid.ColumnDescriptor} */ (\n        {id: 'activity', title: Common.UIString.UIString('Activity'), disclosure: true, sortable: true}));\n  }\n\n  _sortingChanged() {\n    const columnId = this.dataGrid.sortColumnId();\n    if (!columnId) {\n      return;\n    }\n    let sortFunction;\n    switch (columnId) {\n      case 'startTime':\n        sortFunction = compareStartTime;\n        break;\n      case 'self':\n        sortFunction = compareNumericField.bind(null, 'selfTime');\n        break;\n      case 'total':\n        sortFunction = compareNumericField.bind(null, 'totalTime');\n        break;\n      case 'activity':\n        sortFunction = compareName;\n        break;\n      default:\n        console.assert(false, 'Unknown sort field: ' + columnId);\n        return;\n    }\n    this.dataGrid.sortNodes(sortFunction, !this.dataGrid.isSortOrderAscending());\n\n    /**\n     * @param {string} field\n     * @param {!DataGrid.SortableDataGrid.SortableDataGridNode<!GridNode>} a\n     * @param {!DataGrid.SortableDataGrid.SortableDataGridNode<!GridNode>} b\n     * @return {number}\n     */\n    function compareNumericField(field, a, b) {\n      const nodeA = /** @type {!TreeGridNode} */ (a);\n      const nodeB = /** @type {!TreeGridNode} */ (b);\n      return /** @type {*} */ (nodeA._profileNode)[field] - /** @type {*} */ (nodeB._profileNode)[field];\n    }\n\n    /**\n     * @param {!DataGrid.SortableDataGrid.SortableDataGridNode<!GridNode>} a\n     * @param {!DataGrid.SortableDataGrid.SortableDataGridNode<!GridNode>} b\n     * @return {number}\n     */\n    function compareStartTime(a, b) {\n      const nodeA = /** @type {!TreeGridNode} */ (a);\n      const nodeB = /** @type {!TreeGridNode} */ (b);\n      const eventA = /** @type {!SDK.TracingModel.Event} */ (nodeA._profileNode.event);\n      const eventB = /** @type {!SDK.TracingModel.Event} */ (nodeB._profileNode.event);\n      return eventA.startTime - eventB.startTime;\n    }\n\n    /**\n     * @param {!DataGrid.SortableDataGrid.SortableDataGridNode<!GridNode>} a\n     * @param {!DataGrid.SortableDataGrid.SortableDataGridNode<!GridNode>} b\n     * @return {number}\n     */\n    function compareName(a, b) {\n      const nodeA = /** @type {!TreeGridNode} */ (a);\n      const nodeB = /** @type {!TreeGridNode} */ (b);\n      const eventA = /** @type {!SDK.TracingModel.Event} */ (nodeA._profileNode.event);\n      const eventB = /** @type {!SDK.TracingModel.Event} */ (nodeB._profileNode.event);\n      const nameA = TimelineTreeView.eventNameForSorting(eventA);\n      const nameB = TimelineTreeView.eventNameForSorting(eventB);\n      return nameA.localeCompare(nameB);\n    }\n  }\n\n  _onShowModeChanged() {\n    if (this.splitWidget.showMode() === UI.SplitWidget.ShowMode.OnlyMain) {\n      return;\n    }\n    this._lastSelectedNode = undefined;\n    this._updateDetailsForSelection();\n  }\n\n  _updateDetailsForSelection() {\n    const selectedNode = this.dataGrid.selectedNode ?\n        /** @type {!TreeGridNode} */ (this.dataGrid.selectedNode)._profileNode :\n        null;\n    if (selectedNode === this._lastSelectedNode) {\n      return;\n    }\n    this._lastSelectedNode = selectedNode;\n    if (this.splitWidget.showMode() === UI.SplitWidget.ShowMode.OnlyMain) {\n      return;\n    }\n    this.detailsView.detachChildWidgets();\n    this.detailsView.element.removeChildren();\n    if (selectedNode && this._showDetailsForNode(selectedNode)) {\n      return;\n    }\n    const banner = this.detailsView.element.createChild('div', 'full-widget-dimmed-banner');\n    UI.UIUtils.createTextChild(banner, Common.UIString.UIString('Select item for details.'));\n  }\n\n  /**\n   * @param {!TimelineModel.TimelineProfileTree.Node} node\n   * @return {boolean}\n   */\n  _showDetailsForNode(node) {\n    return false;\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _onMouseMove(event) {\n    const gridNode = event.target && (event.target instanceof Node) ?\n        /** @type {?TreeGridNode} */ (this.dataGrid.dataGridNodeFromNode(/** @type {!Node} */ (event.target))) :\n        null;\n    const profileNode = gridNode && gridNode._profileNode;\n    if (profileNode === this._lastHoveredProfileNode) {\n      return;\n    }\n    this._lastHoveredProfileNode = profileNode;\n    this._onHover(profileNode);\n  }\n\n  /**\n   * @param {!UI.ContextMenu.ContextMenu} contextMenu\n   * @param {!DataGrid.DataGrid.DataGridNode<!GridNode>} eventGridNode\n   */\n  _onContextMenu(contextMenu, eventGridNode) {\n    const gridNode = /** @type {!GridNode} */ (eventGridNode);\n    if (gridNode._linkElement && !contextMenu.containsTarget(gridNode._linkElement)) {\n      contextMenu.appendApplicableItems(gridNode._linkElement);\n    }\n    const profileNode = gridNode._profileNode;\n    if (profileNode) {\n      this._appendContextMenuItems(contextMenu, profileNode);\n    }\n  }\n\n  /**\n   * @param {!TimelineModel.TimelineProfileTree.Node} treeNode\n   * @protected\n   * @return {?GridNode}\n   */\n  dataGridNodeForTreeNode(treeNode) {\n    return profileNodeToTreeGridNode.get(treeNode) || null;\n  }\n\n  // UI.SearchableView.Searchable implementation\n\n  /**\n   * @override\n   */\n  searchCanceled() {\n    this._searchResults = [];\n    this._currentResult = 0;\n  }\n\n  /**\n   * @override\n   * @param {!UI.SearchableView.SearchConfig} searchConfig\n   * @param {boolean} shouldJump\n   * @param {boolean=} jumpBackwards\n   */\n  performSearch(searchConfig, shouldJump, jumpBackwards) {\n    this._searchResults = [];\n    this._currentResult = 0;\n    if (!this._root) {\n      return;\n    }\n    const searchRegex = searchConfig.toSearchRegex();\n    this._searchResults = this._root.searchTree(event => TimelineUIUtils.testContentMatching(event, searchRegex));\n    this._searchableView.updateSearchMatchesCount(this._searchResults.length);\n  }\n\n  /**\n   * @override\n   */\n  jumpToNextSearchResult() {\n    if (!this._searchResults.length) {\n      return;\n    }\n    this.selectProfileNode(this._searchResults[this._currentResult], false);\n    this._currentResult = Platform.NumberUtilities.mod(this._currentResult + 1, this._searchResults.length);\n  }\n\n  /**\n   * @override\n   */\n  jumpToPreviousSearchResult() {\n    if (!this._searchResults.length) {\n      return;\n    }\n    this.selectProfileNode(this._searchResults[this._currentResult], false);\n    this._currentResult = Platform.NumberUtilities.mod(this._currentResult - 1, this._searchResults.length);\n  }\n\n  /**\n   * @override\n   * @return {boolean}\n   */\n  supportsCaseSensitiveSearch() {\n    return true;\n  }\n\n  /**\n   * @override\n   * @return {boolean}\n   */\n  supportsRegexSearch() {\n    return true;\n  }\n}\n\n/**\n * @extends {DataGrid.SortableDataGrid.SortableDataGridNode<!GridNode>}\n */\nexport class GridNode extends DataGrid.SortableDataGrid.SortableDataGridNode {\n  /**\n   * @param {!TimelineModel.TimelineProfileTree.Node} profileNode\n   * @param {number} grandTotalTime\n   * @param {number} maxSelfTime\n   * @param {number} maxTotalTime\n   * @param {!TimelineTreeView} treeView\n   */\n  constructor(profileNode, grandTotalTime, maxSelfTime, maxTotalTime, treeView) {\n    super(null, false);\n    this._populated = false;\n    this._profileNode = profileNode;\n    this._treeView = treeView;\n    this._grandTotalTime = grandTotalTime;\n    this._maxSelfTime = maxSelfTime;\n    this._maxTotalTime = maxTotalTime;\n    this._linkElement = null;\n  }\n\n  /**\n   * @override\n   * @param {string} columnId\n   * @return {!HTMLElement}\n   */\n  createCell(columnId) {\n    if (columnId === 'activity') {\n      return this._createNameCell(columnId);\n    }\n    return this._createValueCell(columnId) || super.createCell(columnId);\n  }\n\n  /**\n   * @param {string} columnId\n   * @return {!HTMLElement}\n   */\n  _createNameCell(columnId) {\n    const cell = this.createTD(columnId);\n    const container = cell.createChild('div', 'name-container');\n    const iconContainer = container.createChild('div', 'activity-icon-container');\n    const icon = iconContainer.createChild('div', 'activity-icon');\n    const name = container.createChild('div', 'activity-name');\n    const event = this._profileNode.event;\n    if (this._profileNode.isGroupNode()) {\n      const treeView = /** @type {!AggregatedTimelineTreeView} */ (this._treeView);\n      const info = treeView._displayInfoForGroupNode(this._profileNode);\n      name.textContent = info.name;\n      icon.style.backgroundColor = info.color;\n      if (info.icon) {\n        iconContainer.insertBefore(info.icon, icon);\n      }\n    } else if (event) {\n      const data = event.args['data'];\n      const deoptReason = data && data['deoptReason'];\n      if (deoptReason) {\n        container.createChild('div', 'activity-warning').title =\n            Common.UIString.UIString('Not optimized: %s', deoptReason);\n      }\n\n      name.textContent = TimelineUIUtils.eventTitle(event);\n      this._linkElement = this._treeView._linkifyLocation(event);\n      if (this._linkElement) {\n        container.createChild('div', 'activity-link').appendChild(this._linkElement);\n      }\n      const eventStyle = TimelineUIUtils.eventStyle(event);\n      const eventCategory = eventStyle.category;\n      UI.ARIAUtils.setAccessibleName(icon, eventCategory.title);\n      icon.style.backgroundColor = eventCategory.color;\n    }\n    return cell;\n  }\n\n  /**\n   * @param {string} columnId\n   * @return {?HTMLElement}\n   */\n  _createValueCell(columnId) {\n    if (columnId !== 'self' && columnId !== 'total' && columnId !== 'startTime') {\n      return null;\n    }\n\n    let showPercents = false;\n    /** @type {number} */\n    let value;\n    /** @type {number|undefined} */\n    let maxTime;\n    /** @type {?SDK.TracingModel.Event} */\n    let event;\n    switch (columnId) {\n      case 'startTime':\n        event = this._profileNode.event;\n        if (!this._treeView._model) {\n          throw new Error('Unable to find model for tree view');\n        }\n        value = (event ? event.startTime : 0) - this._treeView._model.timelineModel().minimumRecordTime();\n        break;\n      case 'self':\n        value = this._profileNode.selfTime;\n        maxTime = this._maxSelfTime;\n        showPercents = true;\n        break;\n      case 'total':\n        value = this._profileNode.totalTime;\n        maxTime = this._maxTotalTime;\n        showPercents = true;\n        break;\n      default:\n        return null;\n    }\n    const cell = this.createTD(columnId);\n    cell.className = 'numeric-column';\n    const textDiv = cell.createChild('div');\n    textDiv.createChild('span').textContent = Common.UIString.UIString('%.1f\\xa0ms', value);\n\n    if (showPercents && this._treeView._exposePercentages()) {\n      textDiv.createChild('span', 'percent-column').textContent =\n          Common.UIString.UIString('%.1f\\xa0%%', value / this._grandTotalTime * 100);\n    }\n    if (maxTime) {\n      textDiv.classList.add('background-percent-bar');\n      cell.createChild('div', 'background-bar-container').createChild('div', 'background-bar').style.width =\n          (value * 100 / maxTime).toFixed(1) + '%';\n    }\n    return cell;\n  }\n}\n\nexport class TreeGridNode extends GridNode {\n  /**\n   * @param {!TimelineModel.TimelineProfileTree.Node} profileNode\n   * @param {number} grandTotalTime\n   * @param {number} maxSelfTime\n   * @param {number} maxTotalTime\n   * @param {!TimelineTreeView} treeView\n   */\n  constructor(profileNode, grandTotalTime, maxSelfTime, maxTotalTime, treeView) {\n    super(profileNode, grandTotalTime, maxSelfTime, maxTotalTime, treeView);\n    this.setHasChildren(this._profileNode.hasChildren());\n    profileNodeToTreeGridNode.set(profileNode, this);\n  }\n\n  /**\n   * @override\n   */\n  populate() {\n    if (this._populated) {\n      return;\n    }\n    this._populated = true;\n    if (!this._profileNode.children) {\n      return;\n    }\n    for (const node of this._profileNode.children().values()) {\n      const gridNode =\n          new TreeGridNode(node, this._grandTotalTime, this._maxSelfTime, this._maxTotalTime, this._treeView);\n      this.insertChildOrdered(gridNode);\n    }\n  }\n}\n\nTreeGridNode._gridNodeSymbol = Symbol('treeGridNode');\n\n/** @type {!WeakMap<!TimelineModel.TimelineProfileTree.Node, !TreeGridNode>} */\nconst profileNodeToTreeGridNode = new WeakMap();\n\nexport class AggregatedTimelineTreeView extends TimelineTreeView {\n  constructor() {\n    super();\n    this._groupBySetting = Common.Settings.Settings.instance().createSetting(\n        'timelineTreeGroupBy', AggregatedTimelineTreeView.GroupBy.None);\n    this._groupBySetting.addChangeListener(this.refreshTree.bind(this));\n    this.init();\n    this._stackView = new TimelineStackView(this);\n    this._stackView.addEventListener(\n        TimelineStackView.Events.SelectionChanged, this._onStackViewSelectionChanged, this);\n    /** @type {!Map<string, string>} */\n    this._productByURLCache = new Map();\n    /** @type {!Map<string, string>} */\n    this._colorByURLCache = new Map();\n    this._executionContextNamesByOrigin = new Map();\n  }\n\n  /**\n   * @override\n   * @param {?PerformanceModel} model\n   * @param {?TimelineModel.TimelineModel.Track} track\n   */\n  setModel(model, track) {\n    super.setModel(model, track);\n  }\n\n  /**\n   * @override\n   * @param {!TimelineSelection} selection\n   */\n  updateContents(selection) {\n    this._updateExtensionResolver();\n    super.updateContents(selection);\n    const rootNode = this.dataGrid.rootNode();\n    if (rootNode.children.length) {\n      rootNode.children[0].select(/* suppressSelectedEvent */ true);\n    }\n  }\n\n  _updateExtensionResolver() {\n    this._executionContextNamesByOrigin = new Map();\n    for (const runtimeModel of SDK.SDKModel.TargetManager.instance().models(SDK.RuntimeModel.RuntimeModel)) {\n      for (const context of runtimeModel.executionContexts()) {\n        this._executionContextNamesByOrigin.set(context.origin, context.name);\n      }\n    }\n  }\n\n  /**\n   * @param {string} name\n   * @return {string}\n   * @this {AggregatedTimelineTreeView}\n   */\n  _beautifyDomainName(name) {\n    if (AggregatedTimelineTreeView._isExtensionInternalURL(name)) {\n      name = Common.UIString.UIString('[Chrome extensions overhead]');\n    } else if (AggregatedTimelineTreeView._isV8NativeURL(name)) {\n      name = Common.UIString.UIString('[V8 Runtime]');\n    } else if (name.startsWith('chrome-extension')) {\n      name = this._executionContextNamesByOrigin.get(name) || name;\n    }\n    return name;\n  }\n\n  /**\n   * @param {!TimelineModel.TimelineProfileTree.Node} node\n   * @return {!{name: string, color: string, icon: (!Element|undefined)}}\n   */\n  _displayInfoForGroupNode(node) {\n    const categories = TimelineUIUtils.categories();\n    const color = node.id ? TimelineUIUtils.eventColor(/** @type {!SDK.TracingModel.Event} */ (node.event)) :\n                            categories['other'].color;\n    const unattributed = Common.UIString.UIString('[unattributed]');\n\n    const id = typeof node.id === 'symbol' ? undefined : node.id;\n\n    switch (this._groupBySetting.get()) {\n      case AggregatedTimelineTreeView.GroupBy.Category: {\n        const category = id ? categories[id] || categories['other'] : {title: unattributed, color: unattributed};\n        return {name: category.title, color: category.color, icon: undefined};\n      }\n\n      case AggregatedTimelineTreeView.GroupBy.Domain:\n      case AggregatedTimelineTreeView.GroupBy.Subdomain: {\n        const domainName = id ? this._beautifyDomainName(id) : undefined;\n        return {name: domainName || unattributed, color: color, icon: undefined};\n      }\n\n      case AggregatedTimelineTreeView.GroupBy.EventName: {\n        if (!node.event) {\n          throw new Error('Unable to find event for group by operation');\n        }\n        const name = node.event.name === TimelineModel.TimelineModel.RecordType.JSFrame ?\n            Common.UIString.UIString('JavaScript') :\n            TimelineUIUtils.eventTitle(node.event);\n        return {\n          name: name,\n          color: node.event.name === TimelineModel.TimelineModel.RecordType.JSFrame ?\n              TimelineUIUtils.eventStyle(node.event).category.color :\n              color,\n          icon: undefined,\n        };\n      }\n\n      case AggregatedTimelineTreeView.GroupBy.URL:\n        break;\n\n      case AggregatedTimelineTreeView.GroupBy.Frame: {\n        if (!this._model) {\n          throw new Error('Unable to find model for group by frame operation');\n        }\n        const frame = id ? this._model.timelineModel().pageFrameById(id) : undefined;\n        const frameName = frame ? TimelineUIUtils.displayNameForFrame(frame, 80) : Common.UIString.UIString('Page');\n        return {name: frameName, color: color, icon: undefined};\n      }\n\n      default:\n        console.assert(false, 'Unexpected grouping type');\n    }\n    return {name: id || unattributed, color: color, icon: undefined};\n  }\n\n  /**\n   * @override\n   * @param {!UI.Toolbar.Toolbar} toolbar\n   */\n  populateToolbar(toolbar) {\n    super.populateToolbar(toolbar);\n    const groupBy = AggregatedTimelineTreeView.GroupBy;\n    const options = [\n      {label: Common.UIString.UIString('No Grouping'), value: groupBy.None},\n      {label: Common.UIString.UIString('Group by Activity'), value: groupBy.EventName},\n      {label: Common.UIString.UIString('Group by Category'), value: groupBy.Category},\n      {label: Common.UIString.UIString('Group by Domain'), value: groupBy.Domain},\n      {label: Common.UIString.UIString('Group by Frame'), value: groupBy.Frame},\n      {label: Common.UIString.UIString('Group by Subdomain'), value: groupBy.Subdomain},\n      {label: Common.UIString.UIString('Group by URL'), value: groupBy.URL},\n    ];\n    toolbar.appendToolbarItem(new UI.Toolbar.ToolbarSettingComboBox(options, this._groupBySetting, ls`Group by`));\n    toolbar.appendSpacer();\n    toolbar.appendToolbarItem(this.splitWidget.createShowHideSidebarButton(Common.UIString.UIString('heaviest stack')));\n  }\n\n  /**\n   * @param {!TimelineModel.TimelineProfileTree.Node} treeNode\n   * @return {!Array<!TimelineModel.TimelineProfileTree.Node>}\n   */\n  _buildHeaviestStack(treeNode) {\n    console.assert(Boolean(treeNode.parent), 'Attempt to build stack for tree root');\n    let result = [];\n    // Do not add root to the stack, as it's the tree itself.\n    for (let node = treeNode; node && node.parent; node = node.parent) {\n      result.push(node);\n    }\n    result = result.reverse();\n    for (let node = treeNode; node && node.children() && node.children().size;) {\n      const children = Array.from(node.children().values());\n      node = children.reduce((a, b) => a.totalTime > b.totalTime ? a : b);\n      result.push(node);\n    }\n    return result;\n  }\n\n  /**\n   * @override\n   * @return {boolean}\n   */\n  _exposePercentages() {\n    return true;\n  }\n\n  _onStackViewSelectionChanged() {\n    const treeNode = this._stackView.selectedTreeNode();\n    if (treeNode) {\n      this.selectProfileNode(treeNode, true);\n    }\n  }\n\n  /**\n   * @override\n   * @param {!TimelineModel.TimelineProfileTree.Node} node\n   * @return {boolean}\n   */\n  _showDetailsForNode(node) {\n    const stack = this._buildHeaviestStack(node);\n    this._stackView.setStack(stack, node);\n    this._stackView.show(this.detailsView.element);\n    return true;\n  }\n\n  /**\n   * @param {!AggregatedTimelineTreeView.GroupBy} groupBy\n   * @return {?function(!SDK.TracingModel.Event):string}\n   */\n  _groupingFunction(groupBy) {\n    const GroupBy = AggregatedTimelineTreeView.GroupBy;\n    switch (groupBy) {\n      case GroupBy.None:\n        return null;\n      case GroupBy.EventName:\n        return event => TimelineUIUtils.eventStyle(event).title;\n      case GroupBy.Category:\n        return event => TimelineUIUtils.eventStyle(event).category.name;\n      case GroupBy.Subdomain:\n        return this._domainByEvent.bind(this, false);\n      case GroupBy.Domain:\n        return this._domainByEvent.bind(this, true);\n      case GroupBy.URL:\n        return event => TimelineModel.TimelineProfileTree.eventURL(event) || '';\n      case GroupBy.Frame:\n        return event => TimelineModel.TimelineModel.TimelineData.forEvent(event).frameId;\n      default:\n        console.assert(false, `Unexpected aggregation setting: ${groupBy}`);\n        return null;\n    }\n  }\n\n  /**\n   * @param {boolean} groupSubdomains\n   * @param {!SDK.TracingModel.Event} event\n   * @return {string}\n   */\n  _domainByEvent(groupSubdomains, event) {\n    const url = TimelineModel.TimelineProfileTree.eventURL(event);\n    if (!url) {\n      return '';\n    }\n    if (AggregatedTimelineTreeView._isExtensionInternalURL(url)) {\n      return AggregatedTimelineTreeView._extensionInternalPrefix;\n    }\n    if (AggregatedTimelineTreeView._isV8NativeURL(url)) {\n      return AggregatedTimelineTreeView._v8NativePrefix;\n    }\n    const parsedURL = Common.ParsedURL.ParsedURL.fromString(url);\n    if (!parsedURL) {\n      return '';\n    }\n    if (parsedURL.scheme === 'chrome-extension') {\n      return parsedURL.scheme + '://' + parsedURL.host;\n    }\n    if (!groupSubdomains) {\n      return parsedURL.host;\n    }\n    if (/^[.0-9]+$/.test(parsedURL.host)) {\n      return parsedURL.host;\n    }\n    const domainMatch = /([^.]*\\.)?[^.]*$/.exec(parsedURL.host);\n    return domainMatch && domainMatch[0] || '';\n  }\n\n  /**\n   * @override\n   * @param {!UI.ContextMenu.ContextMenu} contextMenu\n   * @param {!TimelineModel.TimelineProfileTree.Node} node\n   */\n  _appendContextMenuItems(contextMenu, node) {\n    if (this._groupBySetting.get() !== AggregatedTimelineTreeView.GroupBy.Frame) {\n      return;\n    }\n    if (!node.isGroupNode()) {\n      return;\n    }\n    if (!this._model) {\n      return;\n    }\n    const frame = this._model.timelineModel().pageFrameById(/** @type {string} */ (node.id));\n    if (!frame || !frame.ownerNode) {\n      return;\n    }\n    contextMenu.appendApplicableItems(frame.ownerNode);\n  }\n\n  /**\n   * @param {string} url\n   * @return {boolean}\n   */\n  static _isExtensionInternalURL(url) {\n    return url.startsWith(AggregatedTimelineTreeView._extensionInternalPrefix);\n  }\n\n  /**\n   * @param {string} url\n   * @return {boolean}\n   */\n  static _isV8NativeURL(url) {\n    return url.startsWith(AggregatedTimelineTreeView._v8NativePrefix);\n  }\n}\n\nAggregatedTimelineTreeView._extensionInternalPrefix = 'extensions::';\nAggregatedTimelineTreeView._v8NativePrefix = 'native ';\n\n/**\n * @enum {string}\n */\nAggregatedTimelineTreeView.GroupBy = {\n  None: 'None',\n  EventName: 'EventName',\n  Category: 'Category',\n  Domain: 'Domain',\n  Subdomain: 'Subdomain',\n  URL: 'URL',\n  Frame: 'Frame'\n};\n\nexport class CallTreeTimelineTreeView extends AggregatedTimelineTreeView {\n  constructor() {\n    super();\n    this.dataGrid.markColumnAsSortedBy('total', DataGrid.DataGrid.Order.Descending);\n  }\n\n  /**\n   * @override\n   * @return {string}\n   */\n  getToolbarInputAccessiblePlaceHolder() {\n    return ls`Filter call tree`;\n  }\n\n  /**\n   * @override\n   * @return {!TimelineModel.TimelineProfileTree.Node}\n   */\n  _buildTree() {\n    const grouping = this._groupBySetting.get();\n    return this.buildTopDownTree(false, this._groupingFunction(grouping));\n  }\n}\n\nexport class BottomUpTimelineTreeView extends AggregatedTimelineTreeView {\n  constructor() {\n    super();\n    this.dataGrid.markColumnAsSortedBy('self', DataGrid.DataGrid.Order.Descending);\n  }\n\n  /**\n   * @override\n   * @return {string}\n   */\n  getToolbarInputAccessiblePlaceHolder() {\n    return ls`Filter bottom-up`;\n  }\n\n  /**\n   * @override\n   * @return {!TimelineModel.TimelineProfileTree.Node}\n   */\n  _buildTree() {\n    return new TimelineModel.TimelineProfileTree.BottomUpRootNode(\n        this._modelEvents(), this.textFilter(), this.filtersWithoutTextFilter(), this._startTime, this._endTime,\n        this._groupingFunction(this._groupBySetting.get()));\n  }\n}\n\nexport class TimelineStackView extends UI.Widget.VBox {\n  /**\n   * @param {!TimelineTreeView} treeView\n   */\n  constructor(treeView) {\n    super();\n    const header = this.element.createChild('div', 'timeline-stack-view-header');\n    header.textContent = Common.UIString.UIString('Heaviest stack');\n    this._treeView = treeView;\n    const columns = /** @type {!Array<!DataGrid.DataGrid.ColumnDescriptor>} */ ([\n      {id: 'total', title: Common.UIString.UIString('Total Time'), fixedWidth: true, width: '110px'},\n      {id: 'activity', title: Common.UIString.UIString('Activity')}\n    ]);\n    this._dataGrid = new DataGrid.ViewportDataGrid.ViewportDataGrid({\n      displayName: ls`Timeline Stack`,\n      columns,\n      deleteCallback: undefined,\n      editCallback: undefined,\n      refreshCallback: undefined\n    });\n    this._dataGrid.setResizeMethod(DataGrid.DataGrid.ResizeMethod.Last);\n    this._dataGrid.addEventListener(DataGrid.DataGrid.Events.SelectedNode, this._onSelectionChanged, this);\n    this._dataGrid.asWidget().show(this.element);\n  }\n\n  /**\n   * @param {!Array<!TimelineModel.TimelineProfileTree.Node>} stack\n   * @param {!TimelineModel.TimelineProfileTree.Node} selectedNode\n   */\n  setStack(stack, selectedNode) {\n    const rootNode = this._dataGrid.rootNode();\n    rootNode.removeChildren();\n    let nodeToReveal = null;\n    const totalTime = Math.max.apply(Math, stack.map(node => node.totalTime));\n    for (const node of stack) {\n      const gridNode = new GridNode(node, totalTime, totalTime, totalTime, this._treeView);\n      rootNode.appendChild(gridNode);\n      if (node === selectedNode) {\n        nodeToReveal = gridNode;\n      }\n    }\n    if (nodeToReveal) {\n      nodeToReveal.revealAndSelect();\n    }\n  }\n\n  /**\n   * @return {?TimelineModel.TimelineProfileTree.Node}\n   */\n  selectedTreeNode() {\n    const selectedNode = this._dataGrid.selectedNode;\n    return selectedNode && /** @type {!GridNode} */ (selectedNode)._profileNode;\n  }\n\n  _onSelectionChanged() {\n    this.dispatchEventToListeners(TimelineStackView.Events.SelectionChanged);\n  }\n}\n\n/** @enum {symbol} */\nTimelineStackView.Events = {\n  SelectionChanged: Symbol('SelectionChanged')\n};\n"]}