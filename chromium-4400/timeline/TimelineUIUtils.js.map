{"version":3,"file":"TimelineUIUtils.js","sourceRoot":"","sources":["../../../../../front_end/timeline/TimelineUIUtils.js"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2013 Google Inc. All rights reserved.\n * Copyright (C) 2012 Intel Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Bindings from '../bindings/bindings.js';\nimport * as Common from '../common/common.js';\nimport * as Components from '../components/components.js';\nimport * as PerfUI from '../perf_ui/perf_ui.js';\nimport * as Platform from '../platform/platform.js';\nimport {ls} from '../platform/platform.js';\nimport * as SDK from '../sdk/sdk.js';\nimport * as TimelineModel from '../timeline_model/timeline_model.js';\nimport * as UI from '../ui/ui.js';\n\nimport {CLSRect} from './CLSLinkifier.js';\nimport {TimelinePanel, TimelineSelection} from './TimelinePanel.js';\n\n/** @type {!Object.<!TimelineModel.TimelineModel.RecordType, !TimelineRecordStyle>} */\nlet eventStylesMap;\n\n/** @type {!Map<!TimelineModel.TimelineIRModel.InputEvents, string>} */\nlet inputEventToDisplayName;\n\n/** @type {!Map<!TimelineModel.TimelineIRModel.Phases, !{color: string, label: string}>} */\nlet interactionPhaseStylesMap;\n\n/** @type {!Object.<string, !TimelineCategory>} */\nlet categories;\n\n/** @type {!Array<string>} */\nlet eventCategories;\n\n/** @type {!Array.<!EventDispatchTypeDescriptor>} */\nlet eventDispatchDesciptors;\n\n/** @type {!Common.Color.Generator} */\nlet colorGenerator;\n\n/** @type {!WeakMap<!TimelineModel.TimelineModel.NetworkRequest, !HTMLImageElement>} */\nconst requestPreviewElements = new WeakMap();\n\nexport class TimelineUIUtils {\n  /**\n   * @return {!Object.<string, !TimelineRecordStyle>}\n   */\n  static _initEventStyles() {\n    if (eventStylesMap) {\n      return eventStylesMap;\n    }\n\n    const type = TimelineModel.TimelineModel.RecordType;\n    const categories = TimelineUIUtils.categories();\n    const rendering = categories['rendering'];\n    const scripting = categories['scripting'];\n    const loading = categories['loading'];\n    const experience = categories['experience'];\n    const painting = categories['painting'];\n    const other = categories['other'];\n    const idle = categories['idle'];\n\n    /** @type {!Object.<!TimelineModel.TimelineModel.RecordType, !TimelineRecordStyle>} */\n    const eventStyles = {};\n    eventStyles[type.Task] = new TimelineRecordStyle(ls`Task`, other);\n    eventStyles[type.Program] = new TimelineRecordStyle(ls`Other`, other);\n    eventStyles[type.Animation] = new TimelineRecordStyle(ls`Animation`, rendering);\n    eventStyles[type.EventDispatch] = new TimelineRecordStyle(ls`Event`, scripting);\n    eventStyles[type.RequestMainThreadFrame] = new TimelineRecordStyle(ls`Request Main Thread Frame`, rendering, true);\n    eventStyles[type.BeginFrame] = new TimelineRecordStyle(ls`Frame Start`, rendering, true);\n    eventStyles[type.BeginMainThreadFrame] = new TimelineRecordStyle(ls`Frame Start (main thread)`, rendering, true);\n    eventStyles[type.DrawFrame] = new TimelineRecordStyle(ls`Draw Frame`, rendering, true);\n    eventStyles[type.HitTest] = new TimelineRecordStyle(ls`Hit Test`, rendering);\n    eventStyles[type.ScheduleStyleRecalculation] = new TimelineRecordStyle(ls`Schedule Style Recalculation`, rendering);\n    eventStyles[type.RecalculateStyles] = new TimelineRecordStyle(ls`Recalculate Style`, rendering);\n    eventStyles[type.UpdateLayoutTree] = new TimelineRecordStyle(ls`Recalculate Style`, rendering);\n    eventStyles[type.InvalidateLayout] = new TimelineRecordStyle(ls`Invalidate Layout`, rendering, true);\n    eventStyles[type.Layout] = new TimelineRecordStyle(ls`Layout`, rendering);\n    eventStyles[type.PaintSetup] = new TimelineRecordStyle(ls`Paint Setup`, painting);\n    eventStyles[type.PaintImage] = new TimelineRecordStyle(ls`Paint Image`, painting, true);\n    eventStyles[type.UpdateLayer] = new TimelineRecordStyle(ls`Update Layer`, painting, true);\n    eventStyles[type.UpdateLayerTree] = new TimelineRecordStyle(ls`Update Layer Tree`, rendering);\n    eventStyles[type.Paint] = new TimelineRecordStyle(ls`Paint`, painting);\n    eventStyles[type.RasterTask] = new TimelineRecordStyle(ls`Rasterize Paint`, painting);\n    eventStyles[type.ScrollLayer] = new TimelineRecordStyle(ls`Scroll`, rendering);\n    eventStyles[type.CompositeLayers] = new TimelineRecordStyle(ls`Composite Layers`, painting);\n    eventStyles[type.ParseHTML] = new TimelineRecordStyle(ls`Parse HTML`, loading);\n    eventStyles[type.ParseAuthorStyleSheet] = new TimelineRecordStyle(ls`Parse Stylesheet`, loading);\n    eventStyles[type.TimerInstall] = new TimelineRecordStyle(ls`Install Timer`, scripting);\n    eventStyles[type.TimerRemove] = new TimelineRecordStyle(ls`Remove Timer`, scripting);\n    eventStyles[type.TimerFire] = new TimelineRecordStyle(ls`Timer Fired`, scripting);\n    eventStyles[type.XHRReadyStateChange] = new TimelineRecordStyle(ls`XHR Ready State Change`, scripting);\n    eventStyles[type.XHRLoad] = new TimelineRecordStyle(ls`XHR Load`, scripting);\n    eventStyles[type.CompileScript] = new TimelineRecordStyle(ls`Compile Script`, scripting);\n    eventStyles[type.EvaluateScript] = new TimelineRecordStyle(ls`Evaluate Script`, scripting);\n    eventStyles[type.CompileModule] = new TimelineRecordStyle(ls`Compile Module`, scripting);\n    eventStyles[type.EvaluateModule] = new TimelineRecordStyle(ls`Evaluate Module`, scripting);\n    eventStyles[type.StreamingCompileScript] = new TimelineRecordStyle(ls`Streaming Compile Task`, other);\n    eventStyles[type.StreamingCompileScriptWaiting] = new TimelineRecordStyle(ls`Waiting for Network`, idle);\n    eventStyles[type.StreamingCompileScriptParsing] = new TimelineRecordStyle(ls`Parse and Compile`, scripting);\n    eventStyles[type.WasmStreamFromResponseCallback] = new TimelineRecordStyle(ls`Streaming Wasm Response`, scripting);\n    eventStyles[type.WasmCompiledModule] = new TimelineRecordStyle(ls`Compiled Wasm Module`, scripting);\n    eventStyles[type.WasmCachedModule] = new TimelineRecordStyle(ls`Cached Wasm Module`, scripting);\n    eventStyles[type.WasmModuleCacheHit] = new TimelineRecordStyle(ls`Wasm Module Cache Hit`, scripting);\n    eventStyles[type.WasmModuleCacheInvalid] = new TimelineRecordStyle(ls`Wasm Module Cache Invalid`, scripting);\n    eventStyles[type.FrameStartedLoading] = new TimelineRecordStyle(ls`Frame Started Loading`, loading, true);\n    eventStyles[type.MarkLoad] = new TimelineRecordStyle(ls`Onload Event`, scripting, true);\n    eventStyles[type.MarkDOMContent] = new TimelineRecordStyle(ls`DOMContentLoaded Event`, scripting, true);\n    eventStyles[type.MarkFirstPaint] = new TimelineRecordStyle(ls`First Paint`, painting, true);\n    eventStyles[type.MarkFCP] = new TimelineRecordStyle(ls`First Contentful Paint`, rendering, true);\n    eventStyles[type.MarkLCPCandidate] = new TimelineRecordStyle(ls`Largest Contentful Paint`, rendering, true);\n    eventStyles[type.TimeStamp] = new TimelineRecordStyle(ls`Timestamp`, scripting);\n    eventStyles[type.ConsoleTime] = new TimelineRecordStyle(ls`Console Time`, scripting);\n    eventStyles[type.UserTiming] = new TimelineRecordStyle(ls`User Timing`, scripting);\n    eventStyles[type.ResourceWillSendRequest] = new TimelineRecordStyle(ls`Will Send Request`, loading);\n    eventStyles[type.ResourceSendRequest] = new TimelineRecordStyle(ls`Send Request`, loading);\n    eventStyles[type.ResourceReceiveResponse] = new TimelineRecordStyle(ls`Receive Response`, loading);\n    eventStyles[type.ResourceFinish] = new TimelineRecordStyle(ls`Finish Loading`, loading);\n    eventStyles[type.ResourceReceivedData] = new TimelineRecordStyle(ls`Receive Data`, loading);\n    eventStyles[type.RunMicrotasks] = new TimelineRecordStyle(ls`Run Microtasks`, scripting);\n    eventStyles[type.FunctionCall] = new TimelineRecordStyle(ls`Function Call`, scripting);\n    eventStyles[type.GCEvent] = new TimelineRecordStyle(ls`GC Event`, scripting);\n    eventStyles[type.MajorGC] = new TimelineRecordStyle(ls`Major GC`, scripting);\n    eventStyles[type.MinorGC] = new TimelineRecordStyle(ls`Minor GC`, scripting);\n    eventStyles[type.JSFrame] = new TimelineRecordStyle(ls`JS Frame`, scripting);\n    eventStyles[type.RequestAnimationFrame] = new TimelineRecordStyle(ls`Request Animation Frame`, scripting);\n    eventStyles[type.CancelAnimationFrame] = new TimelineRecordStyle(ls`Cancel Animation Frame`, scripting);\n    eventStyles[type.FireAnimationFrame] = new TimelineRecordStyle(ls`Animation Frame Fired`, scripting);\n    eventStyles[type.RequestIdleCallback] = new TimelineRecordStyle(ls`Request Idle Callback`, scripting);\n    eventStyles[type.CancelIdleCallback] = new TimelineRecordStyle(ls`Cancel Idle Callback`, scripting);\n    eventStyles[type.FireIdleCallback] = new TimelineRecordStyle(ls`Fire Idle Callback`, scripting);\n    eventStyles[type.WebSocketCreate] = new TimelineRecordStyle(ls`Create WebSocket`, scripting);\n    eventStyles[type.WebSocketSendHandshakeRequest] = new TimelineRecordStyle(ls`Send WebSocket Handshake`, scripting);\n    eventStyles[type.WebSocketReceiveHandshakeResponse] =\n        new TimelineRecordStyle(ls`Receive WebSocket Handshake`, scripting);\n    eventStyles[type.WebSocketDestroy] = new TimelineRecordStyle(ls`Destroy WebSocket`, scripting);\n    eventStyles[type.EmbedderCallback] = new TimelineRecordStyle(ls`Embedder Callback`, scripting);\n    eventStyles[type.DecodeImage] = new TimelineRecordStyle(ls`Image Decode`, painting);\n    eventStyles[type.ResizeImage] = new TimelineRecordStyle(ls`Image Resize`, painting);\n    eventStyles[type.GPUTask] = new TimelineRecordStyle(ls`GPU`, categories['gpu']);\n    eventStyles[type.LatencyInfo] = new TimelineRecordStyle(ls`Input Latency`, scripting);\n\n    eventStyles[type.GCCollectGarbage] = new TimelineRecordStyle(ls`DOM GC`, scripting);\n\n    eventStyles[type.CryptoDoEncrypt] = new TimelineRecordStyle(ls`Encrypt`, scripting);\n    eventStyles[type.CryptoDoEncryptReply] = new TimelineRecordStyle(ls`Encrypt Reply`, scripting);\n    eventStyles[type.CryptoDoDecrypt] = new TimelineRecordStyle(ls`Decrypt`, scripting);\n    eventStyles[type.CryptoDoDecryptReply] = new TimelineRecordStyle(ls`Decrypt Reply`, scripting);\n    eventStyles[type.CryptoDoDigest] = new TimelineRecordStyle(ls`Digest`, scripting);\n    eventStyles[type.CryptoDoDigestReply] = new TimelineRecordStyle(ls`Digest Reply`, scripting);\n    eventStyles[type.CryptoDoSign] = new TimelineRecordStyle(ls`Sign`, scripting);\n    eventStyles[type.CryptoDoSignReply] = new TimelineRecordStyle(ls`Sign Reply`, scripting);\n    eventStyles[type.CryptoDoVerify] = new TimelineRecordStyle(ls`Verify`, scripting);\n    eventStyles[type.CryptoDoVerifyReply] = new TimelineRecordStyle(ls`Verify Reply`, scripting);\n\n    eventStyles[type.AsyncTask] = new TimelineRecordStyle(ls`Async Task`, categories['async']);\n\n    eventStyles[type.LayoutShift] = new TimelineRecordStyle(ls`Layout Shift`, experience);\n\n    eventStylesMap = eventStyles;\n    return eventStyles;\n  }\n\n  /** @param {!Object.<!TimelineModel.TimelineModel.RecordType, !TimelineRecordStyle>} eventStyles */\n  static setEventStylesMap(eventStyles) {\n    eventStylesMap = eventStyles;\n  }\n\n  /**\n   * @param {!TimelineModel.TimelineIRModel.InputEvents} inputEventType\n   * @return {?string}\n   */\n  static inputEventDisplayName(inputEventType) {\n    if (!inputEventToDisplayName) {\n      const inputEvent = TimelineModel.TimelineIRModel.InputEvents;\n\n      inputEventToDisplayName = new Map([\n        [inputEvent.Char, ls`Key Character`],\n        [inputEvent.KeyDown, ls`Key Down`],\n        [inputEvent.KeyDownRaw, ls`Key Down`],\n        [inputEvent.KeyUp, ls`Key Up`],\n        [inputEvent.Click, ls`Click`],\n        [inputEvent.ContextMenu, ls`Context Menu`],\n        [inputEvent.MouseDown, ls`Mouse Down`],\n        [inputEvent.MouseMove, ls`Mouse Move`],\n        [inputEvent.MouseUp, ls`Mouse Up`],\n        [inputEvent.MouseWheel, ls`Mouse Wheel`],\n        [inputEvent.ScrollBegin, ls`Scroll Begin`],\n        [inputEvent.ScrollEnd, ls`Scroll End`],\n        [inputEvent.ScrollUpdate, ls`Scroll Update`],\n        [inputEvent.FlingStart, ls`Fling Start`],\n        [inputEvent.FlingCancel, ls`Fling Halt`],\n        [inputEvent.Tap, ls`Tap`],\n        [inputEvent.TapCancel, ls`Tap Halt`],\n        [inputEvent.ShowPress, ls`Tap Begin`],\n        [inputEvent.TapDown, ls`Tap Down`],\n        [inputEvent.TouchCancel, ls`Touch Cancel`],\n        [inputEvent.TouchEnd, ls`Touch End`],\n        [inputEvent.TouchMove, ls`Touch Move`],\n        [inputEvent.TouchStart, ls`Touch Start`],\n        [inputEvent.PinchBegin, ls`Pinch Begin`],\n        [inputEvent.PinchEnd, ls`Pinch End`],\n        [inputEvent.PinchUpdate, ls`Pinch Update`]\n      ]);\n    }\n    return inputEventToDisplayName.get(inputEventType) || null;\n  }\n\n  /**\n   * @param {!Protocol.Runtime.CallFrame} frame\n   * @return {string}\n   */\n  static frameDisplayName(frame) {\n    if (!TimelineModel.TimelineJSProfile.TimelineJSProfileProcessor.isNativeRuntimeFrame(frame)) {\n      return UI.UIUtils.beautifyFunctionName(frame.functionName);\n    }\n    const nativeGroup = TimelineModel.TimelineJSProfile.TimelineJSProfileProcessor.nativeGroup(frame.functionName);\n    const groups = TimelineModel.TimelineJSProfile.TimelineJSProfileProcessor.NativeGroups;\n    switch (nativeGroup) {\n      case groups.Compile:\n        return ls`Compile`;\n      case groups.Parse:\n        return ls`Parse`;\n    }\n    return frame.functionName;\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} traceEvent\n   * @param {!RegExp} regExp\n   * @return {boolean}\n   */\n  static testContentMatching(traceEvent, regExp) {\n    const title = TimelineUIUtils.eventStyle(traceEvent).title;\n    const tokens = [title];\n    const url = TimelineModel.TimelineModel.TimelineData.forEvent(traceEvent).url;\n    if (url) {\n      tokens.push(url);\n    }\n    appendObjectProperties(traceEvent.args, 2);\n    return regExp.test(tokens.join('|'));\n\n    /**\n     * @param {!*} object\n     * @param {number} depth\n     */\n    function appendObjectProperties(object, depth) {\n      if (!depth) {\n        return;\n      }\n      for (const key in object) {\n        const value = object[key];\n        const type = typeof value;\n        if (type === 'string') {\n          tokens.push(value);\n        } else if (type === 'number') {\n          tokens.push(String(value));\n        } else if (type === 'object') {\n          appendObjectProperties(value, depth - 1);\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} event\n   * @return {?string}\n   */\n  static eventURL(event) {\n    const data = event.args['data'] || event.args['beginData'];\n    const url = data && data.url;\n    if (url) {\n      return url;\n    }\n    const stackTrace = data && data['stackTrace'];\n    const frame = stackTrace && stackTrace.length && stackTrace[0] ||\n        TimelineModel.TimelineModel.TimelineData.forEvent(event).topFrame();\n    return frame && frame.url || null;\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} event\n   * @return {!TimelineRecordStyle}\n   */\n  static eventStyle(event) {\n    const eventStyles = TimelineUIUtils._initEventStyles();\n    if (event.hasCategory(TimelineModel.TimelineModel.TimelineModelImpl.Category.Console) ||\n        event.hasCategory(TimelineModel.TimelineModel.TimelineModelImpl.Category.UserTiming)) {\n      return new TimelineRecordStyle(event.name, TimelineUIUtils.categories()['scripting']);\n    }\n\n    if (event.hasCategory(TimelineModel.TimelineModel.TimelineModelImpl.Category.LatencyInfo)) {\n      /** @const */\n      const prefix = 'InputLatency::';\n      const inputEventType = event.name.startsWith(prefix) ? event.name.substr(prefix.length) : event.name;\n      const displayName = TimelineUIUtils.inputEventDisplayName(\n          /** @type {!TimelineModel.TimelineIRModel.InputEvents} */ (inputEventType));\n      return new TimelineRecordStyle(displayName || inputEventType, TimelineUIUtils.categories()['scripting']);\n    }\n    let result = eventStyles[event.name];\n    if (!result) {\n      result = new TimelineRecordStyle(event.name, TimelineUIUtils.categories()['other'], true);\n      eventStyles[event.name] = result;\n    }\n    return result;\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} event\n   * @return {string}\n   */\n  static eventColor(event) {\n    if (event.name === TimelineModel.TimelineModel.RecordType.JSFrame) {\n      const frame = event.args['data'];\n      if (TimelineUIUtils.isUserFrame(frame)) {\n        return TimelineUIUtils.colorForId(frame.url);\n      }\n    }\n    const color = TimelineUIUtils.eventStyle(event).category.color;\n\n    // This event is considered idle time but still rendered as a scripting event here\n    // to connect the StreamingCompileScriptParsing events it belongs to.\n    if (event.name === TimelineModel.TimelineModel.RecordType.StreamingCompileScriptWaiting) {\n      const color = Common.Color.Color.parse(TimelineUIUtils.categories().scripting.color);\n      if (!color) {\n        throw new Error('Unable to parse color from TimelineUIUtils.categories().scripting.color');\n      }\n      return /** @type {string} */ (color.setAlpha(0.3).asString(null));\n    }\n\n    return color;\n  }\n\n  /**\n   * @param {!TimelineModel.TimelineModel.TimelineModelImpl} model\n   * @param {!Map<string, string>} urlToColorCache\n   * @param {!SDK.TracingModel.Event} event\n   * @return {string}\n   */\n  static eventColorByProduct(model, urlToColorCache, event) {\n    const url = TimelineUIUtils.eventURL(event) || '';\n    let color = urlToColorCache.get(url);\n    if (color) {\n      return color;\n    }\n    const defaultColor = '#f2ecdc';\n    const parsedURL = Common.ParsedURL.ParsedURL.fromString(url);\n    if (!parsedURL) {\n      return defaultColor;\n    }\n    const name = parsedURL.host;\n    const rootFrames = model.rootFrames();\n    if (rootFrames.some(pageFrame => new Common.ParsedURL.ParsedURL(pageFrame.url).host === name)) {\n      color = defaultColor;\n    }\n    if (!color) {\n      color = defaultColor;\n    }\n    urlToColorCache.set(url, color);\n    return color;\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} event\n   * @return {string}\n   */\n  static eventTitle(event) {\n    const recordType = TimelineModel.TimelineModel.RecordType;\n    const eventData = event.args['data'];\n    if (event.name === recordType.JSFrame) {\n      return TimelineUIUtils.frameDisplayName(eventData);\n    }\n    const title = TimelineUIUtils.eventStyle(event).title;\n    if (event.hasCategory(TimelineModel.TimelineModel.TimelineModelImpl.Category.Console)) {\n      return title;\n    }\n    if (event.name === recordType.TimeStamp) {\n      return ls`${title}: ${eventData['message']}`;\n    }\n    if (event.name === recordType.Animation && eventData && eventData['name']) {\n      return ls`${title}: ${eventData['name']}`;\n    }\n    if (event.name === recordType.EventDispatch && eventData && eventData['type']) {\n      return ls`${title}: ${eventData['type']}`;\n    }\n    return title;\n  }\n\n  /**\n   * @return {!Map<!TimelineModel.TimelineIRModel.Phases, !{color: string, label: string}>}\n   */\n  static _interactionPhaseStyles() {\n    let map = interactionPhaseStylesMap;\n    if (!map) {\n      map = new Map([\n        [TimelineModel.TimelineIRModel.Phases.Idle, {color: 'white', label: 'Idle'}],\n        [TimelineModel.TimelineIRModel.Phases.Response, {color: 'hsl(43, 83%, 64%)', label: ls`Response`}],\n        [TimelineModel.TimelineIRModel.Phases.Scroll, {color: 'hsl(256, 67%, 70%)', label: ls`Scroll`}],\n        [TimelineModel.TimelineIRModel.Phases.Fling, {color: 'hsl(256, 67%, 70%)', label: ls`Fling`}],\n        [TimelineModel.TimelineIRModel.Phases.Drag, {color: 'hsl(256, 67%, 70%)', label: ls`Drag`}],\n        [TimelineModel.TimelineIRModel.Phases.Animation, {color: 'hsl(256, 67%, 70%)', label: ls`Animation`}],\n        [TimelineModel.TimelineIRModel.Phases.Uncategorized, {color: 'hsl(0, 0%, 87%)', label: ls`Uncategorized`}]\n      ]);\n      interactionPhaseStylesMap = map;\n    }\n    return map;\n  }\n\n  /**\n   * @param {!TimelineModel.TimelineIRModel.Phases} phase\n   * @return {string}\n   */\n  static interactionPhaseColor(phase) {\n    const interactionPhase = TimelineUIUtils._interactionPhaseStyles().get(phase);\n    if (!interactionPhase) {\n      throw new Error(`Unknown phase ${phase}`);\n    }\n    return interactionPhase.color;\n  }\n\n  /**\n   * @param {!TimelineModel.TimelineIRModel.Phases} phase\n   * @return {string}\n   */\n  static interactionPhaseLabel(phase) {\n    const interactionPhase = TimelineUIUtils._interactionPhaseStyles().get(phase);\n    if (!interactionPhase) {\n      throw new Error(`Unknown phase ${phase}`);\n    }\n    return interactionPhase.label;\n  }\n\n  /**\n   * @param {!Protocol.Runtime.CallFrame} frame\n   * @return {boolean}\n   */\n  static isUserFrame(frame) {\n    return frame.scriptId !== '0' && !(frame.url && frame.url.startsWith('native '));\n  }\n\n  /**\n   * @param {!TimelineModel.TimelineModel.NetworkRequest} request\n   * @return {!NetworkCategory}\n   */\n  static networkRequestCategory(request) {\n    const categories = NetworkCategory;\n    switch (request.mimeType) {\n      case 'text/html':\n        return categories.HTML;\n      case 'application/javascript':\n      case 'application/x-javascript':\n      case 'text/javascript':\n        return categories.Script;\n      case 'text/css':\n        return categories.Style;\n      case 'audio/ogg':\n      case 'image/gif':\n      case 'image/jpeg':\n      case 'image/png':\n      case 'image/svg+xml':\n      case 'image/webp':\n      case 'image/x-icon':\n      case 'font/opentype':\n      case 'font/woff2':\n      case 'application/font-woff':\n        return categories.Media;\n      default:\n        return categories.Other;\n    }\n  }\n\n  /**\n   * @param {!NetworkCategory} category\n   * @return {string}\n   */\n  static networkCategoryColor(category) {\n    const categories = NetworkCategory;\n    switch (category) {\n      case categories.HTML:\n        return 'hsl(214, 67%, 66%)';\n      case categories.Script:\n        return 'hsl(43, 83%, 64%)';\n      case categories.Style:\n        return 'hsl(256, 67%, 70%)';\n      case categories.Media:\n        return 'hsl(109, 33%, 55%)';\n      default:\n        return 'hsl(0, 0%, 70%)';\n    }\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} event\n   * @param {?SDK.SDKModel.Target} target\n   * @return {!Promise<?string>}\n   */\n  static async buildDetailsTextForTraceEvent(event, target) {\n    const recordType = TimelineModel.TimelineModel.RecordType;\n    let detailsText;\n    const eventData = event.args['data'];\n    switch (event.name) {\n      case recordType.GCEvent:\n      case recordType.MajorGC:\n      case recordType.MinorGC: {\n        const delta = event.args['usedHeapSizeBefore'] - event.args['usedHeapSizeAfter'];\n        detailsText = Common.UIString.UIString('%s collected', Platform.NumberUtilities.bytesToString(delta));\n        break;\n      }\n      case recordType.FunctionCall:\n        if (eventData) {\n          detailsText =\n              await linkifyLocationAsText(eventData['scriptId'], eventData['lineNumber'], eventData['columnNumber']);\n        }\n        break;\n      case recordType.JSFrame:\n        detailsText = TimelineUIUtils.frameDisplayName(eventData);\n        break;\n      case recordType.EventDispatch:\n        detailsText = eventData ? eventData['type'] : null;\n        break;\n      case recordType.Paint: {\n        const width = TimelineUIUtils.quadWidth(eventData.clip);\n        const height = TimelineUIUtils.quadHeight(eventData.clip);\n        if (width && height) {\n          detailsText = Common.UIString.UIString('%d\\xA0\\xA0%d', width, height);\n        }\n        break;\n      }\n      case recordType.ParseHTML: {\n        const startLine = event.args['beginData']['startLine'];\n        const endLine = event.args['endData'] && event.args['endData']['endLine'];\n        const url = Bindings.ResourceUtils.displayNameForURL(event.args['beginData']['url']);\n        if (endLine >= 0) {\n          detailsText = Common.UIString.UIString('%s [%s%s]', url, startLine + 1, endLine + 1);\n        } else {\n          detailsText = Common.UIString.UIString('%s [%s]', url, startLine + 1);\n        }\n        break;\n      }\n      case recordType.CompileModule:\n        detailsText = Bindings.ResourceUtils.displayNameForURL(event.args['fileName']);\n        break;\n      case recordType.CompileScript:\n      case recordType.EvaluateScript: {\n        const url = eventData && eventData['url'];\n        if (url) {\n          detailsText = Bindings.ResourceUtils.displayNameForURL(url) + ':' + (eventData['lineNumber'] + 1);\n        }\n        break;\n      }\n      case recordType.WasmCompiledModule:\n      case recordType.WasmModuleCacheHit: {\n        const url = event.args['url'];\n        if (url) {\n          detailsText = Bindings.ResourceUtils.displayNameForURL(url);\n        }\n        break;\n      }\n\n      case recordType.StreamingCompileScript:\n      case recordType.XHRReadyStateChange:\n      case recordType.XHRLoad: {\n        const url = eventData['url'];\n        if (url) {\n          detailsText = Bindings.ResourceUtils.displayNameForURL(url);\n        }\n        break;\n      }\n      case recordType.TimeStamp:\n        detailsText = eventData['message'];\n        break;\n\n      case recordType.WebSocketCreate:\n      case recordType.WebSocketSendHandshakeRequest:\n      case recordType.WebSocketReceiveHandshakeResponse:\n      case recordType.WebSocketDestroy:\n      case recordType.ResourceWillSendRequest:\n      case recordType.ResourceSendRequest:\n      case recordType.ResourceReceivedData:\n      case recordType.ResourceReceiveResponse:\n      case recordType.ResourceFinish:\n      case recordType.PaintImage:\n      case recordType.DecodeImage:\n      case recordType.ResizeImage:\n      case recordType.DecodeLazyPixelRef: {\n        const url = TimelineModel.TimelineModel.TimelineData.forEvent(event).url;\n        if (url) {\n          detailsText = Bindings.ResourceUtils.displayNameForURL(url);\n        }\n        break;\n      }\n\n      case recordType.EmbedderCallback:\n        detailsText = eventData['callbackName'];\n        break;\n\n      case recordType.Animation:\n        detailsText = eventData && eventData['name'];\n        break;\n\n      case recordType.AsyncTask:\n        detailsText = eventData ? eventData['name'] : null;\n        break;\n\n      default:\n        if (event.hasCategory(TimelineModel.TimelineModel.TimelineModelImpl.Category.Console)) {\n          detailsText = null;\n        } else {\n          detailsText = await linkifyTopCallFrameAsText();\n        }\n        break;\n    }\n\n    return detailsText;\n\n    /**\n     * @param {string} scriptId\n     * @param {number} lineNumber\n     * @param {number} columnNumber\n     * @return {!Promise<?string>}\n     */\n    async function linkifyLocationAsText(scriptId, lineNumber, columnNumber) {\n      const debuggerModel = target ? target.model(SDK.DebuggerModel.DebuggerModel) : null;\n      if (!target || target.isDisposed() || !scriptId || !debuggerModel) {\n        return null;\n      }\n      const rawLocation = debuggerModel.createRawLocationByScriptId(scriptId, lineNumber, columnNumber);\n      if (!rawLocation) {\n        return null;\n      }\n      const uiLocation =\n          await Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().rawLocationToUILocation(\n              rawLocation);\n      return uiLocation ? uiLocation.linkText() : null;\n    }\n\n    /**\n     * @return {!Promise<?string>}\n     */\n    async function linkifyTopCallFrameAsText() {\n      const frame = TimelineModel.TimelineModel.TimelineData.forEvent(event).topFrame();\n      if (!frame) {\n        return null;\n      }\n      let text = await linkifyLocationAsText(frame.scriptId, frame.lineNumber, frame.columnNumber);\n      if (!text) {\n        text = frame.url;\n        if (typeof frame.lineNumber === 'number') {\n          text += ':' + (frame.lineNumber + 1);\n        }\n      }\n      return text;\n    }\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} event\n   * @param {?SDK.SDKModel.Target} target\n   * @param {!Components.Linkifier.Linkifier} linkifier\n   * @return {!Promise<?Node>}\n   */\n  static async buildDetailsNodeForTraceEvent(event, target, linkifier) {\n    const recordType = TimelineModel.TimelineModel.RecordType;\n    let details = null;\n    let detailsText;\n    const eventData = event.args['data'];\n    switch (event.name) {\n      case recordType.GCEvent:\n      case recordType.MajorGC:\n      case recordType.MinorGC:\n      case recordType.EventDispatch:\n      case recordType.Paint:\n      case recordType.Animation:\n      case recordType.EmbedderCallback:\n      case recordType.ParseHTML:\n      case recordType.WasmStreamFromResponseCallback:\n      case recordType.WasmCompiledModule:\n      case recordType.WasmModuleCacheHit:\n      case recordType.WasmCachedModule:\n      case recordType.WasmModuleCacheInvalid:\n      case recordType.WebSocketCreate:\n      case recordType.WebSocketSendHandshakeRequest:\n      case recordType.WebSocketReceiveHandshakeResponse:\n      case recordType.WebSocketDestroy: {\n        detailsText = await TimelineUIUtils.buildDetailsTextForTraceEvent(event, target);\n        break;\n      }\n\n      case recordType.PaintImage:\n      case recordType.DecodeImage:\n      case recordType.ResizeImage:\n      case recordType.DecodeLazyPixelRef:\n      case recordType.XHRReadyStateChange:\n      case recordType.XHRLoad:\n      case recordType.ResourceWillSendRequest:\n      case recordType.ResourceSendRequest:\n      case recordType.ResourceReceivedData:\n      case recordType.ResourceReceiveResponse:\n      case recordType.ResourceFinish: {\n        const url = TimelineModel.TimelineModel.TimelineData.forEvent(event).url;\n        if (url) {\n          const options = {\n            tabStop: true,\n            className: undefined,\n            columnNumber: undefined,\n            text: undefined,\n            lineNumber: undefined,\n            preventClick: undefined,\n            maxLength: undefined,\n            bypassURLTrimming: undefined\n          };\n          details = Components.Linkifier.Linkifier.linkifyURL(url, options);\n        }\n        break;\n      }\n\n      case recordType.FunctionCall:\n      case recordType.JSFrame: {\n        details = document.createElement('span');\n        UI.UIUtils.createTextChild(details, TimelineUIUtils.frameDisplayName(eventData));\n        const location = linkifyLocation(\n            eventData['scriptId'], eventData['url'], eventData['lineNumber'], eventData['columnNumber']);\n        if (location) {\n          UI.UIUtils.createTextChild(details, ' @ ');\n          details.appendChild(location);\n        }\n        break;\n      }\n\n      case recordType.CompileModule: {\n        details = linkifyLocation('', event.args['fileName'], 0, 0);\n        break;\n      }\n\n      case recordType.CompileScript:\n      case recordType.EvaluateScript: {\n        const url = eventData['url'];\n        if (url) {\n          details = linkifyLocation('', url, eventData['lineNumber'], 0);\n        }\n        break;\n      }\n\n      case recordType.StreamingCompileScript: {\n        const url = eventData['url'];\n        if (url) {\n          details = linkifyLocation('', url, 0, 0);\n        }\n        break;\n      }\n\n      default: {\n        if (event.hasCategory(TimelineModel.TimelineModel.TimelineModelImpl.Category.Console)) {\n          detailsText = null;\n        } else {\n          details = linkifyTopCallFrame();\n        }\n        break;\n      }\n    }\n\n    if (!details && detailsText) {\n      details = document.createTextNode(detailsText);\n    }\n    return details;\n\n    /**\n     * @param {string} scriptId\n     * @param {string} url\n     * @param {number} lineNumber\n     * @param {number=} columnNumber\n     * @return {?Element}\n     */\n    function linkifyLocation(scriptId, url, lineNumber, columnNumber) {\n      const options = {columnNumber, className: 'timeline-details', tabStop: true};\n      return linkifier.linkifyScriptLocation(target, scriptId, url, lineNumber, options);\n    }\n\n    /**\n     * @return {?Element}\n     */\n    function linkifyTopCallFrame() {\n      const frame = TimelineModel.TimelineModel.TimelineData.forEvent(event).topFrame();\n      return frame ? linkifier.maybeLinkifyConsoleCallFrame(\n                         target, frame, {className: 'timeline-details', tabStop: true, columnNumber: undefined}) :\n                     null;\n    }\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} event\n   * @return {!Element}\n   */\n  static buildDetailsNodeForPerformanceEvent(event) {\n    /** @type {string} */\n    let link =\n        'https://developers.google.com/web/fundamentals/performance/user-centric-performance-metrics#user-centric_performance_metrics';\n    let name = 'page performance metrics';\n    const recordType = TimelineModel.TimelineModel.RecordType;\n    switch (event.name) {\n      case recordType.MarkLCPCandidate:\n        link = 'https://web.dev/largest-contentful-paint';\n        name = 'largest contentful paint';\n        break;\n      case recordType.MarkFCP:\n        link = 'https://web.dev/first-contentful-paint';\n        name = 'first contentful paint';\n        break;\n      default:\n        break;\n    }\n\n    return UI.Fragment.html`<div>${UI.XLink.XLink.create(link, ls`Learn more`)} about ${name}.</div>`;\n  }\n\n  /**\n   * @param {*} eventData\n   * @param {!TimelineDetailsContentHelper} contentHelper\n   */\n  static buildCompilationCacheDetails(eventData, contentHelper) {\n    if ('producedCacheSize' in eventData) {\n      contentHelper.appendTextRow(ls`Compilation cache status`, ls`script saved to cache`);\n      contentHelper.appendTextRow(\n          ls`Compilation cache size`, Platform.NumberUtilities.bytesToString(eventData['producedCacheSize']));\n    } else if ('consumedCacheSize' in eventData) {\n      contentHelper.appendTextRow(ls`Compilation cache status`, ls`script loaded from cache`);\n      contentHelper.appendTextRow(\n          ls`Compilation cache size`, Platform.NumberUtilities.bytesToString(eventData['consumedCacheSize']));\n    } else if (eventData && 'cacheRejected' in eventData && eventData['cacheRejected']) {\n      // Version mismatch or similar.\n      contentHelper.appendTextRow(ls`Compilation cache status`, ls`failed to load script from cache`);\n    } else {\n      contentHelper.appendTextRow(ls`Compilation cache status`, ls`script not eligible`);\n    }\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} event\n   * @param {!TimelineModel.TimelineModel.TimelineModelImpl} model\n   * @param {!Components.Linkifier.Linkifier} linkifier\n   * @param {boolean} detailed\n   * @return {!Promise<!DocumentFragment>}\n   */\n  static async buildTraceEventDetails(event, model, linkifier, detailed) {\n    const maybeTarget = model.targetByEvent(event);\n    /** @type {?Map<number, ?SDK.DOMModel.DOMNode>} */\n    let relatedNodesMap = null;\n    if (maybeTarget) {\n      const target = /** @type {!SDK.SDKModel.Target} */ (maybeTarget);\n      // @ts-ignore TODO(crbug.com/1011811): Remove symbol usage.\n      if (typeof event[previewElementSymbol] === 'undefined') {\n        let previewElement = null;\n        const url = TimelineModel.TimelineModel.TimelineData.forEvent(event).url;\n        if (url) {\n          previewElement = await Components.ImagePreview.ImagePreview.build(target, url, false, {\n            imageAltText: Components.ImagePreview.ImagePreview.defaultAltTextForImageURL(url),\n            precomputedFeatures: undefined\n          });\n        } else if (TimelineModel.TimelineModel.TimelineData.forEvent(event).picture) {\n          previewElement = await TimelineUIUtils.buildPicturePreviewContent(event, target);\n        }\n        // @ts-ignore TODO(crbug.com/1011811): Remove symbol usage.\n        event[previewElementSymbol] = previewElement;\n      }\n\n      /** @type {!Set<number>} */\n      const nodeIdsToResolve = new Set();\n      const timelineData = TimelineModel.TimelineModel.TimelineData.forEvent(event);\n      if (timelineData.backendNodeId) {\n        nodeIdsToResolve.add(timelineData.backendNodeId);\n      }\n      const invalidationTrackingEvents = TimelineModel.TimelineModel.InvalidationTracker.invalidationEventsFor(event);\n      if (invalidationTrackingEvents) {\n        TimelineUIUtils._collectInvalidationNodeIds(nodeIdsToResolve, invalidationTrackingEvents);\n      }\n      if (nodeIdsToResolve.size) {\n        const domModel = target.model(SDK.DOMModel.DOMModel);\n        if (domModel) {\n          relatedNodesMap = await domModel.pushNodesByBackendIdsToFrontend(nodeIdsToResolve);\n        }\n      }\n    }\n\n    const recordTypes = TimelineModel.TimelineModel.RecordType;\n\n    if (event.name === recordTypes.LayoutShift) {\n      // Ensure that there are no pie charts or extended info for layout shifts.\n      detailed = false;\n    }\n\n    // This message may vary per event.name;\n    let relatedNodeLabel;\n\n    const contentHelper = new TimelineDetailsContentHelper(model.targetByEvent(event), linkifier);\n    const color = model.isMarkerEvent(event) ? TimelineUIUtils.markerStyleForEvent(event).color :\n                                               TimelineUIUtils.eventStyle(event).category.color;\n    contentHelper.addSection(TimelineUIUtils.eventTitle(event), color);\n\n    const eventData = event.args['data'];\n    const timelineData = TimelineModel.TimelineModel.TimelineData.forEvent(event);\n    const initiator = timelineData.initiator();\n    let url = null;\n\n    if (timelineData.warning) {\n      contentHelper.appendWarningRow(event);\n    }\n    if (event.name === recordTypes.JSFrame && eventData['deoptReason']) {\n      contentHelper.appendWarningRow(event, TimelineModel.TimelineModel.TimelineModelImpl.WarningType.V8Deopt);\n    }\n\n    if (detailed && !Number.isNaN(event.duration || 0)) {\n      contentHelper.appendTextRow(ls`Total Time`, Number.millisToString(event.duration || 0, true));\n      contentHelper.appendTextRow(ls`Self Time`, Number.millisToString(event.selfTime, true));\n    }\n\n    if (model.isGenericTrace()) {\n      for (const key in event.args) {\n        try {\n          contentHelper.appendTextRow(key, JSON.stringify(event.args[key]));\n        } catch (e) {\n          contentHelper.appendTextRow(key, `<${typeof event.args[key]}>`);\n        }\n      }\n      return contentHelper.fragment;\n    }\n\n    switch (event.name) {\n      case recordTypes.GCEvent:\n      case recordTypes.MajorGC:\n      case recordTypes.MinorGC: {\n        const delta = event.args['usedHeapSizeBefore'] - event.args['usedHeapSizeAfter'];\n        contentHelper.appendTextRow(ls`Collected`, Platform.NumberUtilities.bytesToString(delta));\n        break;\n      }\n\n      case recordTypes.JSFrame:\n      case recordTypes.FunctionCall: {\n        const detailsNode =\n            await TimelineUIUtils.buildDetailsNodeForTraceEvent(event, model.targetByEvent(event), linkifier);\n        if (detailsNode) {\n          contentHelper.appendElementRow(ls`Function`, detailsNode);\n        }\n        break;\n      }\n\n      case recordTypes.TimerFire:\n      case recordTypes.TimerInstall:\n      case recordTypes.TimerRemove: {\n        contentHelper.appendTextRow(ls`Timer ID`, eventData['timerId']);\n        if (event.name === recordTypes.TimerInstall) {\n          contentHelper.appendTextRow(ls`Timeout`, Number.millisToString(eventData['timeout']));\n          contentHelper.appendTextRow(ls`Repeats`, !eventData['singleShot']);\n        }\n        break;\n      }\n\n      case recordTypes.FireAnimationFrame: {\n        contentHelper.appendTextRow(ls`Callback ID`, eventData['id']);\n        break;\n      }\n\n      case recordTypes.ResourceWillSendRequest:\n      case recordTypes.ResourceSendRequest:\n      case recordTypes.ResourceReceiveResponse:\n      case recordTypes.ResourceReceivedData:\n      case recordTypes.ResourceFinish: {\n        url = timelineData.url;\n        if (url) {\n          const options = {\n            tabStop: true,\n            className: undefined,\n            columnNumber: undefined,\n            lineNumber: undefined,\n            text: undefined,\n            preventClick: undefined,\n            maxLength: undefined,\n            bypassURLTrimming: undefined\n          };\n          contentHelper.appendElementRow(ls`Resource`, Components.Linkifier.Linkifier.linkifyURL(url, options));\n        }\n        if (eventData['requestMethod']) {\n          contentHelper.appendTextRow(ls`Request Method`, eventData['requestMethod']);\n        }\n        if (typeof eventData['statusCode'] === 'number') {\n          contentHelper.appendTextRow(ls`Status Code`, eventData['statusCode']);\n        }\n        if (eventData['mimeType']) {\n          contentHelper.appendTextRow(ls`MIME Type`, eventData['mimeType']);\n        }\n        if ('priority' in eventData) {\n          const priority = PerfUI.NetworkPriorities.uiLabelForNetworkPriority(eventData['priority']);\n          contentHelper.appendTextRow(ls`Priority`, priority);\n        }\n        if (eventData['encodedDataLength']) {\n          contentHelper.appendTextRow(ls`Encoded Data`, ls`${eventData['encodedDataLength']} Bytes`);\n        }\n        if (eventData['decodedBodyLength']) {\n          contentHelper.appendTextRow(ls`Decoded Body`, ls`${eventData['decodedBodyLength']} Bytes`);\n        }\n        break;\n      }\n\n      case recordTypes.CompileModule: {\n        contentHelper.appendLocationRow(ls`Module`, event.args['fileName'], 0);\n        break;\n      }\n\n      case recordTypes.CompileScript: {\n        url = eventData && eventData['url'];\n        if (url) {\n          contentHelper.appendLocationRow(ls`Script`, url, eventData['lineNumber'], eventData['columnNumber']);\n        }\n        const isStreamed = eventData['streamed'];\n        contentHelper.appendTextRow(\n            ls`Streamed`, isStreamed + (isStreamed ? '' : `: ${eventData['notStreamedReason']}`));\n        TimelineUIUtils.buildCompilationCacheDetails(eventData, contentHelper);\n        break;\n      }\n\n      case recordTypes.EvaluateScript: {\n        url = eventData && eventData['url'];\n        if (url) {\n          contentHelper.appendLocationRow(ls`Script`, url, eventData['lineNumber'], eventData['columnNumber']);\n        }\n        break;\n      }\n\n      case recordTypes.WasmStreamFromResponseCallback:\n      case recordTypes.WasmCompiledModule:\n      case recordTypes.WasmCachedModule:\n      case recordTypes.WasmModuleCacheHit:\n      case recordTypes.WasmModuleCacheInvalid: {\n        if (eventData) {\n          url = event.args['url'];\n          if (url) {\n            contentHelper.appendTextRow(ls`Url`, url);\n          }\n          const producedCachedSize = event.args['producedCachedSize'];\n          if (producedCachedSize) {\n            contentHelper.appendTextRow(ls`Produced Cache Size`, producedCachedSize);\n          }\n          const consumedCachedSize = event.args['consumedCachedSize'];\n          if (consumedCachedSize) {\n            contentHelper.appendTextRow(ls`Consumed Cache Size`, consumedCachedSize);\n          }\n        }\n        break;\n      }\n\n      // @ts-ignore Fall-through intended.\n      case recordTypes.Paint: {\n        const clip = eventData['clip'];\n        contentHelper.appendTextRow(ls`Location`, ls`(${clip[0]}, ${clip[1]})`);\n        const clipWidth = TimelineUIUtils.quadWidth(clip);\n        const clipHeight = TimelineUIUtils.quadHeight(clip);\n        contentHelper.appendTextRow(ls`Dimensions`, ls`${clipWidth}  ${clipHeight}`);\n      }\n\n      case recordTypes.PaintSetup:\n      case recordTypes.Rasterize:\n      case recordTypes.ScrollLayer: {\n        relatedNodeLabel = ls`Layer Root`;\n        break;\n      }\n\n      case recordTypes.PaintImage:\n      case recordTypes.DecodeLazyPixelRef:\n      case recordTypes.DecodeImage:\n      case recordTypes.ResizeImage:\n      case recordTypes.DrawLazyPixelRef: {\n        relatedNodeLabel = ls`Owner Element`;\n        url = timelineData.url;\n        if (url) {\n          const options = {\n            tabStop: true,\n            className: undefined,\n            columnNumber: undefined,\n            lineNumber: undefined,\n            text: undefined,\n            preventClick: undefined,\n            maxLength: undefined,\n            bypassURLTrimming: undefined\n          };\n          contentHelper.appendElementRow(ls`Image URL`, Components.Linkifier.Linkifier.linkifyURL(url, options));\n        }\n        break;\n      }\n\n      case recordTypes.ParseAuthorStyleSheet: {\n        url = eventData['styleSheetUrl'];\n        if (url) {\n          const options = {\n            tabStop: true,\n            className: undefined,\n            columnNumber: undefined,\n            lineNumber: undefined,\n            text: undefined,\n            preventClick: undefined,\n            maxLength: undefined,\n            bypassURLTrimming: undefined\n          };\n          contentHelper.appendElementRow(ls`Stylesheet URL`, Components.Linkifier.Linkifier.linkifyURL(url, options));\n        }\n        break;\n      }\n\n      case recordTypes.UpdateLayoutTree:  // We don't want to see default details.\n      case recordTypes.RecalculateStyles: {\n        contentHelper.appendTextRow(ls`Elements Affected`, event.args['elementCount']);\n        break;\n      }\n\n      case recordTypes.Layout: {\n        const beginData = event.args['beginData'];\n        contentHelper.appendTextRow(\n            ls`Nodes That Need Layout`, ls`${beginData['dirtyObjects']} of ${beginData['totalObjects']}`);\n        relatedNodeLabel = ls`Layout root`;\n        break;\n      }\n\n      case recordTypes.ConsoleTime: {\n        contentHelper.appendTextRow(ls`Message`, event.name);\n        break;\n      }\n\n      case recordTypes.WebSocketCreate:\n      case recordTypes.WebSocketSendHandshakeRequest:\n      case recordTypes.WebSocketReceiveHandshakeResponse:\n      case recordTypes.WebSocketDestroy: {\n        const initiatorData = initiator ? initiator.args['data'] : eventData;\n        if (typeof initiatorData['webSocketURL'] !== 'undefined') {\n          contentHelper.appendTextRow(ls`URL`, initiatorData['webSocketURL']);\n        }\n        if (typeof initiatorData['webSocketProtocol'] !== 'undefined') {\n          contentHelper.appendTextRow(ls`WebSocket Protocol`, initiatorData['webSocketProtocol']);\n        }\n        if (typeof eventData['message'] !== 'undefined') {\n          contentHelper.appendTextRow(ls`Message`, eventData['message']);\n        }\n        break;\n      }\n\n      case recordTypes.EmbedderCallback: {\n        contentHelper.appendTextRow(ls`Callback Function`, eventData['callbackName']);\n        break;\n      }\n\n      case recordTypes.Animation: {\n        if (event.phase === SDK.TracingModel.Phase.NestableAsyncInstant) {\n          contentHelper.appendTextRow(ls`State`, eventData['state']);\n        }\n        break;\n      }\n\n      case recordTypes.ParseHTML: {\n        const beginData = event.args['beginData'];\n        const startLine = beginData['startLine'] - 1;\n        const endLine = event.args['endData'] ? event.args['endData']['endLine'] - 1 : undefined;\n        url = beginData['url'];\n        if (url) {\n          contentHelper.appendLocationRange(ls`Range`, url, startLine, endLine);\n        }\n        break;\n      }\n\n      // @ts-ignore Fall-through intended.\n      case recordTypes.FireIdleCallback: {\n        contentHelper.appendTextRow(ls`Allotted Time`, Number.millisToString(eventData['allottedMilliseconds']));\n        contentHelper.appendTextRow(ls`Invoked by Timeout`, eventData['timedOut']);\n      }\n\n      case recordTypes.RequestIdleCallback:\n      case recordTypes.CancelIdleCallback: {\n        contentHelper.appendTextRow(ls`Callback ID`, eventData['id']);\n        break;\n      }\n\n      case recordTypes.EventDispatch: {\n        contentHelper.appendTextRow(ls`Type`, eventData['type']);\n        break;\n      }\n\n      // @ts-ignore Fall-through intended.\n      case recordTypes.MarkLCPCandidate: {\n        contentHelper.appendTextRow(ls`Type`, String(eventData['type']));\n        contentHelper.appendTextRow(ls`Size`, String(eventData['size']));\n      }\n\n      case recordTypes.MarkFirstPaint:\n      case recordTypes.MarkFCP:\n      case recordTypes.MarkLoad:\n      case recordTypes.MarkDOMContent: {\n        let eventTime = event.startTime - model.minimumRecordTime();\n\n        // Find the appropriate navStart based on the navigation ID.\n        const {navigationId} = event.args.data;\n        if (navigationId) {\n          const navStartTime = model.navStartTimes().get(navigationId);\n\n          if (navStartTime) {\n            eventTime = event.startTime - navStartTime.startTime;\n          }\n        }\n\n        contentHelper.appendTextRow(ls`Timestamp`, Number.preciseMillisToString(eventTime, 1));\n        contentHelper.appendElementRow(ls`Details`, TimelineUIUtils.buildDetailsNodeForPerformanceEvent(event));\n        break;\n      }\n\n      case recordTypes.LayoutShift: {\n        const warning = document.createElement('span');\n        const clsLink = UI.UIUtils.createWebDevLink('cls/', ls`Cumulative Layout Shifts`);\n        warning.appendChild(UI.UIUtils.formatLocalized('%s can result in poor user experiences.', [clsLink]));\n        contentHelper.appendElementRow(ls`Warning`, warning, true);\n\n        contentHelper.appendTextRow(ls`Score`, eventData['score'].toPrecision(4));\n        contentHelper.appendTextRow(ls`Cumulative Score`, eventData['cumulative_score'].toPrecision(4));\n        contentHelper.appendTextRow(ls`Had recent input`, eventData['had_recent_input'] ? ls`Yes` : ls`No`);\n\n        for (const impactedNode of eventData['impacted_nodes']) {\n          const oldRect = new CLSRect(impactedNode['old_rect']);\n          const newRect = new CLSRect(impactedNode['new_rect']);\n\n          const linkedOldRect = await Common.Linkifier.Linkifier.linkify(oldRect);\n          const linkedNewRect = await Common.Linkifier.Linkifier.linkify(newRect);\n\n          contentHelper.appendElementRow(ls`Moved from`, linkedOldRect);\n          contentHelper.appendElementRow(ls`Moved to`, linkedNewRect);\n        }\n\n        break;\n      }\n\n      default: {\n        const detailsNode =\n            await TimelineUIUtils.buildDetailsNodeForTraceEvent(event, model.targetByEvent(event), linkifier);\n        if (detailsNode) {\n          contentHelper.appendElementRow(ls`Details`, detailsNode);\n        }\n        break;\n      }\n    }\n\n    if (timelineData.timeWaitingForMainThread) {\n      contentHelper.appendTextRow(\n          ls`Time Waiting for Main Thread`, Number.millisToString(timelineData.timeWaitingForMainThread, true));\n    }\n\n    const relatedNode = relatedNodesMap && relatedNodesMap.get(timelineData.backendNodeId);\n    if (relatedNode) {\n      const nodeSpan = await Common.Linkifier.Linkifier.linkify(relatedNode);\n      contentHelper.appendElementRow(relatedNodeLabel || ls`Related Node`, nodeSpan);\n    }\n\n    // @ts-ignore TODO(crbug.com/1011811): Remove symbol usage.\n    if (event[previewElementSymbol]) {\n      contentHelper.addSection(ls`Preview`);\n      // @ts-ignore TODO(crbug.com/1011811): Remove symbol usage.\n      contentHelper.appendElementRow('', event[previewElementSymbol]);\n    }\n\n    if (initiator || timelineData.stackTraceForSelfOrInitiator() ||\n        TimelineModel.TimelineModel.InvalidationTracker.invalidationEventsFor(event)) {\n      TimelineUIUtils._generateCauses(event, model.targetByEvent(event), relatedNodesMap, contentHelper);\n    }\n\n    /** @type {!Object.<string, number>} */\n    const stats = {};\n    const showPieChart = detailed && TimelineUIUtils._aggregatedStatsForTraceEvent(stats, model, event);\n    if (showPieChart) {\n      contentHelper.addSection(ls`Aggregated Time`);\n      const pieChart =\n          TimelineUIUtils.generatePieChart(stats, TimelineUIUtils.eventStyle(event).category, event.selfTime);\n      contentHelper.appendElementRow('', pieChart);\n    }\n\n    return contentHelper.fragment;\n  }\n\n  /**\n   * @param {!Array<!SDK.TracingModel.Event>} events\n   * @param {number} startTime\n   * @param {number} endTime\n   * @return {!Object<string, number>}\n   */\n  static statsForTimeRange(events, startTime, endTime) {\n    if (!events.length) {\n      return {'idle': endTime - startTime};\n    }\n\n    buildRangeStatsCacheIfNeeded(events);\n    const aggregatedStats = subtractStats(aggregatedStatsAtTime(endTime), aggregatedStatsAtTime(startTime));\n    const aggregatedTotal = Object.values(aggregatedStats).reduce((a, b) => a + b, 0);\n    aggregatedStats['idle'] = Math.max(0, endTime - startTime - aggregatedTotal);\n    return aggregatedStats;\n\n    /**\n     * @param {number} time\n     * @return {!Object.<string, number>}\n     */\n    function aggregatedStatsAtTime(time) {\n      /** @type {!Object.<string, number>} */\n      const stats = {};\n      // @ts-ignore TODO(crbug.com/1011811): Remove symbol usage.\n      const cache = events[categoryBreakdownCacheSymbol];\n      for (const category in cache) {\n        const categoryCache = cache[category];\n        const index =\n            Platform.ArrayUtilities.upperBound(categoryCache.time, time, Platform.ArrayUtilities.DEFAULT_COMPARATOR);\n        let value;\n        if (index === 0) {\n          value = 0;\n        } else if (index === categoryCache.time.length) {\n          value = categoryCache.value[categoryCache.value.length - 1];\n        } else {\n          const t0 = categoryCache.time[index - 1];\n          const t1 = categoryCache.time[index];\n          const v0 = categoryCache.value[index - 1];\n          const v1 = categoryCache.value[index];\n          value = v0 + (v1 - v0) * (time - t0) / (t1 - t0);\n        }\n        stats[category] = value;\n      }\n      return stats;\n    }\n\n    /**\n      * @param {!Object<string, number>} a\n      * @param {!Object<string, number>} b\n      * @return {!Object<string, number>}\n      */\n    function subtractStats(a, b) {\n      const result = Object.assign({}, a);\n      for (const key in b) {\n        result[key] -= b[key];\n      }\n      return result;\n    }\n\n    /**\n     * @param {!Array<!SDK.TracingModel.Event>} events\n     */\n    function buildRangeStatsCacheIfNeeded(events) {\n      // @ts-ignore TODO(crbug.com/1011811): Remove symbol usage.\n      if (events[categoryBreakdownCacheSymbol]) {\n        return;\n      }\n\n      // aggeregatedStats is a map by categories. For each category there's an array\n      // containing sorted time points which records accumulated value of the category.\n      /** @type {!Object.<string, {time: !Array<number>, value: !Array<number>}>} */\n      const aggregatedStats = {};\n      /** @type {!Array<string>} */\n      const categoryStack = [];\n      let lastTime = 0;\n      TimelineModel.TimelineModel.TimelineModelImpl.forEachEvent(\n          events, onStartEvent, onEndEvent, undefined, undefined, undefined, filterForStats());\n\n      /**\n       * @return {function(!SDK.TracingModel.Event):boolean}\n       */\n      function filterForStats() {\n        const visibleEventsFilter = TimelineUIUtils.visibleEventsFilter();\n        return event => visibleEventsFilter.accept(event) || SDK.TracingModel.TracingModel.isTopLevelEvent(event);\n      }\n\n      /**\n       * @param {string} category\n       * @param {number} time\n       */\n      function updateCategory(category, time) {\n        let statsArrays = aggregatedStats[category];\n        if (!statsArrays) {\n          statsArrays = {time: [], value: []};\n          aggregatedStats[category] = statsArrays;\n        }\n        if (statsArrays.time.length && statsArrays.time[statsArrays.time.length - 1] === time || lastTime > time) {\n          return;\n        }\n        const lastValue = statsArrays.value.length > 0 ? statsArrays.value[statsArrays.value.length - 1] : 0;\n        statsArrays.value.push(lastValue + time - lastTime);\n        statsArrays.time.push(time);\n      }\n\n      /**\n       * @param {?string} from\n       * @param {?string} to\n       * @param {number} time\n       */\n      function categoryChange(from, to, time) {\n        if (from) {\n          updateCategory(from, time);\n        }\n        lastTime = time;\n        if (to) {\n          updateCategory(to, time);\n        }\n      }\n\n      /**\n       * @param {!SDK.TracingModel.Event} e\n       */\n      function onStartEvent(e) {\n        const category = TimelineUIUtils.eventStyle(e).category.name;\n        const parentCategory = categoryStack.length ? categoryStack[categoryStack.length - 1] : null;\n        if (category !== parentCategory) {\n          categoryChange(parentCategory || null, category, e.startTime);\n        }\n        categoryStack.push(category);\n      }\n\n      /**\n       * @param {!SDK.TracingModel.Event} e\n       */\n      function onEndEvent(e) {\n        const category = categoryStack.pop();\n        const parentCategory = categoryStack.length ? categoryStack[categoryStack.length - 1] : null;\n        if (category !== parentCategory) {\n          categoryChange(category || null, parentCategory || null, e.endTime || 0);\n        }\n      }\n\n      const obj = /** @type {!Object} */ (events);\n      // @ts-ignore TODO(crbug.com/1011811): Remove symbol usage.\n      obj[categoryBreakdownCacheSymbol] = aggregatedStats;\n    }\n  }\n\n  /**\n   * @param {!TimelineModel.TimelineModel.NetworkRequest} request\n   * @param {!TimelineModel.TimelineModel.TimelineModelImpl} model\n   * @param {!Components.Linkifier.Linkifier} linkifier\n   * @return {!Promise<!DocumentFragment>}\n   */\n  static async buildNetworkRequestDetails(request, model, linkifier) {\n    const target = model.targetByEvent(request.children[0]);\n    const contentHelper = new TimelineDetailsContentHelper(target, linkifier);\n    const category = TimelineUIUtils.networkRequestCategory(request);\n    const color = TimelineUIUtils.networkCategoryColor(category);\n    contentHelper.addSection(ls`Network request`, color);\n\n    if (request.url) {\n      const options = {\n        tabStop: true,\n        className: undefined,\n        columnNumber: undefined,\n        text: undefined,\n        lineNumber: undefined,\n        preventClick: undefined,\n        maxLength: undefined,\n        bypassURLTrimming: undefined\n      };\n      contentHelper.appendElementRow(ls`URL`, Components.Linkifier.Linkifier.linkifyURL(request.url, options));\n    }\n\n    // The time from queueing the request until resource processing is finished.\n    const fullDuration = request.endTime - (request.getStartTime() || -Infinity);\n    if (isFinite(fullDuration)) {\n      let textRow = Number.millisToString(fullDuration, true);\n      // The time from queueing the request until the download is finished. This\n      // corresponds to the total time reported for the request in the network tab.\n      const networkDuration = (request.finishTime || request.getStartTime()) - request.getStartTime();\n      // The time it takes to make the resource available to the renderer process.\n      const processingDuration = request.endTime - (request.finishTime || 0);\n      if (isFinite(networkDuration) && isFinite(processingDuration)) {\n        const networkDurationStr = Number.millisToString(networkDuration, true);\n        const processingDurationStr = Number.millisToString(processingDuration, true);\n        const cacheOrNetworkLabel = request.cached() ? ls`load from cache` : ls`network transfer`;\n        textRow += ls` (${networkDurationStr} ${cacheOrNetworkLabel} + ${processingDurationStr} resource loading)`;\n      }\n      contentHelper.appendTextRow(ls`Duration`, textRow);\n    }\n\n    if (request.requestMethod) {\n      contentHelper.appendTextRow(ls`Request Method`, request.requestMethod);\n    }\n    if (typeof request.priority === 'string') {\n      const priority = PerfUI.NetworkPriorities.uiLabelForNetworkPriority(\n          /** @type {!Protocol.Network.ResourcePriority} */ (request.priority));\n      contentHelper.appendTextRow(ls`Priority`, priority);\n    }\n    if (request.mimeType) {\n      contentHelper.appendTextRow(ls`Mime Type`, request.mimeType);\n    }\n    let lengthText = '';\n    if (request.memoryCached()) {\n      lengthText += ls` (from memory cache)`;\n    } else if (request.cached()) {\n      lengthText += ls` (from cache)`;\n    } else if (request.timing && request.timing.pushStart) {\n      lengthText += ls` (from push)`;\n    }\n    if (request.fromServiceWorker) {\n      lengthText += ls` (from service worker)`;\n    }\n    if (request.encodedDataLength || !lengthText) {\n      lengthText = `${Platform.NumberUtilities.bytesToString(request.encodedDataLength)}${lengthText}`;\n    }\n    contentHelper.appendTextRow(ls`Encoded Data`, lengthText);\n    if (request.decodedBodyLength) {\n      contentHelper.appendTextRow(ls`Decoded Body`, Platform.NumberUtilities.bytesToString(request.decodedBodyLength));\n    }\n    const title = ls`Initiator`;\n    const sendRequest = request.children[0];\n    const topFrame = TimelineModel.TimelineModel.TimelineData.forEvent(sendRequest).topFrame();\n    if (topFrame) {\n      const link = linkifier.maybeLinkifyConsoleCallFrame(\n          target, topFrame, {tabStop: true, className: undefined, columnNumber: undefined});\n      if (link) {\n        contentHelper.appendElementRow(title, link);\n      }\n    } else {\n      const initiator = TimelineModel.TimelineModel.TimelineData.forEvent(sendRequest).initiator();\n      if (initiator) {\n        const initiatorURL = TimelineModel.TimelineModel.TimelineData.forEvent(initiator).url;\n        if (initiatorURL) {\n          const link = linkifier.maybeLinkifyScriptLocation(\n              target, null, initiatorURL, 0, {tabStop: true, className: undefined, columnNumber: undefined});\n          if (link) {\n            contentHelper.appendElementRow(title, link);\n          }\n        }\n      }\n    }\n\n    if (!requestPreviewElements.get(request) && request.url && target) {\n      /** @type {!HTMLImageElement} */\n      const previewElement = /** @type {!HTMLImageElement} */ (\n          await Components.ImagePreview.ImagePreview.build(target, request.url, false, {\n            imageAltText: Components.ImagePreview.ImagePreview.defaultAltTextForImageURL(request.url),\n            precomputedFeatures: undefined\n          }));\n\n      requestPreviewElements.set(request, previewElement);\n    }\n\n    const requestPreviewElement = requestPreviewElements.get(request);\n    if (requestPreviewElement) {\n      contentHelper.appendElementRow(ls`Preview`, requestPreviewElement);\n    }\n    return contentHelper.fragment;\n  }\n\n  /**\n   * @param {!Array<!Protocol.Runtime.CallFrame>} callFrames\n   * @return {!Protocol.Runtime.StackTrace}\n   */\n  static _stackTraceFromCallFrames(callFrames) {\n    return /** @type {!Protocol.Runtime.StackTrace} */ ({callFrames: callFrames});\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} event\n   * @param {?SDK.SDKModel.Target} target\n   * @param {?Map<number, ?SDK.DOMModel.DOMNode>} relatedNodesMap\n   * @param {!TimelineDetailsContentHelper} contentHelper\n   */\n  static _generateCauses(event, target, relatedNodesMap, contentHelper) {\n    const recordTypes = TimelineModel.TimelineModel.RecordType;\n\n    let callSiteStackLabel;\n    let stackLabel;\n\n    switch (event.name) {\n      case recordTypes.TimerFire:\n        callSiteStackLabel = ls`Timer Installed`;\n        break;\n      case recordTypes.FireAnimationFrame:\n        callSiteStackLabel = ls`Animation Frame Requested`;\n        break;\n      case recordTypes.FireIdleCallback:\n        callSiteStackLabel = ls`Idle Callback Requested`;\n        break;\n      case recordTypes.UpdateLayoutTree:\n      case recordTypes.RecalculateStyles:\n        stackLabel = ls`Recalculation Forced`;\n        break;\n      case recordTypes.Layout:\n        callSiteStackLabel = ls`First Layout Invalidation`;\n        stackLabel = ls`Layout Forced`;\n        break;\n    }\n\n    const timelineData = TimelineModel.TimelineModel.TimelineData.forEvent(event);\n    // Direct cause.\n    if (timelineData.stackTrace && timelineData.stackTrace.length) {\n      contentHelper.addSection(ls`Call Stacks`);\n      contentHelper.appendStackTrace(\n          stackLabel || ls`Stack Trace`, TimelineUIUtils._stackTraceFromCallFrames(timelineData.stackTrace));\n    }\n\n    const initiator = TimelineModel.TimelineModel.TimelineData.forEvent(event).initiator();\n    // Indirect causes.\n    if (TimelineModel.TimelineModel.InvalidationTracker.invalidationEventsFor(event) && target) {\n      // Full invalidation tracking (experimental).\n      contentHelper.addSection(ls`Invalidations`);\n      TimelineUIUtils._generateInvalidations(event, target, relatedNodesMap, contentHelper);\n    } else if (initiator) {  // Partial invalidation tracking.\n      const delay = event.startTime - initiator.startTime;\n      contentHelper.appendTextRow(ls`Pending for`, Number.preciseMillisToString(delay, 1));\n\n      const link = document.createElement('span');\n      link.classList.add('devtools-link');\n      UI.ARIAUtils.markAsLink(link);\n      link.tabIndex = 0;\n      link.textContent = ls`Reveal`;\n      link.addEventListener('click', () => {\n        TimelinePanel.instance().select(\n            TimelineSelection.fromTraceEvent(/** @type {!SDK.TracingModel.Event} */ (initiator)));\n      });\n      link.addEventListener('keydown', event => {\n        if (event.key === 'Enter') {\n          TimelinePanel.instance().select(\n              TimelineSelection.fromTraceEvent(/** @type {!SDK.TracingModel.Event} */ (initiator)));\n          event.consume(true);\n        }\n      });\n      contentHelper.appendElementRow(ls`Initiator`, link);\n\n      const initiatorStackTrace = TimelineModel.TimelineModel.TimelineData.forEvent(initiator).stackTrace;\n      if (initiatorStackTrace) {\n        contentHelper.appendStackTrace(\n            callSiteStackLabel || ls`First Invalidated`,\n            TimelineUIUtils._stackTraceFromCallFrames(initiatorStackTrace));\n      }\n    }\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} event\n   * @param {!SDK.SDKModel.Target} target\n   * @param {?Map<number, ?SDK.DOMModel.DOMNode>} relatedNodesMap\n   * @param {!TimelineDetailsContentHelper} contentHelper\n   */\n  static _generateInvalidations(event, target, relatedNodesMap, contentHelper) {\n    const invalidationTrackingEvents = TimelineModel.TimelineModel.InvalidationTracker.invalidationEventsFor(event);\n    if (!invalidationTrackingEvents) {\n      return;\n    }\n\n    /** @type {!Object.<string, !Array<!TimelineModel.TimelineModel.InvalidationTrackingEvent>>} */\n    const invalidations = {};\n    for (const invalidation of invalidationTrackingEvents) {\n      if (!invalidations[invalidation.type]) {\n        invalidations[invalidation.type] = [];\n      }\n      invalidations[invalidation.type].push(invalidation);\n    }\n\n    Object.keys(invalidations).forEach(function(type) {\n      TimelineUIUtils._generateInvalidationsForType(type, target, invalidations[type], relatedNodesMap, contentHelper);\n    });\n  }\n\n  /**\n   * @param {string} type\n   * @param {!SDK.SDKModel.Target} target\n   * @param {!Array.<!TimelineModel.TimelineModel.InvalidationTrackingEvent>} invalidations\n   * @param {?Map<number, ?SDK.DOMModel.DOMNode>} relatedNodesMap\n   * @param {!TimelineDetailsContentHelper} contentHelper\n   */\n  static _generateInvalidationsForType(type, target, invalidations, relatedNodesMap, contentHelper) {\n    let title;\n    switch (type) {\n      case TimelineModel.TimelineModel.RecordType.StyleRecalcInvalidationTracking:\n        title = ls`Style Invalidations`;\n        break;\n      case TimelineModel.TimelineModel.RecordType.LayoutInvalidationTracking:\n        title = ls`Layout Invalidations`;\n        break;\n      default:\n        title = ls`Other Invalidations`;\n        break;\n    }\n\n    const invalidationsTreeOutline = new UI.TreeOutline.TreeOutlineInShadow();\n    invalidationsTreeOutline.registerRequiredCSS('timeline/invalidationsTree.css', {enableLegacyPatching: false});\n    invalidationsTreeOutline.element.classList.add('invalidations-tree');\n\n    const invalidationGroups = groupInvalidationsByCause(invalidations);\n    invalidationGroups.forEach(function(group) {\n      const groupElement = new InvalidationsGroupElement(target, relatedNodesMap, contentHelper, group);\n      invalidationsTreeOutline.appendChild(groupElement);\n    });\n    contentHelper.appendElementRow(title, invalidationsTreeOutline.element, false, true);\n\n    /**\n     * @param {!Array<!TimelineModel.TimelineModel.InvalidationTrackingEvent>} invalidations\n     * @return {!Array<!Array<!TimelineModel.TimelineModel.InvalidationTrackingEvent>>}\n     */\n    function groupInvalidationsByCause(invalidations) {\n      /** @type {!Map<string, !Array<!TimelineModel.TimelineModel.InvalidationTrackingEvent>>} */\n      const causeToInvalidationMap = new Map();\n      for (let index = 0; index < invalidations.length; index++) {\n        const invalidation = invalidations[index];\n        let causeKey = '';\n        if (invalidation.cause.reason) {\n          causeKey += invalidation.cause.reason + '.';\n        }\n        if (invalidation.cause.stackTrace) {\n          invalidation.cause.stackTrace.forEach(function(stackFrame) {\n            causeKey += stackFrame['functionName'] + '.';\n            causeKey += stackFrame['scriptId'] + '.';\n            causeKey += stackFrame['url'] + '.';\n            causeKey += stackFrame['lineNumber'] + '.';\n            causeKey += stackFrame['columnNumber'] + '.';\n          });\n        }\n\n        const causeToInvalidation = causeToInvalidationMap.get(causeKey);\n        if (causeToInvalidation) {\n          causeToInvalidation.push(invalidation);\n        } else {\n          causeToInvalidationMap.set(causeKey, [invalidation]);\n        }\n      }\n      return [...causeToInvalidationMap.values()];\n    }\n  }\n\n  /**\n   * @param {!Set<number>} nodeIds\n   * @param {!Array<!TimelineModel.TimelineModel.InvalidationTrackingEvent>} invalidations\n   */\n  static _collectInvalidationNodeIds(nodeIds, invalidations) {\n    Platform.SetUtilities.addAll(nodeIds, invalidations.map(invalidation => invalidation.nodeId).filter(id => id));\n  }\n\n  /**\n   * @param {!Object.<string, number>} total\n   * @param {!TimelineModel.TimelineModel.TimelineModelImpl} model\n   * @param {!SDK.TracingModel.Event} event\n   * @return {boolean}\n   */\n  static _aggregatedStatsForTraceEvent(total, model, event) {\n    const events = model.inspectedTargetEvents();\n    /**\n     * @param {number} startTime\n     * @param {!SDK.TracingModel.Event} e\n     * @return {number}\n     */\n    function eventComparator(startTime, e) {\n      return startTime - e.startTime;\n    }\n\n    const index = Platform.ArrayUtilities.binaryIndexOf(events, event.startTime, eventComparator);\n    // Not a main thread event?\n    if (index < 0) {\n      return false;\n    }\n    let hasChildren = false;\n    const endTime = event.endTime;\n    if (endTime) {\n      for (let i = index; i < events.length; i++) {\n        const nextEvent = events[i];\n        if (nextEvent.startTime >= endTime) {\n          break;\n        }\n        if (!nextEvent.selfTime) {\n          continue;\n        }\n        if (nextEvent.thread !== event.thread) {\n          continue;\n        }\n        if (i > index) {\n          hasChildren = true;\n        }\n        const categoryName = TimelineUIUtils.eventStyle(nextEvent).category.name;\n        total[categoryName] = (total[categoryName] || 0) + nextEvent.selfTime;\n      }\n    }\n    if (SDK.TracingModel.TracingModel.isAsyncPhase(event.phase)) {\n      if (event.endTime) {\n        let aggregatedTotal = 0;\n        for (const categoryName in total) {\n          aggregatedTotal += total[categoryName];\n        }\n        total['idle'] = Math.max(0, event.endTime - event.startTime - aggregatedTotal);\n      }\n      return false;\n    }\n    return hasChildren;\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} event\n   * @param {!SDK.SDKModel.Target} target\n   * @return {!Promise<?Element>}\n   */\n  static async buildPicturePreviewContent(event, target) {\n    const snapshotWithRect =\n        await new TimelineModel.TimelineFrameModel.LayerPaintEvent(event, target).snapshotPromise();\n    if (!snapshotWithRect) {\n      return null;\n    }\n    const imageURLPromise = snapshotWithRect.snapshot.replay();\n    snapshotWithRect.snapshot.release();\n    const imageURL = await imageURLPromise;\n    if (!imageURL) {\n      return null;\n    }\n    const container = document.createElement('div');\n    UI.Utils.appendStyle(container, 'components/imagePreview.css', {enableLegacyPatching: false});\n    container.classList.add('image-preview-container', 'vbox', 'link');\n    const img = /** @type {!HTMLImageElement} */ (container.createChild('img'));\n    img.src = imageURL;\n    img.alt = Components.ImagePreview.ImagePreview.defaultAltTextForImageURL(imageURL);\n    const paintProfilerButton = container.createChild('a');\n    paintProfilerButton.textContent = ls`Paint Profiler`;\n    UI.ARIAUtils.markAsLink(container);\n    container.tabIndex = 0;\n    container.addEventListener(\n        'click', () => TimelinePanel.instance().select(TimelineSelection.fromTraceEvent(event)), false);\n    container.addEventListener('keydown', keyEvent => {\n      if (keyEvent.key === 'Enter') {\n        TimelinePanel.instance().select(TimelineSelection.fromTraceEvent(event));\n        keyEvent.consume(true);\n      }\n    });\n    return container;\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} event\n   * @param {number} zeroTime\n   * @return {!Element}\n   */\n  static createEventDivider(event, zeroTime) {\n    const eventDivider = document.createElement('div');\n    eventDivider.classList.add('resources-event-divider');\n    const startTime = Number.millisToString(event.startTime - zeroTime);\n    UI.Tooltip.Tooltip.install(\n        eventDivider, Common.UIString.UIString('%s at %s', TimelineUIUtils.eventTitle(event), startTime));\n    const style = TimelineUIUtils.markerStyleForEvent(event);\n    if (style.tall) {\n      eventDivider.style.backgroundColor = style.color;\n    }\n    return eventDivider;\n  }\n\n  /**\n   * @return {!Array.<string>}\n   */\n  static _visibleTypes() {\n    const eventStyles = TimelineUIUtils._initEventStyles();\n    const result = [];\n    for (const name in eventStyles) {\n      if (!eventStyles[name].hidden) {\n        result.push(name);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * @return {!TimelineModel.TimelineModelFilter.TimelineModelFilter}\n   */\n  static visibleEventsFilter() {\n    return new TimelineModel.TimelineModelFilter.TimelineVisibleEventsFilter(TimelineUIUtils._visibleTypes());\n  }\n\n  /**\n   * @return {!Object.<string, !TimelineCategory>}\n   */\n  static categories() {\n    if (categories) {\n      return categories;\n    }\n    categories = {\n      loading: new TimelineCategory('loading', ls`Loading`, true, 'hsl(214, 67%, 74%)', 'hsl(214, 67%, 66%)'),\n      experience: new TimelineCategory('experience', ls`Experience`, false, 'hsl(5, 80%, 74%)', 'hsl(5, 80%, 66%)'),\n      scripting: new TimelineCategory('scripting', ls`Scripting`, true, 'hsl(43, 83%, 72%)', 'hsl(43, 83%, 64%) '),\n      rendering: new TimelineCategory('rendering', ls`Rendering`, true, 'hsl(256, 67%, 76%)', 'hsl(256, 67%, 70%)'),\n      painting: new TimelineCategory('painting', ls`Painting`, true, 'hsl(109, 33%, 64%)', 'hsl(109, 33%, 55%)'),\n      gpu: new TimelineCategory('gpu', ls`GPU`, false, 'hsl(109, 33%, 64%)', 'hsl(109, 33%, 55%)'),\n      async: new TimelineCategory('async', ls`Async`, false, 'hsl(0, 100%, 50%)', 'hsl(0, 100%, 40%)'),\n      other: new TimelineCategory('other', ls`System`, false, 'hsl(0, 0%, 87%)', 'hsl(0, 0%, 79%)'),\n      idle: new TimelineCategory('idle', ls`Idle`, false, 'hsl(0, 0%, 98%)', 'hsl(0, 0%, 98%)')\n    };\n    return categories;\n  }\n\n  /**\n   * @param {!Object.<string, !TimelineCategory>} cats\n   */\n  static setCategories(cats) {\n    categories = cats;\n  }\n\n  /**\n   * @return {!Array<string>}\n   */\n  static getTimelineMainEventCategories() {\n    if (eventCategories) {\n      return eventCategories;\n    }\n    eventCategories = ['idle', 'loading', 'painting', 'rendering', 'scripting', 'other'];\n    return eventCategories;\n  }\n\n  /**\n   * @param {!Array<string>} categories\n   */\n  static setTimelineMainEventCategories(categories) {\n    eventCategories = categories;\n  }\n\n  /**\n   * @param {!Object.<string, number>} aggregatedStats\n   * @param {!TimelineCategory=} selfCategory\n   * @param {number=} selfTime\n   * @return {!Element}\n   */\n  static generatePieChart(aggregatedStats, selfCategory, selfTime) {\n    let total = 0;\n    for (const categoryName in aggregatedStats) {\n      total += aggregatedStats[categoryName];\n    }\n\n    const element = document.createElement('div');\n    element.classList.add('timeline-details-view-pie-chart-wrapper');\n    element.classList.add('hbox');\n\n    const pieChart = new PerfUI.PieChart.PieChart();\n    /** @type {!Array<{value: number, color: string, title: string}>} */\n    const slices = [];\n\n    /**\n     * @param {string} name\n     * @param {string} title\n     * @param {number} value\n     * @param {string} color\n     */\n    function appendLegendRow(name, title, value, color) {\n      if (!value) {\n        return;\n      }\n      slices.push({value, color, title});\n    }\n\n    // In case of self time, first add self, then children of the same category.\n    if (selfCategory) {\n      if (selfTime) {\n        appendLegendRow(\n            selfCategory.name, Common.UIString.UIString('%s (self)', selfCategory.title), selfTime, selfCategory.color);\n      }\n      // Children of the same category.\n      const categoryTime = aggregatedStats[selfCategory.name];\n      const value = categoryTime - (selfTime || 0);\n      if (value > 0) {\n        appendLegendRow(\n            selfCategory.name, Common.UIString.UIString('%s (children)', selfCategory.title), value,\n            selfCategory.childColor);\n      }\n    }\n\n    // Add other categories.\n    for (const categoryName in TimelineUIUtils.categories()) {\n      const category = TimelineUIUtils.categories()[categoryName];\n      if (category === selfCategory) {\n        continue;\n      }\n      appendLegendRow(category.name, category.title, aggregatedStats[category.name], category.childColor);\n    }\n\n    pieChart.data = {\n      chartName: ls`Time spent in rendering`,\n      size: 110,\n      formatter: value => Number.preciseMillisToString(value),\n      showLegend: true,\n      total,\n      slices\n    };\n    const pieChartContainer = element.createChild('div', 'vbox');\n    pieChartContainer.appendChild(pieChart);\n\n    return element;\n  }\n\n  /**\n   * @param {!TimelineModel.TimelineFrameModel.TimelineFrame} frame\n   * @param {?SDK.FilmStripModel.Frame} filmStripFrame\n   * @return {!DocumentFragment}\n   */\n  static generateDetailsContentForFrame(frame, filmStripFrame) {\n    const contentHelper = new TimelineDetailsContentHelper(null, null);\n    contentHelper.addSection(ls`Frame`);\n\n    const duration = TimelineUIUtils.frameDuration(frame);\n    contentHelper.appendElementRow(ls`Duration`, duration, frame.hasWarnings());\n    const durationInMillis = frame.endTime - frame.startTime;\n    contentHelper.appendTextRow(ls`FPS`, Math.floor(1000 / durationInMillis));\n    contentHelper.appendTextRow(ls`CPU time`, Number.millisToString(frame.cpuTime, true));\n    if (filmStripFrame) {\n      const filmStripPreview = document.createElement('div');\n      filmStripPreview.classList.add('timeline-filmstrip-preview');\n      filmStripFrame.imageDataPromise()\n          .then(data => UI.UIUtils.loadImageFromData(data))\n          .then(image => image && filmStripPreview.appendChild(image));\n      contentHelper.appendElementRow('', filmStripPreview);\n      filmStripPreview.addEventListener('click', frameClicked.bind(null, filmStripFrame), false);\n    }\n\n    if (frame.layerTree) {\n      contentHelper.appendElementRow(\n          ls`Layer tree`, Components.Linkifier.Linkifier.linkifyRevealable(frame.layerTree, ls`Show`));\n    }\n\n    /**\n     * @param {!SDK.FilmStripModel.Frame} filmStripFrame\n     */\n    function frameClicked(filmStripFrame) {\n      new PerfUI.FilmStripView.Dialog(filmStripFrame, 0);\n    }\n\n    return contentHelper.fragment;\n  }\n\n  /**\n   * @param {!TimelineModel.TimelineFrameModel.TimelineFrame} frame\n   * @return {!Element}\n   */\n  static frameDuration(frame) {\n    const durationText = Common.UIString.UIString(\n        '%s (at %s)', Number.millisToString(frame.endTime - frame.startTime, true),\n        Number.millisToString(frame.startTimeOffset, true));\n    if (!frame.hasWarnings()) {\n      return UI.UIUtils.formatLocalized('%s', [durationText]);\n    }\n\n    const link =\n        UI.XLink.XLink.create('https://developers.google.com/web/fundamentals/performance/rendering/', ls`jank`);\n    return UI.UIUtils.formatLocalized('%s. Long frame times are an indication of %s', [durationText, link]);\n  }\n\n  /**\n   * @param {!CanvasRenderingContext2D} context\n   * @param {number} width\n   * @param {number} height\n   * @param {string} color0\n   * @param {string} color1\n   * @param {string} color2\n   * @return {!CanvasGradient}\n   */\n  static createFillStyle(context, width, height, color0, color1, color2) {\n    const gradient = context.createLinearGradient(0, 0, width, height);\n    gradient.addColorStop(0, color0);\n    gradient.addColorStop(0.25, color1);\n    gradient.addColorStop(0.75, color1);\n    gradient.addColorStop(1, color2);\n    return gradient;\n  }\n\n  /**\n   * @param {!Array.<number>} quad\n   * @return {number}\n   */\n  static quadWidth(quad) {\n    return Math.round(Math.sqrt(Math.pow(quad[0] - quad[2], 2) + Math.pow(quad[1] - quad[3], 2)));\n  }\n\n  /**\n   * @param {!Array.<number>} quad\n   * @return {number}\n   */\n  static quadHeight(quad) {\n    return Math.round(Math.sqrt(Math.pow(quad[0] - quad[6], 2) + Math.pow(quad[1] - quad[7], 2)));\n  }\n\n  /**\n   * @return {!Array.<!EventDispatchTypeDescriptor>}\n   */\n  static eventDispatchDesciptors() {\n    if (eventDispatchDesciptors) {\n      return eventDispatchDesciptors;\n    }\n    const lightOrange = 'hsl(40,100%,80%)';\n    const orange = 'hsl(40,100%,50%)';\n    const green = 'hsl(90,100%,40%)';\n    const purple = 'hsl(256,100%,75%)';\n    eventDispatchDesciptors = [\n      new EventDispatchTypeDescriptor(\n          1, lightOrange, ['mousemove', 'mouseenter', 'mouseleave', 'mouseout', 'mouseover']),\n      new EventDispatchTypeDescriptor(\n          1, lightOrange, ['pointerover', 'pointerout', 'pointerenter', 'pointerleave', 'pointermove']),\n      new EventDispatchTypeDescriptor(2, green, ['wheel']),\n      new EventDispatchTypeDescriptor(3, orange, ['click', 'mousedown', 'mouseup']),\n      new EventDispatchTypeDescriptor(3, orange, ['touchstart', 'touchend', 'touchmove', 'touchcancel']),\n      new EventDispatchTypeDescriptor(\n          3, orange, ['pointerdown', 'pointerup', 'pointercancel', 'gotpointercapture', 'lostpointercapture']),\n      new EventDispatchTypeDescriptor(3, purple, ['keydown', 'keyup', 'keypress'])\n    ];\n    return eventDispatchDesciptors;\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} event\n   * @return {?string}\n   */\n  static markerShortTitle(event) {\n    const recordTypes = TimelineModel.TimelineModel.RecordType;\n    switch (event.name) {\n      case recordTypes.MarkDOMContent:\n        return ls`DCL`;\n      case recordTypes.MarkLoad:\n        return ls`L`;\n      case recordTypes.MarkFirstPaint:\n        return ls`FP`;\n      case recordTypes.MarkFCP:\n        return ls`FCP`;\n      case recordTypes.MarkLCPCandidate:\n        return ls`LCP`;\n    }\n    return null;\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} event\n   * @return {!TimelineMarkerStyle}\n   */\n  static markerStyleForEvent(event) {\n    const tallMarkerDashStyle = [6, 4];\n    const title = TimelineUIUtils.eventTitle(event);\n    const recordTypes = TimelineModel.TimelineModel.RecordType;\n\n    if (event.name !== recordTypes.NavigationStart &&\n        (event.hasCategory(TimelineModel.TimelineModel.TimelineModelImpl.Category.Console) ||\n         event.hasCategory(TimelineModel.TimelineModel.TimelineModelImpl.Category.UserTiming))) {\n      return {\n        title: title,\n        dashStyle: tallMarkerDashStyle,\n        lineWidth: 0.5,\n        color: event.hasCategory(TimelineModel.TimelineModel.TimelineModelImpl.Category.UserTiming) ? 'purple' :\n                                                                                                      'orange',\n        tall: false,\n        lowPriority: false,\n      };\n    }\n    let tall = false;\n    let color = 'grey';\n    switch (event.name) {\n      case recordTypes.NavigationStart:\n        color = '#FF9800';\n        tall = true;\n        break;\n      case recordTypes.FrameStartedLoading:\n        color = 'green';\n        tall = true;\n        break;\n      case recordTypes.MarkDOMContent:\n        color = '#0867CB';\n        tall = true;\n        break;\n      case recordTypes.MarkLoad:\n        color = '#B31412';\n        tall = true;\n        break;\n      case recordTypes.MarkFirstPaint:\n        color = '#228847';\n        tall = true;\n        break;\n      case recordTypes.MarkFCP:\n        color = '#1A6937';\n        tall = true;\n        break;\n      case recordTypes.MarkLCPCandidate:\n        color = '#1A3422';\n        tall = true;\n        break;\n      case recordTypes.TimeStamp:\n        color = 'orange';\n        break;\n    }\n    return {\n      title: title,\n      dashStyle: tallMarkerDashStyle,\n      lineWidth: 0.5,\n      color: color,\n      tall: tall,\n      lowPriority: false,\n    };\n  }\n\n  /**\n   * @return {!TimelineMarkerStyle}\n   */\n  static markerStyleForFrame() {\n    return {\n      title: ls`Frame`,\n      color: 'rgba(100, 100, 100, 0.4)',\n      lineWidth: 3,\n      dashStyle: [3],\n      tall: true,\n      lowPriority: true\n    };\n  }\n\n  /**\n   * @param {string} id\n   * @return {string}\n   */\n  static colorForId(id) {\n    if (!colorGenerator) {\n      colorGenerator =\n          new Common.Color.Generator({min: 30, max: 330, count: undefined}, {min: 50, max: 80, count: 3}, 85);\n      colorGenerator.setColorForID('', '#f2ecdc');\n    }\n    return colorGenerator.colorForID(id);\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} event\n   * @param {string=} warningType\n   * @return {?Element}\n   */\n  static eventWarning(event, warningType) {\n    const timelineData = TimelineModel.TimelineModel.TimelineData.forEvent(event);\n    const warning = warningType || timelineData.warning;\n    if (!warning) {\n      return null;\n    }\n    const warnings = TimelineModel.TimelineModel.TimelineModelImpl.WarningType;\n    const span = document.createElement('span');\n    const eventData = event.args['data'];\n\n    switch (warning) {\n      case warnings.ForcedStyle:\n      case warnings.ForcedLayout: {\n        const forcedReflowLink = UI.UIUtils.createDocumentationLink(\n            '../../fundamentals/performance/rendering/avoid-large-complex-layouts-and-layout-thrashing#avoid-forced-synchronous-layouts',\n            ls`Forced reflow`);\n        span.appendChild(UI.UIUtils.formatLocalized('%s is a likely performance bottleneck.', [forcedReflowLink]));\n        break;\n      }\n\n      case warnings.IdleDeadlineExceeded: {\n        const exceededMs = Number.millisToString((event.duration || 0) - eventData['allottedMilliseconds'], true);\n        span.textContent = ls`Idle callback execution extended beyond deadline by ${exceededMs}`;\n        break;\n      }\n\n      case warnings.LongHandler: {\n        span.textContent =\n            Common.UIString.UIString('Handler took %s', Number.millisToString((event.duration || 0), true));\n        break;\n      }\n\n      case warnings.LongRecurringHandler: {\n        span.textContent =\n            Common.UIString.UIString('Recurring handler took %s', Number.millisToString((event.duration || 0), true));\n        break;\n      }\n\n      case warnings.LongTask: {\n        const longTaskLink = UI.UIUtils.createDocumentationLink(\n            '../../fundamentals/performance/rail#goals-and-guidelines', ls`Long task`);\n        span.appendChild(UI.UIUtils.formatLocalized(\n            '%s took %s.', [longTaskLink, Number.millisToString((event.duration || 0), true)]));\n        break;\n      }\n\n      case warnings.V8Deopt: {\n        span.appendChild(UI.XLink.XLink.create(\n            'https://github.com/GoogleChrome/devtools-docs/issues/53', Common.UIString.UIString('Not optimized')));\n        UI.UIUtils.createTextChild(span, Common.UIString.UIString(': %s', eventData['deoptReason']));\n        break;\n      }\n\n      default: {\n        console.assert(false, 'Unhandled TimelineModel.WarningType');\n      }\n    }\n    return span;\n  }\n\n  /**\n   * @param {!TimelineModel.TimelineModel.PageFrame} frame\n   * @param {number=} trimAt\n   */\n  static displayNameForFrame(frame, trimAt) {\n    const url = frame.url;\n    if (!trimAt) {\n      trimAt = 30;\n    }\n    return url.startsWith('about:') ? `\"${Platform.StringUtilities.trimMiddle(frame.name, trimAt)}\"` :\n                                      frame.url.trimEnd(trimAt);\n  }\n}\n\nexport class TimelineRecordStyle {\n  /**\n   * @param {string} title\n   * @param {!TimelineCategory} category\n   * @param {boolean=} hidden\n   */\n  constructor(title, category, hidden = false) {\n    this.title = title;\n    this.category = category;\n    this.hidden = hidden;\n  }\n}\n\n/**\n * @enum {symbol}\n */\nexport const NetworkCategory = {\n  HTML: Symbol('HTML'),\n  Script: Symbol('Script'),\n  Style: Symbol('Style'),\n  Media: Symbol('Media'),\n  Other: Symbol('Other')\n};\n\nexport const aggregatedStatsKey = Symbol('aggregatedStats');\n\nexport class InvalidationsGroupElement extends UI.TreeOutline.TreeElement {\n  /**\n   * @param {!SDK.SDKModel.Target} target\n   * @param {?Map<number, ?SDK.DOMModel.DOMNode>} relatedNodesMap\n   * @param {!TimelineDetailsContentHelper} contentHelper\n   * @param {!Array.<!TimelineModel.TimelineModel.InvalidationTrackingEvent>} invalidations\n   */\n  constructor(target, relatedNodesMap, contentHelper, invalidations) {\n    super('', true);\n\n    this.listItemElement.classList.add('header');\n    this.selectable = false;\n    this.toggleOnClick = true;\n\n    this._relatedNodesMap = relatedNodesMap;\n    this._contentHelper = contentHelper;\n    this._invalidations = invalidations;\n    this.title = this._createTitle(target);\n  }\n\n  /**\n   * @param {!SDK.SDKModel.Target} target\n   * @return {!Element}\n   */\n  _createTitle(target) {\n    const first = this._invalidations[0];\n    const reason = first.cause.reason || ls`Unknown cause`;\n    const topFrame = first.cause.stackTrace && first.cause.stackTrace[0];\n\n    const truncatedNodesElement = this._getTruncatedNodesElement(this._invalidations);\n    if (truncatedNodesElement === null) {\n      return UI.UIUtils.formatLocalized(reason, []);\n    }\n\n    const title = UI.UIUtils.formatLocalized('%s for %s', [reason, truncatedNodesElement]);\n\n    if (topFrame && this._contentHelper.linkifier()) {\n      const stack = document.createElement('span');\n      stack.classList.add('monospace');\n      const completeTitle = UI.UIUtils.formatLocalized('%s. %s', [title, stack]);\n      stack.createChild('span').textContent = TimelineUIUtils.frameDisplayName(topFrame);\n      const linkifier = this._contentHelper.linkifier();\n      if (linkifier) {\n        const link = linkifier.maybeLinkifyConsoleCallFrame(target, topFrame);\n        if (link) {\n          // Linkifier is using a workaround with the 'zero width space' (\\u200b).\n          // TODO(szuend): Remove once the Linkifier is no longer using the workaround.\n          if (!link.textContent || link.textContent === '\\u200b') {\n            link.textContent = ls`unknown`;\n          }\n          stack.createChild('span').textContent = ' @ ';\n          stack.createChild('span').appendChild(link);\n        }\n      }\n      return completeTitle;\n    }\n\n    return title;\n  }\n\n  /**\n   * @override\n   * @returns {!Promise<void>}\n   */\n  async onpopulate() {\n    const content = document.createElement('div');\n    content.classList.add('content');\n\n    const first = this._invalidations[0];\n    if (first.cause.stackTrace) {\n      const stack = content.createChild('div');\n      UI.UIUtils.createTextChild(stack, ls`Stack trace:`);\n      this._contentHelper.createChildStackTraceElement(\n          stack, TimelineUIUtils._stackTraceFromCallFrames(first.cause.stackTrace));\n    }\n\n    UI.UIUtils.createTextChild(content, this._invalidations.length !== 1 ? ls`Nodes:` : ls`Node:`);\n    const nodeList = content.createChild('div', 'node-list');\n    let firstNode = true;\n    for (let i = 0; i < this._invalidations.length; i++) {\n      const invalidation = this._invalidations[i];\n      const invalidationNode = this._createInvalidationNode(invalidation, true);\n      if (invalidationNode) {\n        if (!firstNode) {\n          UI.UIUtils.createTextChild(nodeList, ls`, `);\n        }\n        firstNode = false;\n\n        nodeList.appendChild(invalidationNode);\n\n        const extraData = invalidation.extraData ? ', ' + invalidation.extraData : '';\n        if (invalidation.changedId) {\n          UI.UIUtils.createTextChild(\n              nodeList, Common.UIString.UIString('(changed id to \"%s\"%s)', invalidation.changedId, extraData));\n        } else if (invalidation.changedClass) {\n          UI.UIUtils.createTextChild(\n              nodeList, Common.UIString.UIString('(changed class to \"%s\"%s)', invalidation.changedClass, extraData));\n        } else if (invalidation.changedAttribute) {\n          UI.UIUtils.createTextChild(\n              nodeList,\n              Common.UIString.UIString('(changed attribute to \"%s\"%s)', invalidation.changedAttribute, extraData));\n        } else if (invalidation.changedPseudo) {\n          UI.UIUtils.createTextChild(\n              nodeList, Common.UIString.UIString('(changed pesudo to \"%s\"%s)', invalidation.changedPseudo, extraData));\n        } else if (invalidation.selectorPart) {\n          UI.UIUtils.createTextChild(\n              nodeList, Common.UIString.UIString('(changed \"%s\"%s)', invalidation.selectorPart, extraData));\n        }\n      }\n    }\n\n    const contentTreeElement = new UI.TreeOutline.TreeElement(content, false);\n    contentTreeElement.selectable = false;\n    this.appendChild(contentTreeElement);\n  }\n\n  /**\n   * @param {!Array.<!TimelineModel.TimelineModel.InvalidationTrackingEvent>} invalidations\n   * @returns {?Element}\n   */\n  _getTruncatedNodesElement(invalidations) {\n    const invalidationNodes = [];\n    /** @type {!Object.<number, boolean>} */\n    const invalidationNodeIdMap = {};\n    for (let i = 0; i < invalidations.length; i++) {\n      const invalidation = invalidations[i];\n      const invalidationNode = this._createInvalidationNode(invalidation, false);\n      invalidationNode.addEventListener('click', /** @param {!Event} evt */ evt => evt.consume(), false);\n      if (invalidationNode && invalidation.nodeId && !invalidationNodeIdMap[invalidation.nodeId]) {\n        invalidationNodes.push(invalidationNode);\n        invalidationNodeIdMap[invalidation.nodeId] = true;\n      }\n    }\n\n    if (invalidationNodes.length === 1) {\n      const node = invalidationNodes[0];\n      if (node instanceof HTMLSpanElement) {\n        return node;\n      }\n\n      return null;\n    }\n    if (invalidationNodes.length === 2) {\n      return UI.UIUtils.formatLocalized('%s and %s', invalidationNodes);\n    }\n    if (invalidationNodes.length === 3) {\n      return UI.UIUtils.formatLocalized('%s, %s, and 1 other', invalidationNodes.slice(0, 2));\n    }\n    if (invalidationNodes.length >= 4) {\n      return UI.UIUtils.formatLocalized(\n          '%s, %s, and %s others', [...invalidationNodes.slice(0, 2), (invalidationNodes.length - 2).toString()]);\n    }\n    return null;\n  }\n\n  /**\n   * @param {!TimelineModel.TimelineModel.InvalidationTrackingEvent} invalidation\n   * @param {boolean} showUnknownNodes\n   */\n  _createInvalidationNode(invalidation, showUnknownNodes) {\n    const node = (invalidation.nodeId && this._relatedNodesMap) ? this._relatedNodesMap.get(invalidation.nodeId) : null;\n    if (node) {\n      const nodeSpan = document.createElement('span');\n      Common.Linkifier.Linkifier.linkify(node).then(link => nodeSpan.appendChild(link));\n      return nodeSpan;\n    }\n    if (invalidation.nodeName) {\n      const nodeSpan = document.createElement('span');\n      nodeSpan.textContent = Common.UIString.UIString('[ %s ]', invalidation.nodeName);\n      return nodeSpan;\n    }\n    if (showUnknownNodes) {\n      const nodeSpan = document.createElement('span');\n      return UI.UIUtils.createTextChild(nodeSpan, Common.UIString.UIString('[ unknown node ]'));\n    }\n\n    throw new Error('Unable to create invalidation node');\n  }\n}\n\nexport const previewElementSymbol = Symbol('previewElement');\n\nexport class EventDispatchTypeDescriptor {\n  /**\n   * @param {number} priority\n   * @param {string} color\n   * @param {!Array.<string>} eventTypes\n   */\n  constructor(priority, color, eventTypes) {\n    this.priority = priority;\n    this.color = color;\n    this.eventTypes = eventTypes;\n  }\n}\n\nexport class TimelineCategory extends Common.ObjectWrapper.ObjectWrapper {\n  /**\n   * @param {string} name\n   * @param {string} title\n   * @param {boolean} visible\n   * @param {string} childColor\n   * @param {string} color\n   */\n  constructor(name, title, visible, childColor, color) {\n    super();\n    this.name = name;\n    this.title = title;\n    this.visible = visible;\n    this.childColor = childColor;\n    this.color = color;\n    this.hidden = false;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  get hidden() {\n    return Boolean(this._hidden);\n  }\n\n  /**\n   * @param {boolean} hidden\n   */\n  set hidden(hidden) {\n    this._hidden = hidden;\n    this.dispatchEventToListeners(TimelineCategory.Events.VisibilityChanged, this);\n  }\n}\n\n/** @enum {symbol} */\nTimelineCategory.Events = {\n  VisibilityChanged: Symbol('VisibilityChanged')\n};\n\nexport class TimelinePopupContentHelper {\n  /**\n   * @param {string} title\n   */\n  constructor(title) {\n    this._contentTable = document.createElement('table');\n    const titleCell = this._createCell(Common.UIString.UIString('%s - Details', title), 'timeline-details-title');\n    titleCell.colSpan = 2;\n    const titleRow = document.createElement('tr');\n    titleRow.appendChild(titleCell);\n    this._contentTable.appendChild(titleRow);\n  }\n\n  /**\n   * @return {!Element}\n   */\n  contentTable() {\n    return this._contentTable;\n  }\n\n  /**\n   * @param {string|number} content\n   * @param {string=} styleName\n   */\n  _createCell(content, styleName) {\n    const text = document.createElement('label');\n    UI.UIUtils.createTextChild(text, String(content));\n    const cell = document.createElement('td');\n    cell.className = 'timeline-details';\n    if (styleName) {\n      cell.className += ' ' + styleName;\n    }\n    cell.textContent = content.toString();\n    return cell;\n  }\n\n  /**\n   * @param {string} title\n   * @param {string|number} content\n   */\n  appendTextRow(title, content) {\n    const row = document.createElement('tr');\n    row.appendChild(this._createCell(title, 'timeline-details-row-title'));\n    row.appendChild(this._createCell(content, 'timeline-details-row-data'));\n    this._contentTable.appendChild(row);\n  }\n\n  /**\n   * @param {string} title\n   * @param {!Node|string} content\n   */\n  appendElementRow(title, content) {\n    const row = document.createElement('tr');\n    const titleCell = this._createCell(title, 'timeline-details-row-title');\n    row.appendChild(titleCell);\n    const cell = document.createElement('td');\n    cell.className = 'details';\n    if (content instanceof Node) {\n      cell.appendChild(content);\n    } else {\n      UI.UIUtils.createTextChild(cell, content || '');\n    }\n    row.appendChild(cell);\n    this._contentTable.appendChild(row);\n  }\n}\n\nexport class TimelineDetailsContentHelper {\n  /**\n   * @param {?SDK.SDKModel.Target} target\n   * @param {?Components.Linkifier.Linkifier} linkifier\n   */\n  constructor(target, linkifier) {\n    this.fragment = document.createDocumentFragment();\n\n    this._linkifier = linkifier;\n    this._target = target;\n\n    this.element = document.createElement('div');\n    this.element.classList.add('timeline-details-view-block');\n    this._tableElement = this.element.createChild('div', 'vbox timeline-details-chip-body');\n    this.fragment.appendChild(this.element);\n  }\n\n  /**\n   * @param {string} title\n   * @param {string=} swatchColor\n   */\n  addSection(title, swatchColor) {\n    if (!this._tableElement.hasChildNodes()) {\n      this.element.removeChildren();\n    } else {\n      this.element = document.createElement('div');\n      this.element.classList.add('timeline-details-view-block');\n      this.fragment.appendChild(this.element);\n    }\n\n    if (title) {\n      const titleElement = this.element.createChild('div', 'timeline-details-chip-title');\n      if (swatchColor) {\n        titleElement.createChild('div').style.backgroundColor = swatchColor;\n      }\n      UI.UIUtils.createTextChild(titleElement, title);\n    }\n\n    this._tableElement = this.element.createChild('div', 'vbox timeline-details-chip-body');\n    this.fragment.appendChild(this.element);\n  }\n\n  /**\n   * @return {?Components.Linkifier.Linkifier}\n   */\n  linkifier() {\n    return this._linkifier;\n  }\n\n  /**\n   * @param {string} title\n   * @param {string|number|boolean} value\n   */\n  appendTextRow(title, value) {\n    const rowElement = this._tableElement.createChild('div', 'timeline-details-view-row');\n    rowElement.createChild('div', 'timeline-details-view-row-title').textContent = title;\n    rowElement.createChild('div', 'timeline-details-view-row-value').textContent = value.toString();\n  }\n\n  /**\n   * @param {string} title\n   * @param {!Node|string} content\n   * @param {boolean=} isWarning\n   * @param {boolean=} isStacked\n   */\n  appendElementRow(title, content, isWarning, isStacked) {\n    const rowElement = this._tableElement.createChild('div', 'timeline-details-view-row');\n    if (isWarning) {\n      rowElement.classList.add('timeline-details-warning');\n    }\n    if (isStacked) {\n      rowElement.classList.add('timeline-details-stack-values');\n    }\n    const titleElement = rowElement.createChild('div', 'timeline-details-view-row-title');\n    titleElement.textContent = title;\n    const valueElement = rowElement.createChild('div', 'timeline-details-view-row-value');\n    if (content instanceof Node) {\n      valueElement.appendChild(content);\n    } else {\n      UI.UIUtils.createTextChild(valueElement, content || '');\n    }\n  }\n\n  /**\n   * @param {string} title\n   * @param {string} url\n   * @param {number} startLine\n   * @param {number=} startColumn\n   */\n  appendLocationRow(title, url, startLine, startColumn) {\n    if (!this._linkifier || !this._target) {\n      return;\n    }\n\n    const options = {\n      tabStop: true,\n      className: undefined,\n      columnNumber: startColumn,\n      text: undefined,\n      lineNumber: undefined,\n      preventClick: undefined,\n      maxLength: undefined,\n      bypassURLTrimming: undefined\n    };\n    const link = this._linkifier.maybeLinkifyScriptLocation(this._target, null, url, startLine, options);\n    if (!link) {\n      return;\n    }\n    this.appendElementRow(title, link);\n  }\n\n  /**\n   * @param {string} title\n   * @param {string} url\n   * @param {number} startLine\n   * @param {number=} endLine\n   */\n  appendLocationRange(title, url, startLine, endLine) {\n    if (!this._linkifier || !this._target) {\n      return;\n    }\n    const locationContent = document.createElement('span');\n    const link = this._linkifier.maybeLinkifyScriptLocation(\n        this._target, null, url, startLine, {tabStop: true, className: undefined, columnNumber: undefined});\n    if (!link) {\n      return;\n    }\n    locationContent.appendChild(link);\n    UI.UIUtils.createTextChild(\n        locationContent, Platform.StringUtilities.sprintf(' [%s%s]', startLine + 1, (endLine || 0) + 1 || ''));\n    this.appendElementRow(title, locationContent);\n  }\n\n  /**\n   * @param {string} title\n   * @param {!Protocol.Runtime.StackTrace} stackTrace\n   */\n  appendStackTrace(title, stackTrace) {\n    if (!this._linkifier || !this._target) {\n      return;\n    }\n\n    const rowElement = this._tableElement.createChild('div', 'timeline-details-view-row');\n    rowElement.createChild('div', 'timeline-details-view-row-title').textContent = title;\n    this.createChildStackTraceElement(rowElement, stackTrace);\n  }\n\n  /**\n   * @param {!Element} parentElement\n   * @param {!Protocol.Runtime.StackTrace} stackTrace\n   */\n  createChildStackTraceElement(parentElement, stackTrace) {\n    if (!this._linkifier || !this._target) {\n      return;\n    }\n    parentElement.classList.add('timeline-details-stack-values');\n    const stackTraceElement =\n        parentElement.createChild('div', 'timeline-details-view-row-value timeline-details-view-row-stack-trace');\n    const callFrameContents = Components.JSPresentationUtils.buildStackTracePreviewContents(\n        this._target, this._linkifier, {stackTrace, tabStops: true, contentUpdated: undefined});\n    stackTraceElement.appendChild(callFrameContents.element);\n  }\n\n  /**\n   * @param {!SDK.TracingModel.Event} event\n   * @param {string=} warningType\n   */\n  appendWarningRow(event, warningType) {\n    const warning = TimelineUIUtils.eventWarning(event, warningType);\n    if (warning) {\n      this.appendElementRow(ls`Warning`, warning, true);\n    }\n  }\n}\n\nexport const categoryBreakdownCacheSymbol = Symbol('categoryBreakdownCache');\n\n/**\n * @typedef {!{\n *     title: string,\n *     color: string,\n *     lineWidth: number,\n *     dashStyle: !Array.<number>,\n *     tall: boolean,\n *     lowPriority: boolean\n * }}\n */\n// @ts-ignore Typedef.\nexport let TimelineMarkerStyle;\n"]}