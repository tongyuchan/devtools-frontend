{"version":3,"file":"DebuggerModel.js","sourceRoot":"","sources":["../../../../../front_end/sdk/DebuggerModel.js"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2010 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../common/common.js';\nimport * as Host from '../host/host.js';\nimport * as Platform from '../platform/platform.js';\nimport * as ProtocolClient from '../protocol_client/protocol_client.js';  // eslint-disable-line no-unused-vars\nimport * as Root from '../root/root.js';\n\nimport {GetPropertiesResult, RemoteObject, ScopeRef} from './RemoteObject.js';  // eslint-disable-line no-unused-vars\nimport {Events as ResourceTreeModelEvents, ResourceTreeModel} from './ResourceTreeModel.js';  // eslint-disable-line no-unused-vars\nimport {EvaluationOptions, EvaluationResult, ExecutionContext, RuntimeModel} from './RuntimeModel.js';  // eslint-disable-line no-unused-vars\nimport {Script} from './Script.js';\nimport {Capability, SDKModel, Target, Type} from './SDKModel.js';  // eslint-disable-line no-unused-vars\nimport {SourceMapManager} from './SourceMapManager.js';\n\n/**\n*  @param {!Array<!LocationRange>} locationRanges\n*  @return {!Array<!LocationRange>}\n*/\nexport function sortAndMergeRanges(locationRanges) {\n  if (locationRanges.length === 0) {\n    return [];\n  }\n  locationRanges.sort(LocationRange.comparator);\n  let prev = locationRanges[0];\n  const merged = [];\n  for (let i = 1; i < locationRanges.length; ++i) {\n    const current = locationRanges[i];\n    if (prev.overlap(current)) {\n      const largerEnd = prev.end.compareTo(current.end) > 0 ? prev.end : current.end;\n      prev = new LocationRange(prev.scriptId, prev.start, largerEnd);\n    } else {\n      merged.push(prev);\n      prev = current;\n    }\n  }\n  merged.push(prev);\n  return merged;\n}\n\n/** @enum {symbol} */\nexport const StepMode = {\n  StepInto: Symbol('StepInto'),\n  StepOut: Symbol('StepOut'),\n  StepOver: Symbol('StepOver')\n};\n\nexport class DebuggerModel extends SDKModel {\n  /**\n   * @param {!Target} target\n   */\n  constructor(target) {\n    super(target);\n\n    target.registerDebuggerDispatcher(new DebuggerDispatcher(this));\n    this._agent = target.debuggerAgent();\n    this._runtimeModel = /** @type {!RuntimeModel} */ (target.model(RuntimeModel));\n\n    /** @type {!SourceMapManager<!Script>} */\n    this._sourceMapManager = new SourceMapManager(target);\n    /** @type {!Map<string, !Script>} */\n    this._sourceMapIdToScript = new Map();\n\n    /** @type {?DebuggerPausedDetails} */\n    this._debuggerPausedDetails = null;\n    /** @type {!Map<string, !Script>} */\n    this._scripts = new Map();\n    /** @type {!Map.<string, !Array.<!Script>>} */\n    this._scriptsBySourceURL = new Map();\n    /** @type {!Array.<!Script>} */\n    this._discardableScripts = [];\n    /** @type {(function(!DebuggerPausedDetails):boolean)|null} */\n    this._continueToLocationCallback = null;\n    /** @type {?CallFrame} */\n    this._selectedCallFrame = null;\n    /** @type {boolean} */\n    this._debuggerEnabled = false;\n    /** @type {?string} */\n    this._debuggerId = null;\n    /** @type {number} */\n    this._skipAllPausesTimeout = 0;\n    /** @type {(function(!DebuggerPausedDetails):boolean)|null} */\n    this._beforePausedCallback = null;\n    /** @type {?function(!StepMode, !CallFrame):!Promise<!Array<!{start: !Location, end: !Location}>>} */\n    this._computeAutoStepRangesCallback = null;\n    /** @type {?function(!Array<!CallFrame>):!Promise<!Array<!CallFrame>>} */\n    this._expandCallFramesCallback = null;\n    /** @type {?function(!CallFrame, !EvaluationOptions):!Promise<?EvaluationResult>} */\n    this._evaluateOnCallFrameCallback = null;\n\n    /** @type {boolean} */\n    this._ignoreDebuggerPausedEvents = false;\n\n    /** @type {!Common.ObjectWrapper.ObjectWrapper} */\n    this._breakpointResolvedEventTarget = new Common.ObjectWrapper.ObjectWrapper();\n\n    /** @type {boolean} */\n    this._autoStepOver = false;\n\n    this._isPausing = false;\n    Common.Settings.Settings.instance()\n        .moduleSetting('pauseOnExceptionEnabled')\n        .addChangeListener(this._pauseOnExceptionStateChanged, this);\n    Common.Settings.Settings.instance()\n        .moduleSetting('pauseOnCaughtException')\n        .addChangeListener(this._pauseOnExceptionStateChanged, this);\n    Common.Settings.Settings.instance()\n        .moduleSetting('disableAsyncStackTraces')\n        .addChangeListener(this._asyncStackTracesStateChanged, this);\n    Common.Settings.Settings.instance()\n        .moduleSetting('breakpointsActive')\n        .addChangeListener(this._breakpointsActiveChanged, this);\n\n    if (!target.suspended()) {\n      this._enableDebugger();\n    }\n\n    this._sourceMapManager.setEnabled(Common.Settings.Settings.instance().moduleSetting('jsSourceMapsEnabled').get());\n    Common.Settings.Settings.instance()\n        .moduleSetting('jsSourceMapsEnabled')\n        .addChangeListener(event => this._sourceMapManager.setEnabled(/** @type {boolean} */ (event.data)));\n\n    const resourceTreeModel =\n        /** @type {!ResourceTreeModel} */ (target.model(ResourceTreeModel));\n    if (resourceTreeModel) {\n      resourceTreeModel.addEventListener(ResourceTreeModelEvents.FrameNavigated, this._onFrameNavigated, this);\n    }\n  }\n\n  /**\n   * @param {!Protocol.Runtime.ExecutionContextId} executionContextId\n   * @param {string} sourceURL\n   * @param {string|undefined} sourceMapURL\n   * @return {?string}\n   */\n  static _sourceMapId(executionContextId, sourceURL, sourceMapURL) {\n    if (!sourceMapURL) {\n      return null;\n    }\n    return executionContextId + ':' + sourceURL + ':' + sourceMapURL;\n  }\n\n  /**\n   * @return {!SourceMapManager<!Script>}\n   */\n  sourceMapManager() {\n    return this._sourceMapManager;\n  }\n\n  /**\n   * @return {!RuntimeModel}\n   */\n  runtimeModel() {\n    return this._runtimeModel;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  debuggerEnabled() {\n    return Boolean(this._debuggerEnabled);\n  }\n\n  /**\n   * @param {boolean} ignore\n   */\n  ignoreDebuggerPausedEvents(ignore) {\n    this._ignoreDebuggerPausedEvents = ignore;\n  }\n\n  /**\n   * @return {!Promise<void>}\n   */\n  async _enableDebugger() {\n    if (this._debuggerEnabled) {\n      return;\n    }\n    this._debuggerEnabled = true;\n\n    // Set a limit for the total size of collected script sources retained by debugger.\n    // 10MB for remote frontends, 100MB for others.\n    const isRemoteFrontend = Root.Runtime.Runtime.queryParam('remoteFrontend') || Root.Runtime.Runtime.queryParam('ws');\n    const maxScriptsCacheSize = isRemoteFrontend ? 10e6 : 100e6;\n    const enablePromise = this._agent.invoke_enable({maxScriptsCacheSize});\n    enablePromise.then(this._registerDebugger.bind(this));\n    this._pauseOnExceptionStateChanged();\n    this._asyncStackTracesStateChanged();\n    if (!Common.Settings.Settings.instance().moduleSetting('breakpointsActive').get()) {\n      this._breakpointsActiveChanged();\n    }\n    if (_scheduledPauseOnAsyncCall) {\n      this._pauseOnAsyncCall(_scheduledPauseOnAsyncCall);\n    }\n    this.dispatchEventToListeners(Events.DebuggerWasEnabled, this);\n    await enablePromise;\n  }\n\n  async syncDebuggerId() {\n    const isRemoteFrontend = Root.Runtime.Runtime.queryParam('remoteFrontend') || Root.Runtime.Runtime.queryParam('ws');\n    const maxScriptsCacheSize = isRemoteFrontend ? 10e6 : 100e6;\n    const enablePromise = this._agent.invoke_enable({maxScriptsCacheSize});\n    enablePromise.then(this._registerDebugger.bind(this));\n    return enablePromise;\n  }\n\n  _onFrameNavigated() {\n    if (DebuggerModel._shouldResyncDebuggerId) {\n      return;\n    }\n\n    DebuggerModel._shouldResyncDebuggerId = true;\n  }\n\n  /**\n   * @param {!Protocol.Debugger.EnableResponse} response\n   */\n  _registerDebugger(response) {\n    if (response.getError()) {\n      return;\n    }\n    const {debuggerId} = response;\n    _debuggerIdToModel.set(debuggerId, this);\n    this._debuggerId = debuggerId;\n    this.dispatchEventToListeners(Events.DebuggerIsReadyToPause, this);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isReadyToPause() {\n    return Boolean(this._debuggerId);\n  }\n\n  /**\n   * @param {string} debuggerId\n   * @return {Promise<?DebuggerModel>}\n   */\n  static async modelForDebuggerId(debuggerId) {\n    if (DebuggerModel._shouldResyncDebuggerId) {\n      await DebuggerModel.resyncDebuggerIdForModels();\n      DebuggerModel._shouldResyncDebuggerId = false;\n    }\n    return _debuggerIdToModel.get(debuggerId) || null;\n  }\n\n  static async resyncDebuggerIdForModels() {\n    const dbgModels = _debuggerIdToModel.values();\n    for (const dbgModel of dbgModels) {\n      if (dbgModel.debuggerEnabled()) {\n        await dbgModel.syncDebuggerId();\n      }\n    }\n  }\n\n  /**\n   * @return {!Promise<void>}\n   */\n  async _disableDebugger() {\n    if (!this._debuggerEnabled) {\n      return;\n    }\n    this._debuggerEnabled = false;\n\n    await this._asyncStackTracesStateChanged();\n    await this._agent.invoke_disable();\n    this._isPausing = false;\n    this.globalObjectCleared();\n    this.dispatchEventToListeners(Events.DebuggerWasDisabled);\n    if (typeof this._debuggerId === 'string') {\n      _debuggerIdToModel.delete(this._debuggerId);\n    }\n  }\n\n  /**\n   * @param {boolean} skip\n   */\n  _skipAllPauses(skip) {\n    if (this._skipAllPausesTimeout) {\n      clearTimeout(this._skipAllPausesTimeout);\n      this._skipAllPausesTimeout = 0;\n    }\n    this._agent.invoke_setSkipAllPauses({skip});\n  }\n\n  /**\n   * @param {number} timeout\n   */\n  skipAllPausesUntilReloadOrTimeout(timeout) {\n    if (this._skipAllPausesTimeout) {\n      clearTimeout(this._skipAllPausesTimeout);\n    }\n    this._agent.invoke_setSkipAllPauses({skip: true});\n    // If reload happens before the timeout, the flag will be already unset and the timeout callback won't change anything.\n    this._skipAllPausesTimeout = window.setTimeout(this._skipAllPauses.bind(this, false), timeout);\n  }\n\n  _pauseOnExceptionStateChanged() {\n    /** @type {!Protocol.Debugger.SetPauseOnExceptionsRequestState} */\n    let state;\n    if (!Common.Settings.Settings.instance().moduleSetting('pauseOnExceptionEnabled').get()) {\n      state = Protocol.Debugger.SetPauseOnExceptionsRequestState.None;\n    } else if (Common.Settings.Settings.instance().moduleSetting('pauseOnCaughtException').get()) {\n      state = Protocol.Debugger.SetPauseOnExceptionsRequestState.All;\n    } else {\n      state = Protocol.Debugger.SetPauseOnExceptionsRequestState.Uncaught;\n    }\n\n    this._agent.invoke_setPauseOnExceptions({state});\n  }\n\n  _asyncStackTracesStateChanged() {\n    const maxAsyncStackChainDepth = 32;\n    const enabled =\n        !Common.Settings.Settings.instance().moduleSetting('disableAsyncStackTraces').get() && this._debuggerEnabled;\n    const maxDepth = enabled ? maxAsyncStackChainDepth : 0;\n    return this._agent.invoke_setAsyncCallStackDepth({maxDepth});\n  }\n\n  _breakpointsActiveChanged() {\n    this._agent.invoke_setBreakpointsActive(\n        {active: Common.Settings.Settings.instance().moduleSetting('breakpointsActive').get()});\n  }\n\n  /**\n   * @param {?function(!StepMode, !CallFrame):!Promise<!Array<!{start: !Location, end: !Location}>>} callback\n   */\n  setComputeAutoStepRangesCallback(callback) {\n    this._computeAutoStepRangesCallback = callback;\n  }\n\n  /**\n   * @param {!StepMode} mode\n   * @return {!Promise<!Array<!Protocol.Debugger.LocationRange>>}\n   */\n  async _computeAutoStepSkipList(mode) {\n    /** @type {!Array<!{start: !Location, end: !Location}>} */\n    let ranges = [];\n    if (this._computeAutoStepRangesCallback && this._debuggerPausedDetails) {\n      const [callFrame] = this._debuggerPausedDetails.callFrames;\n      ranges = await this._computeAutoStepRangesCallback.call(null, mode, callFrame);\n    }\n    const skipList = ranges.map(\n        location => new LocationRange(\n            location.start.scriptId, new ScriptPosition(location.start.lineNumber, location.start.columnNumber),\n            new ScriptPosition(location.end.lineNumber, location.end.columnNumber)));\n    return sortAndMergeRanges(skipList).map(x => x.payload());\n  }\n\n  async stepInto() {\n    const skipList = await this._computeAutoStepSkipList(StepMode.StepInto);\n    this._agent.invoke_stepInto({breakOnAsyncCall: false, skipList});\n  }\n\n  async stepOver() {\n    // Mark that in case of auto-stepping, we should be doing\n    // step-over instead of step-in.\n    this._autoStepOver = true;\n    const skipList = await this._computeAutoStepSkipList(StepMode.StepOver);\n    this._agent.invoke_stepOver({skipList});\n  }\n\n  async stepOut() {\n    const skipList = await this._computeAutoStepSkipList(StepMode.StepOut);\n    if (skipList.length !== 0) {\n      this._agent.invoke_stepOver({skipList});\n    } else {\n      this._agent.invoke_stepOut();\n    }\n  }\n\n  scheduleStepIntoAsync() {\n    this._computeAutoStepSkipList(StepMode.StepInto).then(skipList => {\n      this._agent.invoke_stepInto({breakOnAsyncCall: true, skipList});\n    });\n  }\n\n  resume() {\n    this._agent.invoke_resume({terminateOnResume: false});\n    this._isPausing = false;\n  }\n\n  pause() {\n    this._isPausing = true;\n    this._skipAllPauses(false);\n    this._agent.invoke_pause();\n  }\n\n  /**\n   * @param {!Protocol.Runtime.StackTraceId} parentStackTraceId\n   * @return {!Promise<!Object>}\n   */\n  _pauseOnAsyncCall(parentStackTraceId) {\n    return this._agent.invoke_pauseOnAsyncCall({parentStackTraceId: parentStackTraceId});\n  }\n\n  /**\n   * @param {string} url\n   * @param {number} lineNumber\n   * @param {number=} columnNumber\n   * @param {string=} condition\n   * @return {!Promise<!SetBreakpointResult>}\n   */\n  async setBreakpointByURL(url, lineNumber, columnNumber, condition) {\n    // Convert file url to node-js path.\n    let urlRegex;\n    if (this.target().type() === Type.Node) {\n      const platformPath = Common.ParsedURL.ParsedURL.urlToPlatformPath(url, Host.Platform.isWin());\n      urlRegex =\n          `${Platform.StringUtilities.escapeForRegExp(platformPath)}|${Platform.StringUtilities.escapeForRegExp(url)}`;\n    }\n    // Adjust column if needed.\n    let minColumnNumber = 0;\n    const scripts = this._scriptsBySourceURL.get(url) || [];\n    for (let i = 0, l = scripts.length; i < l; ++i) {\n      const script = scripts[i];\n      if (lineNumber === script.lineOffset) {\n        minColumnNumber = minColumnNumber ? Math.min(minColumnNumber, script.columnOffset) : script.columnOffset;\n      }\n    }\n    columnNumber = Math.max(columnNumber || 0, minColumnNumber);\n    const response = await this._agent.invoke_setBreakpointByUrl({\n      lineNumber: lineNumber,\n      url: urlRegex ? undefined : url,\n      urlRegex: urlRegex,\n      columnNumber: columnNumber,\n      condition: condition\n    });\n    if (response.getError()) {\n      return {locations: [], breakpointId: null};\n    }\n    /** @type {!Array<!Location>} */\n    let locations = [];\n    if (response.locations) {\n      locations = response.locations.map(payload => Location.fromPayload(this, payload));\n    }\n    return {locations, breakpointId: response.breakpointId};\n  }\n\n  /**\n   * @param {string} scriptId\n   * @param {string} scriptHash\n   * @param {number} lineNumber\n   * @param {number=} columnNumber\n   * @param {string=} condition\n   * @return {!Promise<!SetBreakpointResult>}\n   */\n  async setBreakpointInAnonymousScript(scriptId, scriptHash, lineNumber, columnNumber, condition) {\n    const response = await this._agent.invoke_setBreakpointByUrl(\n        {lineNumber: lineNumber, scriptHash: scriptHash, columnNumber: columnNumber, condition: condition});\n    const error = response.getError();\n    if (error) {\n      // Old V8 backend doesn't support scriptHash argument.\n      if (error !== 'Either url or urlRegex must be specified.') {\n        return {locations: [], breakpointId: null};\n      }\n      return this._setBreakpointBySourceId(scriptId, lineNumber, columnNumber, condition);\n    }\n    /** @type {!Array<!Location>} */\n    let locations = [];\n    if (response.locations) {\n      locations = response.locations.map(payload => Location.fromPayload(this, payload));\n    }\n    return {locations, breakpointId: response.breakpointId};\n  }\n\n  /**\n   * @param {string} scriptId\n   * @param {number} lineNumber\n   * @param {number=} columnNumber\n   * @param {string=} condition\n   * @return {!Promise<!SetBreakpointResult>}\n   */\n  async _setBreakpointBySourceId(scriptId, lineNumber, columnNumber, condition) {\n    // This method is required for backward compatibility with V8 before 6.3.275.\n    const response = await this._agent.invoke_setBreakpoint(\n        {location: {scriptId: scriptId, lineNumber: lineNumber, columnNumber: columnNumber}, condition: condition});\n    if (response.getError()) {\n      return {breakpointId: null, locations: []};\n    }\n    /** @type {!Array<!Location>} */\n    let actualLocation = [];\n    if (response.actualLocation) {\n      actualLocation = [Location.fromPayload(this, response.actualLocation)];\n    }\n    return {locations: actualLocation, breakpointId: response.breakpointId};\n  }\n\n  /**\n   * @param {!Protocol.Debugger.BreakpointId} breakpointId\n   * @return {!Promise<void>}\n   */\n  async removeBreakpoint(breakpointId) {\n    const response = await this._agent.invoke_removeBreakpoint({breakpointId});\n    if (response.getError()) {\n      console.error('Failed to remove breakpoint: ' + response.getError());\n    }\n  }\n\n  /**\n   * @param {!Location} startLocation\n   * @param {?Location} endLocation\n   * @param {boolean} restrictToFunction\n   * @return {!Promise<!Array<!BreakLocation>>}\n   */\n  async getPossibleBreakpoints(startLocation, endLocation, restrictToFunction) {\n    const response = await this._agent.invoke_getPossibleBreakpoints({\n      start: startLocation.payload(),\n      end: endLocation ? endLocation.payload() : undefined,\n      restrictToFunction: restrictToFunction\n    });\n    if (response.getError() || !response.locations) {\n      return [];\n    }\n    return response.locations.map(location => BreakLocation.fromPayload(this, location));\n  }\n\n  /**\n   * @param {!Protocol.Runtime.StackTraceId} stackId\n   * @return {!Promise<?Protocol.Runtime.StackTrace>}\n   */\n  async fetchAsyncStackTrace(stackId) {\n    const response = await this._agent.invoke_getStackTrace({stackTraceId: stackId});\n    return response.getError() ? null : response.stackTrace;\n  }\n\n  /**\n   * @param {!Protocol.Debugger.BreakpointId} breakpointId\n   * @param {!Protocol.Debugger.Location} location\n   */\n  _breakpointResolved(breakpointId, location) {\n    this._breakpointResolvedEventTarget.dispatchEventToListeners(breakpointId, Location.fromPayload(this, location));\n  }\n\n  globalObjectCleared() {\n    this._setDebuggerPausedDetails(null);\n    this._reset();\n    // TODO(dgozman): move clients to ExecutionContextDestroyed/ScriptCollected events.\n    this.dispatchEventToListeners(Events.GlobalObjectCleared, this);\n  }\n\n  _reset() {\n    for (const scriptWithSourceMap of this._sourceMapIdToScript.values()) {\n      this._sourceMapManager.detachSourceMap(scriptWithSourceMap);\n    }\n    this._sourceMapIdToScript.clear();\n\n    this._scripts.clear();\n    this._scriptsBySourceURL.clear();\n    this._discardableScripts = [];\n    this._autoStepOver = false;\n  }\n\n  /**\n   * @return {!Array<!Script>}\n   */\n  scripts() {\n    return Array.from(this._scripts.values());\n  }\n\n  /**\n   * @param {!Protocol.Runtime.ScriptId} scriptId\n   * @return {?Script}\n   */\n  scriptForId(scriptId) {\n    return this._scripts.get(scriptId) || null;\n  }\n\n  /**\n   * @param {?string} sourceURL\n   * @return {!Array.<!Script>}\n   */\n  scriptsForSourceURL(sourceURL) {\n    if (!sourceURL) {\n      return [];\n    }\n    return this._scriptsBySourceURL.get(sourceURL) || [];\n  }\n\n  /**\n   * @param {!ExecutionContext} executionContext\n   * @return {!Array<!Script>}\n   */\n  scriptsForExecutionContext(executionContext) {\n    const result = [];\n    for (const script of this._scripts.values()) {\n      if (script.executionContextId === executionContext.id) {\n        result.push(script);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * @param {!Protocol.Runtime.ScriptId} scriptId\n   * @param {string} newSource\n   * @param {function(?ProtocolClient.InspectorBackend.ProtocolError, !Protocol.Runtime.ExceptionDetails=):void} callback\n   */\n  setScriptSource(scriptId, newSource, callback) {\n    const script = this._scripts.get(scriptId);\n    if (script) {\n      script.editSource(newSource, this._didEditScriptSource.bind(this, scriptId, newSource, callback));\n    }\n  }\n\n  /**\n   * @param {!Protocol.Runtime.ScriptId} scriptId\n   * @param {string} newSource\n   * @param {function(?ProtocolClient.InspectorBackend.ProtocolError, !Protocol.Runtime.ExceptionDetails=):void} callback\n   * @param {?ProtocolClient.InspectorBackend.ProtocolError} error\n   * @param {!Protocol.Runtime.ExceptionDetails=} exceptionDetails\n   * @param {!Array.<!Protocol.Debugger.CallFrame>=} callFrames\n   * @param {!Protocol.Runtime.StackTrace=} asyncStackTrace\n   * @param {!Protocol.Runtime.StackTraceId=} asyncStackTraceId\n   * @param {boolean=} needsStepIn\n   */\n  _didEditScriptSource(\n      scriptId, newSource, callback, error, exceptionDetails, callFrames, asyncStackTrace, asyncStackTraceId,\n      needsStepIn) {\n    callback(error, exceptionDetails);\n    if (needsStepIn) {\n      this.stepInto();\n      return;\n    }\n\n    if (!error && callFrames && callFrames.length && this._debuggerPausedDetails) {\n      this._pausedScript(\n          callFrames, this._debuggerPausedDetails.reason, this._debuggerPausedDetails.auxData,\n          this._debuggerPausedDetails.breakpointIds, asyncStackTrace, asyncStackTraceId);\n    }\n  }\n\n  /**\n   * @return {?Array.<!CallFrame>}\n   */\n  get callFrames() {\n    return this._debuggerPausedDetails ? this._debuggerPausedDetails.callFrames : null;\n  }\n\n  /**\n   * @return {?DebuggerPausedDetails}\n   */\n  debuggerPausedDetails() {\n    return this._debuggerPausedDetails;\n  }\n\n  /**\n   * @param {?DebuggerPausedDetails} debuggerPausedDetails\n   * @return {boolean}\n   */\n  _setDebuggerPausedDetails(debuggerPausedDetails) {\n    if (debuggerPausedDetails) {\n      this._isPausing = false;\n      this._debuggerPausedDetails = debuggerPausedDetails;\n      if (this._beforePausedCallback) {\n        if (!this._beforePausedCallback.call(null, debuggerPausedDetails)) {\n          return false;\n        }\n      }\n      // If we resolved a location in auto-stepping callback, reset the\n      // step-over marker.\n      this._autoStepOver = false;\n      this.dispatchEventToListeners(Events.DebuggerPaused, this);\n      this.setSelectedCallFrame(debuggerPausedDetails.callFrames[0]);\n    } else {\n      this._isPausing = false;\n      this._debuggerPausedDetails = null;\n      this.setSelectedCallFrame(null);\n    }\n    return true;\n  }\n\n  /**\n   * @param {?function(!DebuggerPausedDetails):boolean} callback\n   */\n  setBeforePausedCallback(callback) {\n    this._beforePausedCallback = callback;\n  }\n\n  /**\n   * @param {?function(!Array<!CallFrame>):!Promise<!Array<!CallFrame>>} callback\n   */\n  setExpandCallFramesCallback(callback) {\n    this._expandCallFramesCallback = callback;\n  }\n\n  /**\n   * @param {?function(!CallFrame, !EvaluationOptions):!Promise<?EvaluationResult>} callback\n   */\n  setEvaluateOnCallFrameCallback(callback) {\n    this._evaluateOnCallFrameCallback = callback;\n  }\n\n  /**\n   * @param {!Array<!Protocol.Debugger.CallFrame>} callFrames\n   * @param {!Protocol.Debugger.PausedEventReason} reason\n   * @param {!Object|undefined} auxData\n   * @param {!Array.<string>} breakpointIds\n   * @param {!Protocol.Runtime.StackTrace=} asyncStackTrace\n   * @param {!Protocol.Runtime.StackTraceId=} asyncStackTraceId\n   * @param {!Protocol.Runtime.StackTraceId=} asyncCallStackTraceId\n   */\n  async _pausedScript(\n      callFrames, reason, auxData, breakpointIds, asyncStackTrace, asyncStackTraceId, asyncCallStackTraceId) {\n    if (this._ignoreDebuggerPausedEvents) {\n      return;\n    }\n\n    if (asyncCallStackTraceId) {\n      // Note: this is only to support old backends. Newer ones do not send asyncCallStackTraceId.\n      _scheduledPauseOnAsyncCall = asyncCallStackTraceId;\n      const promises = [];\n      for (const model of _debuggerIdToModel.values()) {\n        promises.push(model._pauseOnAsyncCall(asyncCallStackTraceId));\n      }\n      await Promise.all(promises);\n      this.resume();\n      return;\n    }\n\n    const pausedDetails =\n        new DebuggerPausedDetails(this, callFrames, reason, auxData, breakpointIds, asyncStackTrace, asyncStackTraceId);\n\n    if (this._expandCallFramesCallback) {\n      pausedDetails.callFrames = await this._expandCallFramesCallback.call(null, pausedDetails.callFrames);\n    }\n\n    if (this._continueToLocationCallback) {\n      const callback = this._continueToLocationCallback;\n      this._continueToLocationCallback = null;\n      if (callback(pausedDetails)) {\n        return;\n      }\n    }\n\n    if (!this._setDebuggerPausedDetails(pausedDetails)) {\n      if (this._autoStepOver) {\n        this.stepOver();\n      } else {\n        this.stepInto();\n      }\n    } else {\n      Common.EventTarget.fireEvent('DevTools.DebuggerPaused');\n    }\n\n    _scheduledPauseOnAsyncCall = null;\n  }\n\n  _resumedScript() {\n    this._setDebuggerPausedDetails(null);\n    this.dispatchEventToListeners(Events.DebuggerResumed, this);\n  }\n\n  /**\n   * @param {!Protocol.Runtime.ScriptId} scriptId\n   * @param {string} sourceURL\n   * @param {number} startLine\n   * @param {number} startColumn\n   * @param {number} endLine\n   * @param {number} endColumn\n   * @param {!Protocol.Runtime.ExecutionContextId} executionContextId\n   * @param {string} hash\n   * @param {*|undefined} executionContextAuxData\n   * @param {boolean} isLiveEdit\n   * @param {string|undefined} sourceMapURL\n   * @param {boolean} hasSourceURLComment\n   * @param {boolean} hasSyntaxError\n   * @param {number} length\n   * @param {?Protocol.Runtime.StackTrace} originStackTrace\n   * @param {?number} codeOffset\n   * @param {?string} scriptLanguage\n   * @param {?Protocol.Debugger.DebugSymbols} debugSymbols\n   * @param {?string} embedderName\n   * @return {!Script}\n   */\n  _parsedScriptSource(\n      scriptId, sourceURL, startLine, startColumn, endLine, endColumn, executionContextId, hash,\n      executionContextAuxData, isLiveEdit, sourceMapURL, hasSourceURLComment, hasSyntaxError, length, originStackTrace,\n      codeOffset, scriptLanguage, debugSymbols, embedderName) {\n    const knownScript = this._scripts.get(scriptId);\n    if (knownScript) {\n      return knownScript;\n    }\n    let isContentScript = false;\n    if (executionContextAuxData && ('isDefault' in executionContextAuxData)) {\n      isContentScript = !executionContextAuxData['isDefault'];\n    }\n    const script = new Script(\n        this, scriptId, sourceURL, startLine, startColumn, endLine, endColumn, executionContextId, hash,\n        isContentScript, isLiveEdit, sourceMapURL, hasSourceURLComment, length, originStackTrace, codeOffset,\n        scriptLanguage, debugSymbols, embedderName);\n    this._registerScript(script);\n    this.dispatchEventToListeners(Events.ParsedScriptSource, script);\n\n    const sourceMapId = DebuggerModel._sourceMapId(script.executionContextId, script.sourceURL, script.sourceMapURL);\n    if (sourceMapId && !hasSyntaxError) {\n      // Consecutive script evaluations in the same execution context with the same sourceURL\n      // and sourceMappingURL should result in source map reloading.\n      const previousScript = this._sourceMapIdToScript.get(sourceMapId);\n      if (previousScript) {\n        this._sourceMapManager.detachSourceMap(previousScript);\n      }\n      this._sourceMapIdToScript.set(sourceMapId, script);\n      this._sourceMapManager.attachSourceMap(script, script.sourceURL, script.sourceMapURL);\n    }\n\n    const isDiscardable = hasSyntaxError && script.isAnonymousScript();\n    if (isDiscardable) {\n      this._discardableScripts.push(script);\n      this._collectDiscardedScripts();\n    }\n    return script;\n  }\n\n  /**\n   * @param {!Script} script\n   * @param {string} newSourceMapURL\n   */\n  setSourceMapURL(script, newSourceMapURL) {\n    let sourceMapId = DebuggerModel._sourceMapId(script.executionContextId, script.sourceURL, script.sourceMapURL);\n    if (sourceMapId && this._sourceMapIdToScript.get(sourceMapId) === script) {\n      this._sourceMapIdToScript.delete(sourceMapId);\n    }\n    this._sourceMapManager.detachSourceMap(script);\n\n    script.sourceMapURL = newSourceMapURL;\n    sourceMapId = DebuggerModel._sourceMapId(script.executionContextId, script.sourceURL, script.sourceMapURL);\n    if (!sourceMapId) {\n      return;\n    }\n    this._sourceMapIdToScript.set(sourceMapId, script);\n    this._sourceMapManager.attachSourceMap(script, script.sourceURL, script.sourceMapURL);\n  }\n\n  /**\n   * @param {!ExecutionContext} executionContext\n   */\n  executionContextDestroyed(executionContext) {\n    const sourceMapIds = Array.from(this._sourceMapIdToScript.keys());\n    for (const sourceMapId of sourceMapIds) {\n      const script = this._sourceMapIdToScript.get(sourceMapId);\n      if (script && script.executionContextId === executionContext.id) {\n        this._sourceMapIdToScript.delete(sourceMapId);\n        this._sourceMapManager.detachSourceMap(script);\n      }\n    }\n  }\n\n  /**\n   * @param {!Script} script\n   */\n  _registerScript(script) {\n    this._scripts.set(script.scriptId, script);\n    if (script.isAnonymousScript()) {\n      return;\n    }\n\n    let scripts = this._scriptsBySourceURL.get(script.sourceURL);\n    if (!scripts) {\n      scripts = [];\n      this._scriptsBySourceURL.set(script.sourceURL, scripts);\n    }\n    scripts.push(script);\n  }\n\n  /**\n   * @param {!Script} script\n   */\n  _unregisterScript(script) {\n    console.assert(script.isAnonymousScript());\n    this._scripts.delete(script.scriptId);\n  }\n\n  _collectDiscardedScripts() {\n    if (this._discardableScripts.length < 1000) {\n      return;\n    }\n    const scriptsToDiscard = this._discardableScripts.splice(0, 100);\n    for (const script of scriptsToDiscard) {\n      this._unregisterScript(script);\n      this.dispatchEventToListeners(Events.DiscardedAnonymousScriptSource, script);\n    }\n  }\n\n  /**\n   * @param {!Script} script\n   * @param {number} lineNumber\n   * @param {number} columnNumber\n   * @return {!Location}\n   */\n  createRawLocation(script, lineNumber, columnNumber) {\n    return this.createRawLocationByScriptId(script.scriptId, lineNumber, columnNumber);\n  }\n\n  /**\n   * @param {string} sourceURL\n   * @param {number} lineNumber\n   * @param {number} columnNumber\n   * @return {?Location}\n   */\n  createRawLocationByURL(sourceURL, lineNumber, columnNumber) {\n    let closestScript = null;\n    const scripts = this._scriptsBySourceURL.get(sourceURL) || [];\n    for (let i = 0, l = scripts.length; i < l; ++i) {\n      const script = scripts[i];\n      if (!closestScript) {\n        closestScript = script;\n      }\n      if (script.lineOffset > lineNumber || (script.lineOffset === lineNumber && script.columnOffset > columnNumber)) {\n        continue;\n      }\n      if (script.endLine < lineNumber || (script.endLine === lineNumber && script.endColumn <= columnNumber)) {\n        continue;\n      }\n      closestScript = script;\n      break;\n    }\n    return closestScript ? new Location(this, closestScript.scriptId, lineNumber, columnNumber) : null;\n  }\n\n  /**\n   * @param {!Protocol.Runtime.ScriptId} scriptId\n   * @param {number} lineNumber\n   * @param {number} columnNumber\n   * @return {!Location}\n   */\n  createRawLocationByScriptId(scriptId, lineNumber, columnNumber) {\n    return new Location(this, scriptId, lineNumber, columnNumber);\n  }\n\n  /**\n   * @param {!Protocol.Runtime.StackTrace} stackTrace\n   * @return {!Array<!Location>}\n   */\n  createRawLocationsByStackTrace(stackTrace) {\n    const frames = [];\n    /** @type {!Protocol.Runtime.StackTrace|undefined} */\n    let current = stackTrace;\n    while (current) {\n      for (const frame of current.callFrames) {\n        frames.push(frame);\n      }\n      current = current.parent;\n    }\n\n    const rawLocations = [];\n    for (const frame of frames) {\n      const rawLocation = this.createRawLocationByScriptId(frame.scriptId, frame.lineNumber, frame.columnNumber);\n      if (rawLocation) {\n        rawLocations.push(rawLocation);\n      }\n    }\n    return rawLocations;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isPaused() {\n    return Boolean(this.debuggerPausedDetails());\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isPausing() {\n    return this._isPausing;\n  }\n\n  /**\n   * @param {?CallFrame} callFrame\n   */\n  setSelectedCallFrame(callFrame) {\n    if (this._selectedCallFrame === callFrame) {\n      return;\n    }\n    this._selectedCallFrame = callFrame;\n    this.dispatchEventToListeners(Events.CallFrameSelected, this);\n  }\n\n  /**\n   * @return {?CallFrame}\n   */\n  selectedCallFrame() {\n    return this._selectedCallFrame;\n  }\n\n  /**\n   * @param {!EvaluationOptions} options\n   * @return {!Promise<!EvaluationResult>}\n   */\n  async evaluateOnSelectedCallFrame(options) {\n    const callFrame = this.selectedCallFrame();\n    if (!callFrame) {\n      throw new Error('No call frame selected');\n    }\n    return callFrame.evaluate(options);\n  }\n\n  /**\n   * @param {!RemoteObject} remoteObject\n   * @return {!Promise<?FunctionDetails>}\n   */\n  functionDetailsPromise(remoteObject) {\n    return remoteObject.getAllProperties(false /* accessorPropertiesOnly */, false /* generatePreview */)\n        .then(buildDetails.bind(this));\n\n    /**\n     * @param {!GetPropertiesResult} response\n     * @return {?FunctionDetails}\n     * @this {!DebuggerModel}\n     */\n    function buildDetails(response) {\n      if (!response) {\n        return null;\n      }\n      let location = null;\n      if (response.internalProperties) {\n        for (const prop of response.internalProperties) {\n          if (prop.name === '[[FunctionLocation]]') {\n            location = prop.value;\n          }\n        }\n      }\n      let functionName = null;\n      if (response.properties) {\n        for (const prop of response.properties) {\n          if (prop.name === 'name' && prop.value && prop.value.type === 'string') {\n            functionName = prop.value;\n          }\n          if (prop.name === 'displayName' && prop.value && prop.value.type === 'string') {\n            functionName = prop.value;\n            break;\n          }\n        }\n      }\n      let debuggerLocation = null;\n      if (location) {\n        debuggerLocation = this.createRawLocationByScriptId(\n            location.value.scriptId, location.value.lineNumber, location.value.columnNumber);\n      }\n      return {location: debuggerLocation, functionName: functionName ? /** @type {string} */ (functionName.value) : ''};\n    }\n  }\n\n  /**\n   * @param {number} scopeNumber\n   * @param {string} variableName\n   * @param {!Protocol.Runtime.CallArgument} newValue\n   * @param {string} callFrameId\n   * @return {!Promise<string|undefined>}\n   */\n  async setVariableValue(scopeNumber, variableName, newValue, callFrameId) {\n    const response = await this._agent.invoke_setVariableValue({scopeNumber, variableName, newValue, callFrameId});\n    const error = response.getError();\n    if (error) {\n      console.error(error);\n    }\n    return error;\n  }\n\n  /**\n   * @param {!Protocol.Debugger.BreakpointId} breakpointId\n   * @param {function(!Common.EventTarget.EventTargetEvent):void} listener\n   * @param {!Object=} thisObject\n   */\n  addBreakpointListener(breakpointId, listener, thisObject) {\n    this._breakpointResolvedEventTarget.addEventListener(breakpointId, listener, thisObject);\n  }\n\n  /**\n   * @param {!Protocol.Debugger.BreakpointId} breakpointId\n   * @param {function(!Common.EventTarget.EventTargetEvent):void} listener\n   * @param {!Object=} thisObject\n   */\n  removeBreakpointListener(breakpointId, listener, thisObject) {\n    this._breakpointResolvedEventTarget.removeEventListener(breakpointId, listener, thisObject);\n  }\n\n  /**\n   * @param {!Array<string>} patterns\n   * @return {!Promise<boolean>}\n   */\n  async setBlackboxPatterns(patterns) {\n    const response = await this._agent.invoke_setBlackboxPatterns({patterns});\n    const error = response.getError();\n    if (error) {\n      console.error(error);\n    }\n    return !error;\n  }\n\n  /**\n   * @override\n   */\n  dispose() {\n    this._sourceMapManager.dispose();\n    if (this._debuggerId) {\n      _debuggerIdToModel.delete(this._debuggerId);\n    }\n    Common.Settings.Settings.instance()\n        .moduleSetting('pauseOnExceptionEnabled')\n        .removeChangeListener(this._pauseOnExceptionStateChanged, this);\n    Common.Settings.Settings.instance()\n        .moduleSetting('pauseOnCaughtException')\n        .removeChangeListener(this._pauseOnExceptionStateChanged, this);\n    Common.Settings.Settings.instance()\n        .moduleSetting('disableAsyncStackTraces')\n        .removeChangeListener(this._asyncStackTracesStateChanged, this);\n  }\n\n  /**\n   * @override\n   * @return {!Promise<void>}\n   */\n  async suspendModel() {\n    await this._disableDebugger();\n  }\n\n  /**\n   * @override\n   * @return {!Promise<void>}\n   */\n  async resumeModel() {\n    await this._enableDebugger();\n  }\n}\n\nDebuggerModel._shouldResyncDebuggerId = false;\n\n/** @type {!Map<string, !DebuggerModel>} */\nexport const _debuggerIdToModel = new Map();\n\n/** @type {?Protocol.Runtime.StackTraceId} */\nexport let _scheduledPauseOnAsyncCall = null;\n\n/**\n * Keep these in sync with WebCore::V8Debugger\n *\n * @enum {string}\n */\nexport const PauseOnExceptionsState = {\n  DontPauseOnExceptions: 'none',\n  PauseOnAllExceptions: 'all',\n  PauseOnUncaughtExceptions: 'uncaught'\n};\n\n/** @enum {symbol} */\nexport const Events = {\n  DebuggerWasEnabled: Symbol('DebuggerWasEnabled'),\n  DebuggerWasDisabled: Symbol('DebuggerWasDisabled'),\n  DebuggerPaused: Symbol('DebuggerPaused'),\n  DebuggerResumed: Symbol('DebuggerResumed'),\n  ParsedScriptSource: Symbol('ParsedScriptSource'),\n  FailedToParseScriptSource: Symbol('FailedToParseScriptSource'),\n  DiscardedAnonymousScriptSource: Symbol('DiscardedAnonymousScriptSource'),\n  GlobalObjectCleared: Symbol('GlobalObjectCleared'),\n  CallFrameSelected: Symbol('CallFrameSelected'),\n  ConsoleCommandEvaluatedInSelectedCallFrame: Symbol('ConsoleCommandEvaluatedInSelectedCallFrame'),\n  DebuggerIsReadyToPause: Symbol('DebuggerIsReadyToPause'),\n};\n\n/**\n * @implements {ProtocolProxyApi.DebuggerDispatcher}\n */\nclass DebuggerDispatcher {\n  /**\n   * @param {!DebuggerModel} debuggerModel\n   */\n  constructor(debuggerModel) {\n    this._debuggerModel = debuggerModel;\n  }\n\n  /**\n   * @override\n   * @param {!Protocol.Debugger.PausedEvent} event\n   */\n  paused({callFrames, reason, data, hitBreakpoints, asyncStackTrace, asyncStackTraceId, asyncCallStackTraceId}) {\n    if (!this._debuggerModel.debuggerEnabled()) {\n      return;\n    }\n    this._debuggerModel._pausedScript(\n        callFrames, reason, data, hitBreakpoints || [], asyncStackTrace, asyncStackTraceId, asyncCallStackTraceId);\n  }\n\n  /**\n   * @override\n   */\n  resumed() {\n    if (!this._debuggerModel.debuggerEnabled()) {\n      return;\n    }\n    this._debuggerModel._resumedScript();\n  }\n\n  /**\n   * @override\n   * @param {!Protocol.Debugger.ScriptParsedEvent} event\n   */\n  scriptParsed({\n    scriptId,\n    url,\n    startLine,\n    startColumn,\n    endLine,\n    endColumn,\n    executionContextId,\n    hash,\n    executionContextAuxData,\n    isLiveEdit,\n    sourceMapURL,\n    hasSourceURL,\n    isModule,\n    length,\n    stackTrace,\n    codeOffset,\n    scriptLanguage,\n    debugSymbols,\n    embedderName\n  }) {\n    if (!this._debuggerModel.debuggerEnabled()) {\n      return;\n    }\n    this._debuggerModel._parsedScriptSource(\n        scriptId, url, startLine, startColumn, endLine, endColumn, executionContextId, hash, executionContextAuxData,\n        Boolean(isLiveEdit), sourceMapURL, Boolean(hasSourceURL), false, length || 0, stackTrace || null,\n        codeOffset || null, scriptLanguage || null, debugSymbols || null, embedderName || null);\n  }\n\n  /**\n   * @override\n   * @param {!Protocol.Debugger.ScriptFailedToParseEvent} event\n   */\n  scriptFailedToParse({\n    scriptId,\n    url,\n    startLine,\n    startColumn,\n    endLine,\n    endColumn,\n    executionContextId,\n    hash,\n    executionContextAuxData,\n    sourceMapURL,\n    hasSourceURL,\n    isModule,\n    length,\n    stackTrace,\n    codeOffset,\n    scriptLanguage,\n    embedderName\n  }) {\n    if (!this._debuggerModel.debuggerEnabled()) {\n      return;\n    }\n    this._debuggerModel._parsedScriptSource(\n        scriptId, url, startLine, startColumn, endLine, endColumn, executionContextId, hash, executionContextAuxData,\n        false, sourceMapURL, Boolean(hasSourceURL), true, length || 0, stackTrace || null, codeOffset || null,\n        scriptLanguage || null, null, embedderName || null);\n  }\n\n  /**\n   * @override\n   * @param {!Protocol.Debugger.BreakpointResolvedEvent} event\n   */\n  breakpointResolved({breakpointId, location}) {\n    if (!this._debuggerModel.debuggerEnabled()) {\n      return;\n    }\n    this._debuggerModel._breakpointResolved(breakpointId, location);\n  }\n}\n\nexport class Location {\n  /**\n   * @param {!DebuggerModel} debuggerModel\n   * @param {string} scriptId\n   * @param {number} lineNumber\n   * @param {number=} columnNumber\n   * @param {number=} inlineFrameIndex\n   */\n  constructor(debuggerModel, scriptId, lineNumber, columnNumber, inlineFrameIndex) {\n    this.debuggerModel = debuggerModel;\n    this.scriptId = scriptId;\n    this.lineNumber = lineNumber;\n    this.columnNumber = columnNumber || 0;\n    this.inlineFrameIndex = inlineFrameIndex || 0;\n  }\n\n  /**\n   * @param {!DebuggerModel} debuggerModel\n   * @param {!Protocol.Debugger.Location} payload\n   * @param {number=} inlineFrameIndex\n   * @return {!Location}\n   */\n  static fromPayload(debuggerModel, payload, inlineFrameIndex) {\n    return new Location(debuggerModel, payload.scriptId, payload.lineNumber, payload.columnNumber, inlineFrameIndex);\n  }\n\n  /**\n   * @return {!Protocol.Debugger.Location}\n   */\n  payload() {\n    return {scriptId: this.scriptId, lineNumber: this.lineNumber, columnNumber: this.columnNumber};\n  }\n\n  /**\n   * @return {?Script}\n   */\n  script() {\n    return this.debuggerModel.scriptForId(this.scriptId);\n  }\n\n  /**\n   * @param {function():void=} pausedCallback\n   */\n  continueToLocation(pausedCallback) {\n    if (pausedCallback) {\n      this.debuggerModel._continueToLocationCallback = this._paused.bind(this, pausedCallback);\n    }\n    this.debuggerModel._agent.invoke_continueToLocation({\n      location: this.payload(),\n      targetCallFrames: Protocol.Debugger.ContinueToLocationRequestTargetCallFrames.Current\n    });\n  }\n\n  /**\n   * @param {function():void|undefined} pausedCallback\n   * @param {!DebuggerPausedDetails} debuggerPausedDetails\n   * @return {boolean}\n   */\n  _paused(pausedCallback, debuggerPausedDetails) {\n    const location = debuggerPausedDetails.callFrames[0].location();\n    if (location.scriptId === this.scriptId && location.lineNumber === this.lineNumber &&\n        location.columnNumber === this.columnNumber) {\n      pausedCallback();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * @return {string}\n   */\n  id() {\n    return this.debuggerModel.target().id() + ':' + this.scriptId + ':' + this.lineNumber + ':' + this.columnNumber;\n  }\n}\n\nexport class ScriptPosition {\n  /**\n   * @param {number} lineNumber\n   * @param {number} columnNumber\n   */\n  constructor(lineNumber, columnNumber) {\n    this.lineNumber = lineNumber;\n    this.columnNumber = columnNumber;\n  }\n\n  /**\n   * @return {!Protocol.Debugger.ScriptPosition}\n   */\n  payload() {\n    return {lineNumber: this.lineNumber, columnNumber: this.columnNumber};\n  }\n\n  /**\n  * @param {!ScriptPosition} other\n  * @return {number}\n  */\n  compareTo(other) {\n    if (this.lineNumber !== other.lineNumber) {\n      return this.lineNumber - other.lineNumber;\n    }\n    return this.columnNumber - other.columnNumber;\n  }\n}\n\nexport class LocationRange {\n  /**\n   * @param {string} scriptId\n   * @param {!ScriptPosition} start\n   * @param {!ScriptPosition} end\n   */\n  constructor(scriptId, start, end) {\n    this.scriptId = scriptId;\n    this.start = start;\n    this.end = end;\n  }\n\n  /**\n   * @return {!Protocol.Debugger.LocationRange}\n   */\n  payload() {\n    return {scriptId: this.scriptId, start: this.start.payload(), end: this.end.payload()};\n  }\n\n  /**\n   * @param {!LocationRange} location1\n   * @param {!LocationRange} location2\n   * @return {number}\n   */\n  static comparator(location1, location2) {\n    return location1.compareTo(location2);\n  }\n\n  /**\n   * @param {!LocationRange} other\n   * @return {number}\n   */\n  compareTo(other) {\n    if (this.scriptId !== other.scriptId) {\n      return this.scriptId > other.scriptId ? 1 : -1;\n    }\n\n    const startCmp = this.start.compareTo(other.start);\n    if (startCmp) {\n      return startCmp;\n    }\n\n    return this.end.compareTo(other.end);\n  }\n\n  /**\n   * @param {!LocationRange} other\n   * @return boolean\n   */\n  overlap(other) {\n    if (this.scriptId !== other.scriptId) {\n      return false;\n    }\n\n    const startCmp = this.start.compareTo(other.start);\n    if (startCmp < 0) {\n      return this.end.compareTo(other.start) >= 0;\n    }\n    if (startCmp > 0) {\n      return this.start.compareTo(other.end) <= 0;\n    }\n\n    return true;\n  }\n}\n\nexport class BreakLocation extends Location {\n  /**\n   * @param {!DebuggerModel} debuggerModel\n   * @param {string} scriptId\n   * @param {number} lineNumber\n   * @param {number=} columnNumber\n   * @param {!Protocol.Debugger.BreakLocationType=} type\n   */\n  constructor(debuggerModel, scriptId, lineNumber, columnNumber, type) {\n    super(debuggerModel, scriptId, lineNumber, columnNumber);\n    if (type) {\n      this.type = type;\n    }\n  }\n\n  /**\n   * @override\n   * @param {!DebuggerModel} debuggerModel\n   * @param {!Protocol.Debugger.BreakLocation} payload\n   * @return {!BreakLocation}\n   */\n  static fromPayload(debuggerModel, payload) {\n    return new BreakLocation(debuggerModel, payload.scriptId, payload.lineNumber, payload.columnNumber, payload.type);\n  }\n}\n\nexport class CallFrame {\n  /**\n   * @param {!DebuggerModel} debuggerModel\n   * @param {!Script} script\n   * @param {!Protocol.Debugger.CallFrame} payload\n   * @param {number=} inlineFrameIndex\n   * @param {string=} functionName\n   */\n  constructor(debuggerModel, script, payload, inlineFrameIndex, functionName) {\n    this.debuggerModel = debuggerModel;\n    this._script = script;\n    this._payload = payload;\n    this._location = Location.fromPayload(debuggerModel, payload.location, inlineFrameIndex);\n    /** @type {!Array<!Scope>} */\n    this._scopeChain = [];\n    this._localScope = null;\n    this._inlineFrameIndex = inlineFrameIndex || 0;\n    this._functionName = functionName || payload.functionName;\n    for (let i = 0; i < payload.scopeChain.length; ++i) {\n      const scope = new Scope(this, i);\n      this._scopeChain.push(scope);\n      if (scope.type() === Protocol.Debugger.ScopeType.Local) {\n        this._localScope = scope;\n      }\n    }\n    if (payload.functionLocation) {\n      this._functionLocation = Location.fromPayload(debuggerModel, payload.functionLocation);\n    }\n    this._returnValue =\n        payload.returnValue ? this.debuggerModel._runtimeModel.createRemoteObject(payload.returnValue) : null;\n  }\n\n  /**\n   * @param {!DebuggerModel} debuggerModel\n   * @param {!Array.<!Protocol.Debugger.CallFrame>} callFrames\n   * @return {!Array.<!CallFrame>}\n   */\n  static fromPayloadArray(debuggerModel, callFrames) {\n    const result = [];\n    for (let i = 0; i < callFrames.length; ++i) {\n      const callFrame = callFrames[i];\n      const script = debuggerModel.scriptForId(callFrame.location.scriptId);\n      if (script) {\n        result.push(new CallFrame(debuggerModel, script, callFrame));\n      }\n    }\n    return result;\n  }\n\n  /**\n   * @param {number=} inlineFrameIndex\n   * @param {string=} functionName\n   */\n  createVirtualCallFrame(inlineFrameIndex, functionName) {\n    return new CallFrame(this.debuggerModel, this._script, this._payload, inlineFrameIndex, functionName);\n  }\n\n  /**\n   * @return {!Script}\n   */\n  get script() {\n    return this._script;\n  }\n\n  /**\n   * @return {string}\n   */\n  get id() {\n    return this._payload.callFrameId;\n  }\n\n  /**\n   * @return {number}\n   */\n  get inlineFrameIndex() {\n    return this._inlineFrameIndex;\n  }\n\n  /**\n   * @return {!Array.<!Scope>}\n   */\n  scopeChain() {\n    return this._scopeChain;\n  }\n\n  /**\n   * @return {?Scope}\n   */\n  localScope() {\n    return this._localScope;\n  }\n\n  /**\n   * @return {?RemoteObject}\n   */\n  thisObject() {\n    return this._payload.this ? this.debuggerModel._runtimeModel.createRemoteObject(this._payload.this) : null;\n  }\n\n  /**\n   * @return {?RemoteObject}\n   */\n  returnValue() {\n    return this._returnValue;\n  }\n\n  /**\n   * @param {string} expression\n   * @return {!Promise<?RemoteObject>}\n   */\n  async setReturnValue(expression) {\n    if (!this._returnValue) {\n      return null;\n    }\n\n    const evaluateResponse = await this.debuggerModel._agent.invoke_evaluateOnCallFrame(\n        {callFrameId: this.id, expression: expression, silent: true, objectGroup: 'backtrace'});\n    if (evaluateResponse.getError() || evaluateResponse.exceptionDetails) {\n      return null;\n    }\n    const response = await this.debuggerModel._agent.invoke_setReturnValue({newValue: evaluateResponse.result});\n    if (response.getError()) {\n      return null;\n    }\n    this._returnValue = this.debuggerModel._runtimeModel.createRemoteObject(evaluateResponse.result);\n    return this._returnValue;\n  }\n\n  /**\n   * @return {string}\n   */\n  get functionName() {\n    return this._functionName;\n  }\n\n  /**\n   * @return {!Location}\n   */\n  location() {\n    return this._location;\n  }\n\n  /**\n   * @return {?Location}\n   */\n  functionLocation() {\n    return this._functionLocation || null;\n  }\n\n  /**\n   * @param {!EvaluationOptions} options\n   * @return {!Promise<!EvaluationResult>}\n   */\n  async evaluate(options) {\n    const debuggerModel = this.debuggerModel;\n    const runtimeModel = debuggerModel.runtimeModel();\n\n    // Assume backends either support both throwOnSideEffect and timeout options or neither.\n    const needsTerminationOptions = Boolean(options.throwOnSideEffect) || options.timeout !== undefined;\n    if (needsTerminationOptions &&\n        (runtimeModel.hasSideEffectSupport() === false ||\n         (runtimeModel.hasSideEffectSupport() === null && !await runtimeModel.checkSideEffectSupport()))) {\n      return {error: 'Side-effect checks not supported by backend.'};\n    }\n\n    if (debuggerModel._evaluateOnCallFrameCallback) {\n      const result = await debuggerModel._evaluateOnCallFrameCallback(this, options);\n      if (result) {\n        return result;\n      }\n    }\n\n    const response = await this.debuggerModel._agent.invoke_evaluateOnCallFrame({\n      callFrameId: this.id,\n      expression: options.expression,\n      objectGroup: options.objectGroup,\n      includeCommandLineAPI: options.includeCommandLineAPI,\n      silent: options.silent,\n      returnByValue: options.returnByValue,\n      generatePreview: options.generatePreview,\n      throwOnSideEffect: options.throwOnSideEffect,\n      timeout: options.timeout\n    });\n    const error = response.getError();\n    if (error) {\n      console.error(error);\n      return {error: error};\n    }\n    return {object: runtimeModel.createRemoteObject(response.result), exceptionDetails: response.exceptionDetails};\n  }\n\n  async restart() {\n    const response = await this.debuggerModel._agent.invoke_restartFrame({callFrameId: this._payload.callFrameId});\n    if (!response.getError()) {\n      this.debuggerModel.stepInto();\n    }\n  }\n}\n\n/**\n * @interface\n */\nexport class ScopeChainEntry {\n  /**\n   * @return {!CallFrame}\n   */\n  callFrame() {\n    throw new Error('not implemented');\n  }\n\n  /**\n   * @return {string}\n   */\n  type() {\n    throw new Error('not implemented');\n  }\n\n  /**\n   * @return {string}\n   */\n  typeName() {\n    throw new Error('not implemented');\n  }\n\n\n  /**\n   * @return {string|undefined}\n   */\n  name() {\n    throw new Error('not implemented');\n  }\n\n  /**\n   * @return {?Location}\n   */\n  startLocation() {\n    throw new Error('not implemented');\n  }\n\n  /**\n   * @return {?Location}\n   */\n  endLocation() {\n    throw new Error('not implemented');\n  }\n\n  /**\n   * @return {!RemoteObject}\n   */\n  object() {\n    throw new Error('not implemented');\n  }\n\n  /**\n   * @return {string}\n   */\n  description() {\n    throw new Error('not implemented');\n  }\n\n  /**\n   * @return {string|undefined}\n   */\n  icon() {\n    throw new Error('not implemented');\n  }\n}\n\n/**\n * @implements {ScopeChainEntry}\n */\nexport class Scope {\n  /**\n   * @param {!CallFrame} callFrame\n   * @param {number} ordinal\n   */\n  constructor(callFrame, ordinal) {\n    this._callFrame = callFrame;\n    this._payload = callFrame._payload.scopeChain[ordinal];\n    this._type = this._payload.type;\n    this._name = this._payload.name;\n    this._ordinal = ordinal;\n    this._startLocation =\n        this._payload.startLocation ? Location.fromPayload(callFrame.debuggerModel, this._payload.startLocation) : null;\n    this._endLocation =\n        this._payload.endLocation ? Location.fromPayload(callFrame.debuggerModel, this._payload.endLocation) : null;\n    /** @type {?RemoteObject} */\n    this._object = null;\n  }\n\n  /**\n   * @override\n   * @return {!CallFrame}\n   */\n  callFrame() {\n    return this._callFrame;\n  }\n\n  /**\n   * @override\n   * @return {string}\n   */\n  type() {\n    return this._type;\n  }\n\n  /**\n   * @override\n   * @return {string}\n   */\n  typeName() {\n    switch (this._type) {\n      case Protocol.Debugger.ScopeType.Local:\n        return Common.UIString.UIString('Local');\n      case Protocol.Debugger.ScopeType.Closure:\n        return Common.UIString.UIString('Closure');\n      case Protocol.Debugger.ScopeType.Catch:\n        return Common.UIString.UIString('Catch');\n      case Protocol.Debugger.ScopeType.Block:\n        return Common.UIString.UIString('Block');\n      case Protocol.Debugger.ScopeType.Script:\n        return Common.UIString.UIString('Script');\n      case Protocol.Debugger.ScopeType.With:\n        return Common.UIString.UIString('With Block');\n      case Protocol.Debugger.ScopeType.Global:\n        return Common.UIString.UIString('Global');\n      case Protocol.Debugger.ScopeType.Module:\n        return Common.UIString.UIString('Module');\n      case Protocol.Debugger.ScopeType.WasmExpressionStack:\n        return Common.UIString.UIString('Stack');\n    }\n    return '';\n  }\n\n\n  /**\n   * @override\n   * @return {string|undefined}\n   */\n  name() {\n    return this._name;\n  }\n\n  /**\n   * @override\n   * @return {?Location}\n   */\n  startLocation() {\n    return this._startLocation;\n  }\n\n  /**\n   * @override\n   * @return {?Location}\n   */\n  endLocation() {\n    return this._endLocation;\n  }\n\n  /**\n   * @override\n   * @return {!RemoteObject}\n   */\n  object() {\n    if (this._object) {\n      return this._object;\n    }\n    const runtimeModel = this._callFrame.debuggerModel._runtimeModel;\n\n    const declarativeScope =\n        this._type !== Protocol.Debugger.ScopeType.With && this._type !== Protocol.Debugger.ScopeType.Global;\n    if (declarativeScope) {\n      this._object =\n          runtimeModel.createScopeRemoteObject(this._payload.object, new ScopeRef(this._ordinal, this._callFrame.id));\n    } else {\n      this._object = runtimeModel.createRemoteObject(this._payload.object);\n    }\n\n    return this._object;\n  }\n\n  /**\n   * @override\n   * @return {string}\n   */\n  description() {\n    const declarativeScope =\n        this._type !== Protocol.Debugger.ScopeType.With && this._type !== Protocol.Debugger.ScopeType.Global;\n    return declarativeScope ? '' : (this._payload.object.description || '');\n  }\n\n  /**\n   * @override\n   */\n  icon() {\n    return undefined;\n  }\n}\n\nexport class DebuggerPausedDetails {\n  /**\n   * @param {!DebuggerModel} debuggerModel\n   * @param {!Array<!Protocol.Debugger.CallFrame>} callFrames\n   * @param {!Protocol.Debugger.PausedEventReason} reason\n   * @param {!Object.<string, *>|undefined} auxData\n   * @param {!Array.<string>} breakpointIds\n   * @param {!Protocol.Runtime.StackTrace=} asyncStackTrace\n   * @param {!Protocol.Runtime.StackTraceId=} asyncStackTraceId\n   */\n  constructor(debuggerModel, callFrames, reason, auxData, breakpointIds, asyncStackTrace, asyncStackTraceId) {\n    this.debuggerModel = debuggerModel;\n    this.callFrames = CallFrame.fromPayloadArray(debuggerModel, callFrames);\n    this.reason = reason;\n    this.auxData = auxData;\n    this.breakpointIds = breakpointIds;\n    if (asyncStackTrace) {\n      this.asyncStackTrace = this._cleanRedundantFrames(asyncStackTrace);\n    }\n    this.asyncStackTraceId = asyncStackTraceId;\n  }\n\n  /**\n   * @return {?RemoteObject}\n   */\n  exception() {\n    if (this.reason !== Protocol.Debugger.PausedEventReason.Exception &&\n        this.reason !== Protocol.Debugger.PausedEventReason.PromiseRejection) {\n      return null;\n    }\n    return this.debuggerModel._runtimeModel.createRemoteObject(\n        /** @type {!Protocol.Runtime.RemoteObject} */ (this.auxData));\n  }\n\n  /**\n   * @param {!Protocol.Runtime.StackTrace} asyncStackTrace\n   * @return {!Protocol.Runtime.StackTrace}\n   */\n  _cleanRedundantFrames(asyncStackTrace) {\n    /** @type {!Protocol.Runtime.StackTrace|undefined} */\n    let stack = asyncStackTrace;\n    let previous = null;\n    while (stack) {\n      if (stack.description === 'async function' && stack.callFrames.length) {\n        stack.callFrames.shift();\n      }\n      if (previous && !stack.callFrames.length) {\n        previous.parent = stack.parent;\n      } else {\n        previous = stack;\n      }\n      stack = stack.parent;\n    }\n    return asyncStackTrace;\n  }\n}\n\nSDKModel.register(DebuggerModel, Capability.JS, true);\n\n/** @typedef {{location: ?Location, functionName: string}} */\n// @ts-ignore typedef\nexport let FunctionDetails;\n\n/** @typedef {{\n *    breakpointId: ?Protocol.Debugger.BreakpointId,\n *    locations: !Array<!Location>\n *  }}\n */\n// @ts-ignore typedef\nexport let SetBreakpointResult;\n"]}