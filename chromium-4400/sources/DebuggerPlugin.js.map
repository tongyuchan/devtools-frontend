{"version":3,"file":"DebuggerPlugin.js","sourceRoot":"","sources":["../../../../../front_end/sources/DebuggerPlugin.js"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2011 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Bindings from '../bindings/bindings.js';\nimport * as Common from '../common/common.js';\nimport * as Host from '../host/host.js';\nimport * as ObjectUI from '../object_ui/object_ui.js';\nimport {ls} from '../platform/platform.js';\nimport * as Root from '../root/root.js';\nimport * as SDK from '../sdk/sdk.js';\nimport * as SourceFrame from '../source_frame/source_frame.js';\nimport * as TextEditor from '../text_editor/text_editor.js';\nimport * as TextUtils from '../text_utils/text_utils.js';\nimport * as UI from '../ui/ui.js';\nimport * as Workspace from '../workspace/workspace.js';\n\nimport {AddSourceMapURLDialog} from './AddSourceMapURLDialog.js';\nimport {BreakpointEditDialog, LogpointPrefix} from './BreakpointEditDialog.js';\nimport {Plugin} from './Plugin.js';\nimport {ScriptFormatterEditorAction} from './ScriptFormatterEditorAction.js';\nimport {resolveExpression, resolveScopeInObject} from './SourceMapNamesResolver.js';\nimport {SourcesPanel} from './SourcesPanel.js';\nimport {EditorAction} from './SourcesView.js';\n\n// eslint-disable-next-line no-unused-vars\nclass DecoratorWidget extends HTMLDivElement {\n  constructor() {\n    super();\n    /** @type {!Map<string,!HTMLElement>} */\n    this.__nameToToken;\n  }\n}\n\nexport class DebuggerPlugin extends Plugin {\n  /**\n   * @param {!SourceFrame.SourcesTextEditor.SourcesTextEditor} textEditor\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   * @param {!SourceFrame.SourceFrame.Transformer} transformer\n   */\n  constructor(textEditor, uiSourceCode, transformer) {\n    super();\n    this._textEditor = textEditor;\n    this._uiSourceCode = uiSourceCode;\n    this._transformer = transformer;\n\n    /** @type {?Workspace.UISourceCode.UILocation} */\n    this._executionLocation = null;\n    this._controlDown = false;\n    /** @type {?number} */\n    this._asyncStepInHoveredLine = 0;\n    this._asyncStepInHovered = false;\n    /** @type {?number} */\n    this._clearValueWidgetsTimer = null;\n    /** @type {?UI.Infobar.Infobar} */\n    this._sourceMapInfobar = null;\n    /** @type {?number} */\n    this._controlTimeout = null;\n\n    this._scriptsPanel = SourcesPanel.instance();\n    this._breakpointManager = Bindings.BreakpointManager.BreakpointManager.instance();\n    if (uiSourceCode.project().type() === Workspace.Workspace.projectTypes.Debugger) {\n      this._textEditor.element.classList.add('source-frame-debugger-script');\n    }\n\n    this._popoverHelper =\n        new UI.PopoverHelper.PopoverHelper(this._scriptsPanel.element, this._getPopoverRequest.bind(this));\n    this._popoverHelper.setDisableOnClick(true);\n    this._popoverHelper.setTimeout(250, 250);\n    this._popoverHelper.setHasPadding(true);\n    this._boundPopoverHelperHide = this._popoverHelper.hidePopover.bind(this._popoverHelper);\n    this._scriptsPanel.element.addEventListener('scroll', this._boundPopoverHelperHide, true);\n\n    const shortcutHandlers = {\n      'debugger.toggle-breakpoint': async () => {\n        const selection = this._textEditor.selection();\n        if (!selection) {\n          return false;\n        }\n        await this._toggleBreakpoint(selection.startLine, false);\n        return true;\n      },\n      'debugger.toggle-breakpoint-enabled': async () => {\n        const selection = this._textEditor.selection();\n        if (!selection) {\n          return false;\n        }\n        await this._toggleBreakpoint(selection.startLine, true);\n        return true;\n      },\n      'debugger.breakpoint-input-window': async () => {\n        const selection = this._textEditor.selection();\n        if (!selection) {\n          return false;\n        }\n        const breakpoints = this._lineBreakpointDecorations(selection.startLine)\n                                .map(decoration => decoration.breakpoint)\n                                .filter(breakpoint => Boolean(breakpoint));\n        let breakpoint = null;\n        if (breakpoints.length) {\n          breakpoint = breakpoints[0];\n        }\n        const isLogpoint = breakpoint ? breakpoint.condition().includes(LogpointPrefix) : false;\n        this._editBreakpointCondition(selection.startLine, breakpoint, null, isLogpoint);\n        return true;\n      }\n    };\n    UI.ShortcutRegistry.ShortcutRegistry.instance().addShortcutListener(this._textEditor.element, shortcutHandlers);\n    this._boundKeyDown = /** @type {function(!Event): void} */ (this._onKeyDown.bind(this));\n    this._textEditor.element.addEventListener('keydown', this._boundKeyDown, true);\n    this._boundKeyUp = /** @type {function(!Event): void} */ (this._onKeyUp.bind(this));\n    this._textEditor.element.addEventListener('keyup', this._boundKeyUp, true);\n    this._boundMouseMove = /** @type {function(!Event): void} */ (this._onMouseMove.bind(this));\n    this._textEditor.element.addEventListener('mousemove', this._boundMouseMove, false);\n    this._boundMouseDown = /** @type {function(!Event): void} */ (this._onMouseDown.bind(this));\n    this._textEditor.element.addEventListener('mousedown', this._boundMouseDown, true);\n    this._boundBlur = /** @type {function(!Event): void} */ (this._onBlur.bind(this));\n    this._textEditor.element.addEventListener('focusout', this._boundBlur, false);\n    this._boundWheel = /** @type {function(!Event): void} */ (this._onWheel.bind(this));\n    this._textEditor.element.addEventListener('wheel', this._boundWheel, true);\n\n    this._boundGutterClick =\n        /** @type {function(!Common.EventTarget.EventTargetEvent): void} */ (e => {\n          this._handleGutterClick(e);\n        });\n    this._textEditor.addEventListener(SourceFrame.SourcesTextEditor.Events.GutterClick, this._boundGutterClick, this);\n\n    this._breakpointManager.addEventListener(\n        Bindings.BreakpointManager.Events.BreakpointAdded, this._breakpointAdded, this);\n    this._breakpointManager.addEventListener(\n        Bindings.BreakpointManager.Events.BreakpointRemoved, this._breakpointRemoved, this);\n\n    this._uiSourceCode.addEventListener(\n        Workspace.UISourceCode.Events.WorkingCopyChanged, this._workingCopyChanged, this);\n    this._uiSourceCode.addEventListener(\n        Workspace.UISourceCode.Events.WorkingCopyCommitted, this._workingCopyCommitted, this);\n\n    /** @type {!Set<!BreakpointDecoration>} */\n    this._breakpointDecorations = new Set();\n    /** @type {!Map<!Bindings.BreakpointManager.Breakpoint, !BreakpointDecoration>} */\n    this._decorationByBreakpoint = new Map();\n    /** @type {!Set<number>} */\n    this._possibleBreakpointsRequested = new Set();\n\n    /** @type {!Map.<!SDK.DebuggerModel.DebuggerModel, !Bindings.ResourceScriptMapping.ResourceScriptFile>}*/\n    this._scriptFileForDebuggerModel = new Map();\n\n    Common.Settings.Settings.instance()\n        .moduleSetting('skipStackFramesPattern')\n        .addChangeListener(this._showIgnoreListInfobarIfNeeded, this);\n    Common.Settings.Settings.instance()\n        .moduleSetting('skipContentScripts')\n        .addChangeListener(this._showIgnoreListInfobarIfNeeded, this);\n\n    /** @type {!Map.<number, !DecoratorWidget>} */\n    this._valueWidgets = new Map();\n    /** @type {?Map<!CodeMirror.TextMarker, !Function>} */\n    this._continueToLocationDecorations = null;\n\n    UI.Context.Context.instance().addFlavorChangeListener(SDK.DebuggerModel.CallFrame, this._callFrameChanged, this);\n    this._liveLocationPool = new Bindings.LiveLocation.LiveLocationPool();\n    this._callFrameChanged();\n\n    this._updateScriptFiles();\n\n    if (this._uiSourceCode.isDirty()) {\n      this._muted = true;\n      this._mutedFromStart = true;\n    } else {\n      this._muted = false;\n      this._mutedFromStart = false;\n      this._initializeBreakpoints();\n    }\n\n    /** @type {?UI.Infobar.Infobar} */\n    this._ignoreListInfobar = null;\n    this._showIgnoreListInfobarIfNeeded();\n\n    for (const scriptFile of this._scriptFileForDebuggerModel.values()) {\n      scriptFile.checkMapping();\n    }\n\n    this._hasLineWithoutMapping = false;\n    this._updateLinesWithoutMappingHighlight();\n    if (!Root.Runtime.experiments.isEnabled('sourcesPrettyPrint')) {\n      /** @type {?UI.Infobar.Infobar} */\n      this._prettyPrintInfobar = null;\n      this._detectMinified();\n    }\n  }\n\n  /**\n   * @override\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   * @return {boolean}\n   */\n  static accepts(uiSourceCode) {\n    return uiSourceCode.contentType().hasScripts();\n  }\n\n  _showIgnoreListInfobarIfNeeded() {\n    const uiSourceCode = this._uiSourceCode;\n    if (!uiSourceCode.contentType().hasScripts()) {\n      return;\n    }\n    const projectType = uiSourceCode.project().type();\n    if (!Bindings.IgnoreListManager.IgnoreListManager.instance().isIgnoreListedUISourceCode(uiSourceCode)) {\n      this._hideIgnoreListInfobar();\n      return;\n    }\n\n    if (this._ignoreListInfobar) {\n      this._ignoreListInfobar.dispose();\n    }\n\n    function unIgnoreList() {\n      Bindings.IgnoreListManager.IgnoreListManager.instance().unIgnoreListUISourceCode(uiSourceCode);\n      if (projectType === Workspace.Workspace.projectTypes.ContentScripts) {\n        Bindings.IgnoreListManager.IgnoreListManager.instance().unIgnoreListContentScripts();\n      }\n    }\n\n    const infobar = new UI.Infobar.Infobar(\n        UI.Infobar.Type.Warning, Common.UIString.UIString('This script is on the debugger\\'s ignore list'), [\n          {text: ls`Remove from ignore list`, highlight: false, delegate: unIgnoreList, dismiss: true}, {\n            text: ls`Configure`,\n            highlight: false,\n            delegate:\n                UI.ViewManager.ViewManager.instance().showView.bind(UI.ViewManager.ViewManager.instance(), 'blackbox'),\n            dismiss: false\n          }\n        ]);\n    this._ignoreListInfobar = infobar;\n\n    infobar.createDetailsRowMessage(Common.UIString.UIString(\n        'The debugger will skip stepping through this script, and will not stop on exceptions.'));\n\n    const scriptFile =\n        this._scriptFileForDebuggerModel.size ? this._scriptFileForDebuggerModel.values().next().value : null;\n    if (scriptFile && scriptFile.hasSourceMapURL()) {\n      infobar.createDetailsRowMessage(\n          Common.UIString.UIString('Source map found, but ignored for file on ignore list.'));\n    }\n    this._textEditor.attachInfobar(this._ignoreListInfobar);\n  }\n\n  _hideIgnoreListInfobar() {\n    if (!this._ignoreListInfobar) {\n      return;\n    }\n    this._ignoreListInfobar.dispose();\n    this._ignoreListInfobar = null;\n  }\n\n  /**\n   * @override\n   */\n  wasShown() {\n    if (this._executionLocation) {\n      // We need SourcesTextEditor to be initialized prior to this call. @see crbug.com/499889\n      queueMicrotask(() => {\n        this._generateValuesInSource();\n      });\n    }\n  }\n\n  /**\n   * @override\n   */\n  willHide() {\n    this._popoverHelper.hidePopover();\n  }\n\n  /**\n   * @override\n   * @param {!UI.ContextMenu.ContextMenu} contextMenu\n   * @param {number} editorLineNumber\n   * @return {!Promise<void>}\n   */\n  async populateLineGutterContextMenu(contextMenu, editorLineNumber) {\n    const uiLocation = new Workspace.UISourceCode.UILocation(this._uiSourceCode, editorLineNumber, 0);\n    this._scriptsPanel.appendUILocationItems(contextMenu, uiLocation);\n    const breakpoints =\n        /** @type {!Array<!Bindings.BreakpointManager.Breakpoint>} */ (this._lineBreakpointDecorations(editorLineNumber)\n                                                                           .map(decoration => decoration.breakpoint)\n                                                                           .filter(breakpoint => Boolean(breakpoint)));\n    const hasOnlyJavaScript = Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance()\n                                  .scriptsForUISourceCode(this._uiSourceCode)\n                                  .every(script => script.isJavaScript());\n    if (!breakpoints.length) {\n      if (!this._textEditor.hasLineClass(editorLineNumber, 'cm-non-breakable-line')) {\n        contextMenu.debugSection().appendItem(\n            Common.UIString.UIString('Add breakpoint'),\n            this._createNewBreakpoint.bind(this, editorLineNumber, '', true));\n        // Conditional breakpoints, logpoints and 'Never pause here'\n        // are currently only available for JavaScript debugging.\n        if (hasOnlyJavaScript) {\n          contextMenu.debugSection().appendItem(\n              Common.UIString.UIString('Add conditional breakpoint'),\n              this._editBreakpointCondition.bind(this, editorLineNumber, null, null, false /* preferLogpoint */));\n          contextMenu.debugSection().appendItem(\n              ls`Add logpoint`,\n              this._editBreakpointCondition.bind(this, editorLineNumber, null, null, true /* preferLogpoint */));\n          contextMenu.debugSection().appendItem(\n              Common.UIString.UIString('Never pause here'),\n              this._createNewBreakpoint.bind(this, editorLineNumber, 'false', true));\n        }\n      }\n    } else {\n      const hasOneBreakpoint = breakpoints.length === 1;\n      const removeTitle = hasOneBreakpoint ? Common.UIString.UIString('Remove breakpoint') :\n                                             Common.UIString.UIString('Remove all breakpoints in line');\n      contextMenu.debugSection().appendItem(removeTitle, () => breakpoints.map(breakpoint => breakpoint.remove(false)));\n      if (hasOneBreakpoint && hasOnlyJavaScript) {\n        // Editing breakpoints only make sense for conditional breakpoints\n        // and logpoints and both are currently only available for JavaScript\n        // debugging.\n        contextMenu.debugSection().appendItem(\n            Common.UIString.UIString('Edit breakpoint'),\n            this._editBreakpointCondition.bind(\n                this, editorLineNumber, breakpoints[0], null, false /* preferLogpoint */));\n      }\n      const hasEnabled = breakpoints.some(breakpoint => breakpoint.enabled());\n      if (hasEnabled) {\n        const title = hasOneBreakpoint ? Common.UIString.UIString('Disable breakpoint') :\n                                         Common.UIString.UIString('Disable all breakpoints in line');\n        contextMenu.debugSection().appendItem(title, () => breakpoints.map(breakpoint => breakpoint.setEnabled(false)));\n      }\n      const hasDisabled = breakpoints.some(breakpoint => !breakpoint.enabled());\n      if (hasDisabled) {\n        const title = hasOneBreakpoint ? Common.UIString.UIString('Enable breakpoint') :\n                                         Common.UIString.UIString('Enable all breakpoints in line');\n        contextMenu.debugSection().appendItem(title, () => breakpoints.map(breakpoint => breakpoint.setEnabled(true)));\n      }\n    }\n  }\n\n  /**\n   * @override\n   * @param {!UI.ContextMenu.ContextMenu} contextMenu\n   * @param {number} editorLineNumber\n   * @param {number} editorColumnNumber\n   * @return {!Promise<void>}\n   */\n  populateTextAreaContextMenu(contextMenu, editorLineNumber, editorColumnNumber) {\n    /**\n     * @param {!Bindings.ResourceScriptMapping.ResourceScriptFile} scriptFile\n     */\n    function addSourceMapURL(scriptFile) {\n      const dialog = new AddSourceMapURLDialog(addSourceMapURLDialogCallback.bind(null, scriptFile));\n      dialog.show();\n    }\n\n    /**\n     * @param {!Bindings.ResourceScriptMapping.ResourceScriptFile} scriptFile\n     * @param {string} url\n     */\n    function addSourceMapURLDialogCallback(scriptFile, url) {\n      if (!url) {\n        return;\n      }\n      scriptFile.addSourceMapURL(url);\n    }\n\n    /**\n     * @this {DebuggerPlugin}\n     */\n    function populateSourceMapMembers() {\n      if (this._uiSourceCode.project().type() === Workspace.Workspace.projectTypes.Network &&\n          Common.Settings.Settings.instance().moduleSetting('jsSourceMapsEnabled').get() &&\n          !Bindings.IgnoreListManager.IgnoreListManager.instance().isIgnoreListedUISourceCode(this._uiSourceCode)) {\n        if (this._scriptFileForDebuggerModel.size) {\n          const scriptFile = this._scriptFileForDebuggerModel.values().next().value;\n          const addSourceMapURLLabel = Common.UIString.UIString('Add source map');\n          contextMenu.debugSection().appendItem(addSourceMapURLLabel, addSourceMapURL.bind(null, scriptFile));\n        }\n      }\n    }\n\n    return super.populateTextAreaContextMenu(contextMenu, editorLineNumber, editorColumnNumber)\n        .then(populateSourceMapMembers.bind(this));\n  }\n\n  _workingCopyChanged() {\n    if (this._scriptFileForDebuggerModel.size) {\n      return;\n    }\n\n    if (this._uiSourceCode.isDirty()) {\n      this._muteBreakpointsWhileEditing();\n    } else {\n      this._restoreBreakpointsAfterEditing();\n    }\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _workingCopyCommitted(event) {\n    this._scriptsPanel.updateLastModificationTime();\n    if (!this._scriptFileForDebuggerModel.size) {\n      this._restoreBreakpointsAfterEditing();\n    }\n  }\n\n  _didMergeToVM() {\n    this._restoreBreakpointsIfConsistentScripts();\n  }\n\n  _didDivergeFromVM() {\n    this._muteBreakpointsWhileEditing();\n  }\n\n  _muteBreakpointsWhileEditing() {\n    if (this._muted) {\n      return;\n    }\n    for (const decoration of this._breakpointDecorations) {\n      this._updateBreakpointDecoration(decoration);\n    }\n    this._muted = true;\n  }\n\n  async _restoreBreakpointsIfConsistentScripts() {\n    for (const scriptFile of this._scriptFileForDebuggerModel.values()) {\n      if (scriptFile.hasDivergedFromVM() || scriptFile.isMergingToVM()) {\n        return;\n      }\n    }\n\n    await this._restoreBreakpointsAfterEditing();\n  }\n\n  async _restoreBreakpointsAfterEditing() {\n    this._muted = false;\n    if (this._mutedFromStart) {\n      this._mutedFromStart = false;\n      this._initializeBreakpoints();\n      return;\n    }\n    const decorations = Array.from(this._breakpointDecorations);\n    this._breakpointDecorations.clear();\n    this._textEditor.operation(() => decorations.map(decoration => decoration.hide()));\n    for (const decoration of decorations) {\n      if (!decoration.breakpoint) {\n        continue;\n      }\n      const enabled = decoration.enabled;\n      decoration.breakpoint.remove(false);\n      const location = decoration.handle.resolve();\n      if (location) {\n        await this._setBreakpoint(location.lineNumber, location.columnNumber, decoration.condition, enabled);\n      }\n    }\n  }\n\n  /**\n   * @param {string}  tokenType\n   * @return {boolean}\n   */\n  _isIdentifier(tokenType) {\n    return tokenType.startsWith('js-variable') || tokenType.startsWith('js-property') || tokenType === 'js-def' ||\n        tokenType === 'variable';\n  }\n\n  /**\n   * @param {!MouseEvent} event\n   * @return {?UI.PopoverHelper.PopoverRequest}\n   */\n  _getPopoverRequest(event) {\n    if (UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlOrMeta(event)) {\n      return null;\n    }\n    const target = UI.Context.Context.instance().flavor(SDK.SDKModel.Target);\n    const debuggerModel = target ? target.model(SDK.DebuggerModel.DebuggerModel) : null;\n    if (!debuggerModel || !debuggerModel.isPaused()) {\n      return null;\n    }\n\n    const textPosition = this._textEditor.coordinatesToCursorPosition(event.x, event.y);\n    if (!textPosition) {\n      return null;\n    }\n\n    const mouseLine = textPosition.startLine;\n    const mouseColumn = textPosition.startColumn;\n    const textSelection = this._textEditor.selection().normalize();\n    let anchorBox;\n    let editorLineNumber = -1;\n    let startHighlight = -1;\n    let endHighlight = -1;\n\n    const selectedCallFrame =\n        /** @type {!SDK.DebuggerModel.CallFrame} */ (UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame));\n    if (!selectedCallFrame) {\n      return null;\n    }\n\n\n    if (textSelection && !textSelection.isEmpty()) {\n      if (textSelection.startLine !== textSelection.endLine || textSelection.startLine !== mouseLine ||\n          mouseColumn < textSelection.startColumn || mouseColumn > textSelection.endColumn) {\n        return null;\n      }\n\n      const leftCorner =\n          this._textEditor.cursorPositionToCoordinates(textSelection.startLine, textSelection.startColumn);\n      const rightCorner = this._textEditor.cursorPositionToCoordinates(textSelection.endLine, textSelection.endColumn);\n      if (!leftCorner) {\n        throw new Error('Expected leftCorner to not be null.');\n      }\n      if (!rightCorner) {\n        throw new Error('Expected rightCorner to not be null.');\n      }\n      anchorBox = new AnchorBox(leftCorner.x, leftCorner.y, rightCorner.x - leftCorner.x, leftCorner.height);\n      editorLineNumber = textSelection.startLine;\n      startHighlight = textSelection.startColumn;\n      endHighlight = textSelection.endColumn - 1;\n    } else if (this._uiSourceCode.mimeType() === 'application/wasm') {\n      const token = this._textEditor.tokenAtTextPosition(textPosition.startLine, textPosition.startColumn);\n      if (!token || token.type !== 'variable-2') {\n        return null;\n      }\n      const leftCorner = this._textEditor.cursorPositionToCoordinates(textPosition.startLine, token.startColumn);\n      const rightCorner = this._textEditor.cursorPositionToCoordinates(textPosition.startLine, token.endColumn - 1);\n      if (!leftCorner) {\n        throw new Error('Expected leftCorner to not be null.');\n      }\n      if (!rightCorner) {\n        throw new Error('Expected rightCorner to not be null.');\n      }\n      anchorBox = new AnchorBox(leftCorner.x, leftCorner.y, rightCorner.x - leftCorner.x, leftCorner.height);\n      editorLineNumber = textPosition.startLine;\n      startHighlight = token.startColumn;\n      endHighlight = token.endColumn - 1;\n    } else {\n      const token = this._textEditor.tokenAtTextPosition(textPosition.startLine, textPosition.startColumn);\n      if (!token || !token.type) {\n        return null;\n      }\n      editorLineNumber = textPosition.startLine;\n      const line = this._textEditor.line(editorLineNumber);\n      const tokenContent = line.substring(token.startColumn, token.endColumn);\n\n      const isIdentifier = this._isIdentifier(token.type);\n      if (!isIdentifier && (token.type !== 'js-keyword' || tokenContent !== 'this')) {\n        return null;\n      }\n\n      const leftCorner = this._textEditor.cursorPositionToCoordinates(editorLineNumber, token.startColumn);\n      const rightCorner = this._textEditor.cursorPositionToCoordinates(editorLineNumber, token.endColumn - 1);\n      if (!leftCorner) {\n        throw new Error('Expected leftCorner to not be null.');\n      }\n      if (!rightCorner) {\n        throw new Error('Expected rightCorner to not be null.');\n      }\n      anchorBox = new AnchorBox(leftCorner.x, leftCorner.y, rightCorner.x - leftCorner.x, leftCorner.height);\n\n      startHighlight = token.startColumn;\n      endHighlight = token.endColumn - 1;\n      while (startHighlight > 1 && line.charAt(startHighlight - 1) === '.') {\n        const tokenBefore = this._textEditor.tokenAtTextPosition(editorLineNumber, startHighlight - 2);\n        if (!tokenBefore || !tokenBefore.type) {\n          return null;\n        }\n        if (tokenBefore.type === 'js-meta') {\n          break;\n        }\n        if (tokenBefore.type === 'js-string-2') {\n          // If we hit a template literal, find the opening ` in this line.\n          // TODO(bmeurer): We should eventually replace this tokenization\n          // approach with a proper soluation based on parsing, maybe reusing\n          // the Parser and AST inside V8 for this (or potentially relying on\n          // acorn to do the job).\n          if (tokenBefore.endColumn < 2) {\n            return null;\n          }\n          startHighlight = line.lastIndexOf('`', tokenBefore.endColumn - 2);\n          if (startHighlight < 0) {\n            return null;\n          }\n          break;\n        }\n        startHighlight = tokenBefore.startColumn;\n      }\n    }\n\n    /** @type {?ObjectUI.ObjectPopoverHelper.ObjectPopoverHelper} */\n    let objectPopoverHelper;\n    /** @type {?CodeMirror.TextMarker} */\n    let highlightDescriptor;\n\n    /**\n     * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n     * @param {string} evaluationText\n     * @return {!Promise<?SDK.RuntimeModel.EvaluationResult>}\n     */\n    async function evaluate(uiSourceCode, evaluationText) {\n      const resolvedText = await resolveExpression(\n          selectedCallFrame, evaluationText, uiSourceCode, editorLineNumber, startHighlight, endHighlight);\n      return await selectedCallFrame.evaluate({\n        expression: resolvedText || evaluationText,\n        objectGroup: 'popover',\n        includeCommandLineAPI: false,\n        silent: true,\n        returnByValue: false,\n        generatePreview: false,\n        throwOnSideEffect: undefined,\n        timeout: undefined,\n        disableBreaks: undefined,\n        replMode: undefined,\n        allowUnsafeEvalBlockedByCSP: undefined\n      });\n    }\n\n    return {\n      box: anchorBox,\n      show: async popover => {\n        const evaluationText = this._textEditor.line(editorLineNumber).substring(startHighlight, endHighlight + 1);\n        const result = await evaluate(this._uiSourceCode, evaluationText);\n\n        if (!result || 'error' in result || !result.object ||\n            (result.object.type === 'object' && result.object.subtype === 'error')) {\n          return false;\n        }\n        objectPopoverHelper =\n            await ObjectUI.ObjectPopoverHelper.ObjectPopoverHelper.buildObjectPopover(result.object, popover);\n        const potentiallyUpdatedCallFrame = UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame);\n        if (!objectPopoverHelper || selectedCallFrame !== potentiallyUpdatedCallFrame) {\n          debuggerModel.runtimeModel().releaseObjectGroup('popover');\n          if (objectPopoverHelper) {\n            objectPopoverHelper.dispose();\n          }\n          return false;\n        }\n        const highlightRange =\n            new TextUtils.TextRange.TextRange(editorLineNumber, startHighlight, editorLineNumber, endHighlight);\n        highlightDescriptor = this._textEditor.highlightRange(highlightRange, 'source-frame-eval-expression');\n        return true;\n      },\n      hide: () => {\n        if (objectPopoverHelper) {\n          objectPopoverHelper.dispose();\n        }\n        debuggerModel.runtimeModel().releaseObjectGroup('popover');\n        if (highlightDescriptor) {\n          this._textEditor.removeHighlight(highlightDescriptor);\n        }\n      }\n    };\n  }\n\n  /**\n   * @param {!WheelEvent} event\n   */\n  _onWheel(event) {\n    if (this._executionLocation && UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlOrMeta(event)) {\n      event.preventDefault();\n    }\n  }\n\n  /**\n   * @param {!KeyboardEvent} event\n   */\n  _onKeyDown(event) {\n    if (!event.ctrlKey || (!event.metaKey && Host.Platform.isMac())) {\n      this._clearControlDown();\n    }\n\n    if (event.key === 'Escape') {\n      if (this._popoverHelper.isPopoverVisible()) {\n        this._popoverHelper.hidePopover();\n        event.consume();\n      }\n      return;\n    }\n\n    if (UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlOrMeta(event) && this._executionLocation) {\n      this._controlDown = true;\n      if (event.key === (Host.Platform.isMac() ? 'Meta' : 'Control')) {\n        this._controlTimeout = window.setTimeout(() => {\n          if (this._executionLocation && this._controlDown) {\n            this._showContinueToLocations();\n          }\n        }, 150);\n      }\n    }\n  }\n\n  /**\n   * @param {!MouseEvent} event\n   */\n  _onMouseMove(event) {\n    if (this._executionLocation && this._controlDown &&\n        UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlOrMeta(event)) {\n      if (!this._continueToLocationDecorations) {\n        this._showContinueToLocations();\n      }\n    }\n    if (this._continueToLocationDecorations) {\n      const target = /** @type {!Element} */ (event.target);\n      const textPosition = this._textEditor.coordinatesToCursorPosition(event.x, event.y);\n      const hovering = Boolean(target.enclosingNodeOrSelfWithClass('source-frame-async-step-in'));\n      this._setAsyncStepInHoveredLine(textPosition ? textPosition.startLine : null, hovering);\n    }\n  }\n\n  /**\n   * @param {?number} editorLineNumber\n   * @param {boolean} hovered\n   */\n  _setAsyncStepInHoveredLine(editorLineNumber, hovered) {\n    if (this._asyncStepInHoveredLine === editorLineNumber && this._asyncStepInHovered === hovered) {\n      return;\n    }\n    if (this._asyncStepInHovered && this._asyncStepInHoveredLine) {\n      this._textEditor.toggleLineClass(this._asyncStepInHoveredLine, 'source-frame-async-step-in-hovered', false);\n    }\n    this._asyncStepInHoveredLine = editorLineNumber;\n    this._asyncStepInHovered = hovered;\n    if (this._asyncStepInHovered && this._asyncStepInHoveredLine) {\n      this._textEditor.toggleLineClass(this._asyncStepInHoveredLine, 'source-frame-async-step-in-hovered', true);\n    }\n  }\n\n  /**\n   * @param {!MouseEvent} event\n   */\n  _onMouseDown(event) {\n    if (!this._executionLocation || !UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlOrMeta(event)) {\n      return;\n    }\n    if (!this._continueToLocationDecorations) {\n      return;\n    }\n    event.consume();\n    const textPosition = this._textEditor.coordinatesToCursorPosition(event.x, event.y);\n    if (!textPosition) {\n      return;\n    }\n    for (const decoration of this._continueToLocationDecorations.keys()) {\n      const range = decoration.find();\n      if (range.from.line !== textPosition.startLine || range.to.line !== textPosition.startLine) {\n        continue;\n      }\n      if (range.from.ch <= textPosition.startColumn && textPosition.startColumn <= range.to.ch) {\n        const callback = this._continueToLocationDecorations.get(decoration);\n        if (!callback) {\n          throw new Error('Expected a function');\n        }\n        callback();\n        break;\n      }\n    }\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _onBlur(event) {\n    this._clearControlDown();\n  }\n\n  /**\n   * @param {!KeyboardEvent} event\n   */\n  _onKeyUp(event) {\n    this._clearControlDown();\n  }\n\n  _clearControlDown() {\n    this._controlDown = false;\n    this._clearContinueToLocations();\n    if (this._controlTimeout) {\n      clearTimeout(this._controlTimeout);\n    }\n  }\n\n  /**\n   * @param {number} editorLineNumber\n   * @param {?Bindings.BreakpointManager.Breakpoint} breakpoint\n   * @param {?{lineNumber: number, columnNumber: number}} location\n   * @param {boolean=} preferLogpoint\n   */\n  async _editBreakpointCondition(editorLineNumber, breakpoint, location, preferLogpoint) {\n    const oldCondition = breakpoint ? breakpoint.condition() : '';\n    const decorationElement = document.createElement('div');\n    const dialog = new BreakpointEditDialog(editorLineNumber, oldCondition, Boolean(preferLogpoint), async result => {\n      dialog.detach();\n      this._textEditor.removeDecoration(decorationElement, editorLineNumber);\n      if (!result.committed) {\n        return;\n      }\n      if (breakpoint) {\n        breakpoint.setCondition(result.condition);\n      } else if (location) {\n        await this._setBreakpoint(location.lineNumber, location.columnNumber, result.condition, true);\n      } else {\n        await this._createNewBreakpoint(editorLineNumber, result.condition, true);\n      }\n    });\n    this._textEditor.addDecoration(decorationElement, editorLineNumber);\n    dialog.markAsExternallyManaged();\n    dialog.show(decorationElement);\n  }\n\n  /**\n   * @param {!Bindings.LiveLocation.LiveLocation} liveLocation\n   */\n  async _executionLineChanged(liveLocation) {\n    this._clearExecutionLine();\n    const uiLocation = await liveLocation.uiLocation();\n    if (!uiLocation || uiLocation.uiSourceCode.url() !== this._uiSourceCode.url()) {\n      this._executionLocation = null;\n      return;\n    }\n\n    this._executionLocation = uiLocation;\n    const editorLocation = this._transformer.uiLocationToEditorLocation(uiLocation.lineNumber, uiLocation.columnNumber);\n    this._textEditor.setExecutionLocation(editorLocation.lineNumber, editorLocation.columnNumber);\n    if (this._textEditor.isShowing()) {\n      // We need SourcesTextEditor to be initialized prior to this call. @see crbug.com/506566\n      queueMicrotask(() => {\n        if (this._controlDown) {\n          this._showContinueToLocations();\n        } else {\n          this._generateValuesInSource();\n        }\n      });\n    }\n  }\n\n  _generateValuesInSource() {\n    if (!Common.Settings.Settings.instance().moduleSetting('inlineVariableValues').get()) {\n      return;\n    }\n    const executionContext = UI.Context.Context.instance().flavor(SDK.RuntimeModel.ExecutionContext);\n    if (!executionContext) {\n      return;\n    }\n    const callFrame = UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame);\n    if (!callFrame) {\n      return;\n    }\n\n    const localScope = callFrame.localScope();\n    const functionLocation = callFrame.functionLocation();\n    if (localScope && functionLocation) {\n      resolveScopeInObject(localScope)\n          .getAllProperties(false, false)\n          .then(this._prepareScopeVariables.bind(this, callFrame));\n    }\n  }\n\n  _showContinueToLocations() {\n    this._popoverHelper.hidePopover();\n    const executionContext = UI.Context.Context.instance().flavor(SDK.RuntimeModel.ExecutionContext);\n    if (!executionContext) {\n      return;\n    }\n    const callFrame = UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame);\n    if (!callFrame) {\n      return;\n    }\n    const start = callFrame.functionLocation() || callFrame.location();\n    const debuggerModel = callFrame.debuggerModel;\n    debuggerModel.getPossibleBreakpoints(start, null, true)\n        .then(locations => this._textEditor.operation(renderLocations.bind(this, locations)));\n\n    /**\n     * @param {!Array<!SDK.DebuggerModel.BreakLocation>} locations\n     * @this {DebuggerPlugin}\n     */\n    function renderLocations(locations) {\n      this._clearContinueToLocationsNoRestore();\n      this._textEditor.hideExecutionLineBackground();\n      this._continueToLocationDecorations = new Map();\n      locations = locations.reverse();\n      let previousCallLine = -1;\n      for (const location of locations) {\n        const editorLocation = this._transformer.uiLocationToEditorLocation(location.lineNumber, location.columnNumber);\n        const tokenThatIsPossiblyNull =\n            this._textEditor.tokenAtTextPosition(editorLocation.lineNumber, editorLocation.columnNumber);\n        if (!tokenThatIsPossiblyNull) {\n          continue;\n        }\n        let token = /** @type {!TextEditor.CodeMirrorTextEditor.Token} */ (tokenThatIsPossiblyNull);\n\n        const line = this._textEditor.line(editorLocation.lineNumber);\n        let tokenContent = line.substring(token.startColumn, token.endColumn);\n        if (!token.type && tokenContent === '.') {\n          const nextToken = this._textEditor.tokenAtTextPosition(editorLocation.lineNumber, token.endColumn + 1);\n          if (!nextToken) {\n            throw new Error('nextToken should not be null.');\n          }\n          token = nextToken;\n          tokenContent = line.substring(token.startColumn, token.endColumn);\n        }\n        if (!token.type) {\n          continue;\n        }\n        const validKeyword = token.type === 'js-keyword' &&\n            (tokenContent === 'this' || tokenContent === 'return' || tokenContent === 'new' ||\n             tokenContent === 'continue' || tokenContent === 'break');\n        if (!validKeyword && !this._isIdentifier(token.type)) {\n          continue;\n        }\n        if (previousCallLine === editorLocation.lineNumber &&\n            location.type !== Protocol.Debugger.BreakLocationType.Call) {\n          continue;\n        }\n\n        let highlightRange = new TextUtils.TextRange.TextRange(\n            editorLocation.lineNumber, token.startColumn, editorLocation.lineNumber, token.endColumn - 1);\n        let decoration = this._textEditor.highlightRange(highlightRange, 'source-frame-continue-to-location');\n        this._continueToLocationDecorations.set(decoration, location.continueToLocation.bind(location));\n        if (location.type === Protocol.Debugger.BreakLocationType.Call) {\n          previousCallLine = editorLocation.lineNumber;\n        }\n\n        let isAsyncCall = (line[token.startColumn - 1] === '.' && tokenContent === 'then') ||\n            tokenContent === 'setTimeout' || tokenContent === 'setInterval' || tokenContent === 'postMessage';\n        if (tokenContent === 'new') {\n          const nextToken = this._textEditor.tokenAtTextPosition(editorLocation.lineNumber, token.endColumn + 1);\n          if (!nextToken) {\n            throw new Error('nextToken should not be null.');\n          }\n          token = nextToken;\n          tokenContent = line.substring(token.startColumn, token.endColumn);\n          isAsyncCall = tokenContent === 'Worker';\n        }\n        const isCurrentPosition = this._executionLocation &&\n            location.lineNumber === this._executionLocation.lineNumber &&\n            location.columnNumber === this._executionLocation.columnNumber;\n        if (location.type === Protocol.Debugger.BreakLocationType.Call && isAsyncCall) {\n          const asyncStepInRange =\n              this._findAsyncStepInRange(this._textEditor, editorLocation.lineNumber, line, token.endColumn);\n          if (asyncStepInRange) {\n            highlightRange = new TextUtils.TextRange.TextRange(\n                editorLocation.lineNumber, asyncStepInRange.from, editorLocation.lineNumber, asyncStepInRange.to - 1);\n            decoration = this._textEditor.highlightRange(highlightRange, 'source-frame-async-step-in');\n            this._continueToLocationDecorations.set(\n                decoration, this._asyncStepIn.bind(this, location, Boolean(isCurrentPosition)));\n          }\n        }\n      }\n\n      this._continueToLocationRenderedForTest();\n    }\n  }\n\n  _continueToLocationRenderedForTest() {\n  }\n\n  /**\n   * @param {!SourceFrame.SourcesTextEditor.SourcesTextEditor} textEditor\n   * @param {number} editorLineNumber\n   * @param {string} line\n   * @param {number} column\n   * @return {?{from: number, to: number}}\n   */\n  _findAsyncStepInRange(textEditor, editorLineNumber, line, column) {\n    /** @type {?TextEditor.CodeMirrorTextEditor.Token} */\n    let token = null;\n    let tokenText;\n    let from = column;\n    let to = line.length;\n\n    let position = line.indexOf('(', column);\n    const argumentsStart = position;\n    if (position === -1) {\n      return null;\n    }\n    position++;\n\n    skipWhitespace();\n    if (position >= line.length) {\n      return null;\n    }\n\n    token = nextToken();\n    if (!token) {\n      return null;\n    }\n    from = token.startColumn;\n\n    if (token.type === 'js-keyword' && tokenText === 'async') {\n      skipWhitespace();\n      if (position >= line.length) {\n        return {from: from, to: to};\n      }\n      token = nextToken();\n      if (!token) {\n        return {from: from, to: to};\n      }\n    }\n\n    if (token.type === 'js-keyword' && tokenText === 'function') {\n      return {from: from, to: to};\n    }\n\n    if (token.type === 'js-string') {\n      return {from: argumentsStart, to: to};\n    }\n\n    if (token.type && this._isIdentifier(token.type)) {\n      return {from: from, to: to};\n    }\n\n    if (tokenText !== '(') {\n      return null;\n    }\n    const closeParen = line.indexOf(')', position);\n    if (closeParen === -1 || line.substring(position, closeParen).indexOf('(') !== -1) {\n      return {from: from, to: to};\n    }\n    return {from: from, to: closeParen + 1};\n\n    function nextToken() {\n      token = textEditor.tokenAtTextPosition(editorLineNumber, position);\n      if (token) {\n        position = token.endColumn;\n        to = token.endColumn;\n        tokenText = line.substring(token.startColumn, token.endColumn);\n      }\n\n      return token;\n    }\n\n    function skipWhitespace() {\n      while (position < line.length) {\n        if (line[position] === ' ') {\n          position++;\n          continue;\n        }\n        const token = textEditor.tokenAtTextPosition(editorLineNumber, position);\n        if (!token) {\n          throw new Error('expected token to not be null');\n        }\n        if (token.type === 'js-comment') {\n          position = token.endColumn;\n          continue;\n        }\n        break;\n      }\n    }\n  }\n\n  /**\n   * @param {!SDK.DebuggerModel.BreakLocation} location\n   * @param {boolean} isCurrentPosition\n   */\n  _asyncStepIn(location, isCurrentPosition) {\n    if (!isCurrentPosition) {\n      location.continueToLocation(asyncStepIn);\n    } else {\n      asyncStepIn();\n    }\n\n    function asyncStepIn() {\n      location.debuggerModel.scheduleStepIntoAsync();\n    }\n  }\n\n  /**\n   * @param {!SDK.DebuggerModel.CallFrame} callFrame\n   * @param {!SDK.RemoteObject.GetPropertiesResult} allProperties\n   */\n  async _prepareScopeVariables(callFrame, allProperties) {\n    const properties = allProperties.properties;\n    this._clearValueWidgets();\n    if (!properties || !properties.length || properties.length > 500 || !this._textEditor.isShowing()) {\n      return;\n    }\n\n    const functionUILocationPromise =\n        Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().rawLocationToUILocation(\n            /** @type {!SDK.DebuggerModel.Location} */ (callFrame.functionLocation()));\n    const executionUILocationPromise =\n        Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().rawLocationToUILocation(\n            callFrame.location());\n    const [functionUILocation, executionUILocation] =\n        await Promise.all([functionUILocationPromise, executionUILocationPromise]);\n    if (!functionUILocation || !executionUILocation ||\n        functionUILocation.uiSourceCode.url() !== this._uiSourceCode.url() ||\n        executionUILocation.uiSourceCode.url() !== this._uiSourceCode.url()) {\n      return;\n    }\n\n    const functionEditorLocation =\n        this._transformer.uiLocationToEditorLocation(functionUILocation.lineNumber, functionUILocation.columnNumber);\n    const executionEditorLocation =\n        this._transformer.uiLocationToEditorLocation(executionUILocation.lineNumber, executionUILocation.columnNumber);\n    const fromLine = functionEditorLocation.lineNumber;\n    const fromColumn = functionEditorLocation.columnNumber;\n    const toLine = executionEditorLocation.lineNumber;\n    if (fromLine >= toLine || toLine - fromLine > 500 || fromLine < 0 || toLine >= this._textEditor.linesCount) {\n      return;\n    }\n\n    const valuesMap = new Map();\n    for (const property of properties) {\n      valuesMap.set(property.name, property.value);\n    }\n\n    /** @type {!Map.<number, !Set<string>>} */\n    const namesPerLine = new Map();\n    let skipObjectProperty = false;\n    const tokenizer = new TextEditor.CodeMirrorUtils.TokenizerFactory().createTokenizer('text/javascript');\n    tokenizer(this._textEditor.line(fromLine).substring(fromColumn), processToken.bind(this, fromLine));\n    for (let i = fromLine + 1; i < toLine; ++i) {\n      tokenizer(this._textEditor.line(i), processToken.bind(this, i));\n    }\n\n    /**\n     * @param {number} editorLineNumber\n     * @param {string} tokenValue\n     * @param {?string} tokenType\n     * @param {number} column\n     * @param {number} newColumn\n     * @this {DebuggerPlugin}\n     */\n    function processToken(editorLineNumber, tokenValue, tokenType, column, newColumn) {\n      if (!skipObjectProperty && tokenType && this._isIdentifier(tokenType) && valuesMap.get(tokenValue)) {\n        let names = namesPerLine.get(editorLineNumber);\n        if (!names) {\n          names = new Set();\n          namesPerLine.set(editorLineNumber, names);\n        }\n        names.add(tokenValue);\n      }\n      skipObjectProperty = tokenValue === '.';\n    }\n    this._textEditor.operation(this._renderDecorations.bind(this, valuesMap, namesPerLine, fromLine, toLine));\n  }\n\n  /**\n   * @param {!Map.<string,!SDK.RemoteObject.RemoteObject>} valuesMap\n   * @param {!Map.<number, !Set<string>>} namesPerLine\n   * @param {number} fromLine\n   * @param {number} toLine\n   */\n  _renderDecorations(valuesMap, namesPerLine, fromLine, toLine) {\n    const formatter = new ObjectUI.RemoteObjectPreviewFormatter.RemoteObjectPreviewFormatter();\n    for (let i = fromLine; i < toLine; ++i) {\n      const names = namesPerLine.get(i);\n      const oldWidget = this._valueWidgets.get(i);\n      if (!names) {\n        if (oldWidget) {\n          this._valueWidgets.delete(i);\n          this._textEditor.removeDecoration(oldWidget, i);\n        }\n        continue;\n      }\n\n      const widget = /** @type {!DecoratorWidget} */ (document.createElement('div'));\n      widget.classList.add('text-editor-value-decoration');\n      const base = this._textEditor.cursorPositionToCoordinates(i, 0);\n      if (!base) {\n        throw new Error('base is expected to not be null');\n      }\n      const offset = this._textEditor.cursorPositionToCoordinates(i, this._textEditor.line(i).length);\n      if (!offset) {\n        throw new Error('offset is expected to not be null');\n      }\n      const codeMirrorLinesLeftPadding = 4;\n      const left = offset.x - base.x + codeMirrorLinesLeftPadding;\n      widget.style.left = left + 'px';\n      widget.__nameToToken = new Map();\n\n      let renderedNameCount = 0;\n      for (const name of names) {\n        if (renderedNameCount > 10) {\n          break;\n        }\n        const names = namesPerLine.get(i - 1);\n        if (names && names.has(name)) {\n          continue;\n        }  // Only render name once in the given continuous block.\n        if (renderedNameCount) {\n          UI.UIUtils.createTextChild(widget, ', ');\n        }\n        const nameValuePair = /** @type {!HTMLElement} */ (widget.createChild('span'));\n        widget.__nameToToken.set(name, nameValuePair);\n        UI.UIUtils.createTextChild(nameValuePair, name + ' = ');\n        const value = valuesMap.get(name);\n        if (!value) {\n          throw new Error('value is expected to be null');\n        }\n        const propertyCount = value.preview ? value.preview.properties.length : 0;\n        const entryCount = value.preview && value.preview.entries ? value.preview.entries.length : 0;\n        if (value.preview && propertyCount + entryCount < 10) {\n          formatter.appendObjectPreview(nameValuePair, value.preview, false /* isEntry */);\n        } else {\n          const propertyValue = ObjectUI.ObjectPropertiesSection.ObjectPropertiesSection.createPropertyValue(\n              value, /* wasThrown */ false, /* showPreview */ false);\n          nameValuePair.appendChild(propertyValue.element);\n        }\n        ++renderedNameCount;\n      }\n\n      let widgetChanged = true;\n      if (oldWidget) {\n        widgetChanged = false;\n        for (const name of widget.__nameToToken.keys()) {\n          const oldTextElement = oldWidget.__nameToToken.get(name);\n          const newTextElement = widget.__nameToToken.get(name);\n          const oldText = oldTextElement ? oldTextElement.textContent : '';\n          const newText = newTextElement ? newTextElement.textContent : '';\n          if (newText !== oldText) {\n            widgetChanged = true;\n            // value has changed, update it.\n            UI.UIUtils.runCSSAnimationOnce(\n                /** @type {!Element} */ (widget.__nameToToken.get(name)), 'source-frame-value-update-highlight');\n          }\n        }\n        if (widgetChanged) {\n          this._valueWidgets.delete(i);\n          this._textEditor.removeDecoration(oldWidget, i);\n        }\n      }\n      if (widgetChanged) {\n        this._valueWidgets.set(i, widget);\n        this._textEditor.addDecoration(widget, i);\n      }\n    }\n  }\n\n  _clearExecutionLine() {\n    this._textEditor.operation(() => {\n      if (this._executionLocation) {\n        this._textEditor.clearExecutionLine();\n      }\n      this._executionLocation = null;\n      if (this._clearValueWidgetsTimer) {\n        clearTimeout(this._clearValueWidgetsTimer);\n        this._clearValueWidgetsTimer = null;\n      }\n      this._clearValueWidgetsTimer = window.setTimeout(this._clearValueWidgets.bind(this), 1000);\n      this._clearContinueToLocationsNoRestore();\n    });\n  }\n\n  _clearValueWidgets() {\n    if (this._clearValueWidgetsTimer) {\n      clearTimeout(this._clearValueWidgetsTimer);\n    }\n    this._clearValueWidgetsTimer = null;\n    this._textEditor.operation(() => {\n      for (const line of this._valueWidgets.keys()) {\n        const valueWidget = this._valueWidgets.get(line);\n        if (valueWidget) {\n          this._textEditor.removeDecoration(valueWidget, line);\n        }\n      }\n      this._valueWidgets.clear();\n    });\n  }\n\n  _clearContinueToLocationsNoRestore() {\n    const continueToLocationDecorations = this._continueToLocationDecorations;\n    if (!continueToLocationDecorations) {\n      return;\n    }\n    this._textEditor.operation(() => {\n      for (const decoration of continueToLocationDecorations.keys()) {\n        this._textEditor.removeHighlight(decoration);\n      }\n      this._continueToLocationDecorations = null;\n      this._setAsyncStepInHoveredLine(null, false);\n    });\n  }\n\n  _clearContinueToLocations() {\n    if (!this._continueToLocationDecorations) {\n      return;\n    }\n    this._textEditor.operation(() => {\n      this._textEditor.showExecutionLineBackground();\n      this._generateValuesInSource();\n      this._clearContinueToLocationsNoRestore();\n    });\n  }\n\n  /**\n   * @param {number} lineNumber\n   * @return {!Array<!BreakpointDecoration>}\n   */\n  _lineBreakpointDecorations(lineNumber) {\n    return Array.from(this._breakpointDecorations)\n        .filter(decoration => (decoration.handle.resolve() || {}).lineNumber === lineNumber);\n  }\n\n  /**\n   * @param {number} editorLineNumber\n   * @param {number} editorColumnNumber\n   * @return {?BreakpointDecoration}\n   */\n  _breakpointDecoration(editorLineNumber, editorColumnNumber) {\n    for (const decoration of this._breakpointDecorations) {\n      const location = decoration.handle.resolve();\n      if (!location) {\n        continue;\n      }\n      if (location.lineNumber === editorLineNumber && location.columnNumber === editorColumnNumber) {\n        return decoration;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * @param {!BreakpointDecoration} decoration\n   */\n  _updateBreakpointDecoration(decoration) {\n    if (!this._scheduledBreakpointDecorationUpdates) {\n      /** @type {?Set<!BreakpointDecoration>} */\n      this._scheduledBreakpointDecorationUpdates = new Set();\n      queueMicrotask(() => {\n        this._textEditor.operation(update.bind(this));\n      });\n    }\n    this._scheduledBreakpointDecorationUpdates.add(decoration);\n\n    /**\n     * @this {DebuggerPlugin}\n     */\n    function update() {\n      if (!this._scheduledBreakpointDecorationUpdates) {\n        return;\n      }\n      const editorLineNumbers = new Set();\n      for (const decoration of this._scheduledBreakpointDecorationUpdates) {\n        const location = decoration.handle.resolve();\n        if (!location) {\n          continue;\n        }\n        editorLineNumbers.add(location.lineNumber);\n      }\n      this._scheduledBreakpointDecorationUpdates = null;\n      let waitingForInlineDecorations = false;\n      for (const lineNumber of editorLineNumbers) {\n        const decorations = this._lineBreakpointDecorations(lineNumber);\n        updateGutter.call(this, lineNumber, decorations);\n        if (this._possibleBreakpointsRequested.has(lineNumber)) {\n          waitingForInlineDecorations = true;\n          continue;\n        }\n        updateInlineDecorations.call(this, lineNumber, decorations);\n      }\n      if (!waitingForInlineDecorations) {\n        this._breakpointDecorationsUpdatedForTest();\n      }\n    }\n\n    /**\n     * @param {number} editorLineNumber\n     * @param {!Array<!BreakpointDecoration>} decorations\n     * @this {DebuggerPlugin}\n     */\n    function updateGutter(editorLineNumber, decorations) {\n      this._textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint', false);\n      this._textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint-disabled', false);\n      this._textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint-unbound', false);\n      this._textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint-conditional', false);\n      this._textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint-logpoint', false);\n\n      if (decorations.length) {\n        decorations.sort(BreakpointDecoration.mostSpecificFirst);\n        const isDisabled = !decorations[0].enabled || this._muted;\n        const isLogpoint = decorations[0].condition.includes(LogpointPrefix);\n        const isUnbound = !decorations[0].bound;\n        const isConditionalBreakpoint = Boolean(decorations[0].condition) && !isLogpoint;\n\n        this._textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint', true);\n        this._textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint-disabled', isDisabled);\n        this._textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint-unbound', isUnbound && !isDisabled);\n        this._textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint-logpoint', isLogpoint);\n        this._textEditor.toggleLineClass(editorLineNumber, 'cm-breakpoint-conditional', isConditionalBreakpoint);\n      }\n    }\n\n    /**\n     * @param {number} editorLineNumber\n     * @param {!Array<!BreakpointDecoration>} decorations\n     * @this {DebuggerPlugin}\n     */\n    function updateInlineDecorations(editorLineNumber, decorations) {\n      const actualBookmarks =\n          new Set(decorations.map(decoration => decoration.bookmark).filter(bookmark => Boolean(bookmark)));\n      const lineEnd = this._textEditor.line(editorLineNumber).length;\n      const bookmarks = this._textEditor.bookmarks(\n          new TextUtils.TextRange.TextRange(editorLineNumber, 0, editorLineNumber, lineEnd),\n          BreakpointDecoration.bookmarkSymbol);\n      for (const bookmark of bookmarks) {\n        if (!actualBookmarks.has(bookmark)) {\n          bookmark.clear();\n        }\n      }\n      if (!decorations.length) {\n        return;\n      }\n      if (decorations.length > 1) {\n        for (const decoration of decorations) {\n          decoration.update();\n          if (!this._muted) {\n            decoration.show();\n          } else {\n            decoration.hide();\n          }\n        }\n      } else {\n        decorations[0].update();\n        decorations[0].hide();\n      }\n    }\n  }\n\n  _breakpointDecorationsUpdatedForTest() {\n  }\n\n  /**\n   * @param {!BreakpointDecoration} decoration\n   * @param {!MouseEvent} event\n   */\n  async _inlineBreakpointClick(decoration, event) {\n    event.consume(true);\n    if (decoration.breakpoint) {\n      if (event.shiftKey) {\n        decoration.breakpoint.setEnabled(!decoration.breakpoint.enabled());\n      } else {\n        decoration.breakpoint.remove(false);\n      }\n    } else {\n      const editorLocation = decoration.handle.resolve();\n      if (!editorLocation) {\n        return;\n      }\n      const location =\n          this._transformer.editorLocationToUILocation(editorLocation.lineNumber, editorLocation.columnNumber);\n      await this._setBreakpoint(location.lineNumber, location.columnNumber, decoration.condition, true);\n    }\n  }\n\n  /**\n   * @param {!BreakpointDecoration} decoration\n   * @param {!Event} event\n   */\n  _inlineBreakpointContextMenu(decoration, event) {\n    event.consume(true);\n    const editorLocation = decoration.handle.resolve();\n    if (!editorLocation) {\n      return;\n    }\n    if (this._textEditor.hasLineClass(editorLocation.lineNumber, 'cm-non-breakable-line')) {\n      return;\n    }\n    if (!Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance()\n             .scriptsForUISourceCode(this._uiSourceCode)\n             .every(script => script.isJavaScript())) {\n      // Editing breakpoints only make sense for conditional breakpoints\n      // and logpoints and both are currently only available for JavaScript\n      // debugging.\n      return;\n    }\n    const location =\n        this._transformer.editorLocationToUILocation(editorLocation.lineNumber, editorLocation.columnNumber);\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    if (decoration.breakpoint) {\n      contextMenu.debugSection().appendItem(\n          Common.UIString.UIString('Edit breakpoint'),\n          this._editBreakpointCondition.bind(\n              this, editorLocation.lineNumber, decoration.breakpoint, null, false /* preferLogpoint */));\n    } else {\n      contextMenu.debugSection().appendItem(\n          Common.UIString.UIString('Add conditional breakpoint'),\n          this._editBreakpointCondition.bind(\n              this, editorLocation.lineNumber, null, editorLocation, false /* preferLogpoint */));\n      contextMenu.debugSection().appendItem(\n          ls`Add logpoint`,\n          this._editBreakpointCondition.bind(\n              this, editorLocation.lineNumber, null, editorLocation, true /* preferLogpoint */));\n      contextMenu.debugSection().appendItem(\n          Common.UIString.UIString('Never pause here'),\n          this._setBreakpoint.bind(this, location.lineNumber, location.columnNumber, 'false', true));\n    }\n    contextMenu.show();\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   * @return {boolean}\n   */\n  _shouldIgnoreExternalBreakpointEvents(event) {\n    const uiLocation = /** @type {!Workspace.UISourceCode.UILocation} */ (event.data.uiLocation);\n    if (uiLocation.uiSourceCode !== this._uiSourceCode) {\n      return true;\n    }\n    if (this._muted) {\n      return true;\n    }\n    for (const scriptFile of this._scriptFileForDebuggerModel.values()) {\n      if (scriptFile.isDivergingFromVM() || scriptFile.isMergingToVM()) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _breakpointAdded(event) {\n    if (this._shouldIgnoreExternalBreakpointEvents(event)) {\n      return;\n    }\n    const uiLocation = /** @type {!Workspace.UISourceCode.UILocation} */ (event.data.uiLocation);\n    const breakpoint = /** @type {!Bindings.BreakpointManager.Breakpoint} */ (event.data.breakpoint);\n    this._addBreakpoint(uiLocation, breakpoint);\n  }\n\n  /**\n   * @param {!Workspace.UISourceCode.UILocation} uiLocation\n   * @param {!Bindings.BreakpointManager.Breakpoint} breakpoint\n   */\n  _addBreakpoint(uiLocation, breakpoint) {\n    const editorLocation = this._transformer.uiLocationToEditorLocation(uiLocation.lineNumber, uiLocation.columnNumber);\n    const lineDecorations = this._lineBreakpointDecorations(uiLocation.lineNumber);\n    let decoration = this._breakpointDecoration(editorLocation.lineNumber, editorLocation.columnNumber);\n    if (decoration) {\n      decoration.breakpoint = breakpoint;\n      decoration.condition = breakpoint.condition();\n      decoration.enabled = breakpoint.enabled();\n    } else {\n      const handle = this._textEditor.textEditorPositionHandle(editorLocation.lineNumber, editorLocation.columnNumber);\n      decoration = new BreakpointDecoration(\n          this._textEditor, handle, breakpoint.condition(), breakpoint.enabled(),\n          breakpoint.bound() || !breakpoint.hasBoundScript(), breakpoint);\n      decoration.element.addEventListener('click', this._inlineBreakpointClick.bind(this, decoration), true);\n      decoration.element.addEventListener(\n          'contextmenu', this._inlineBreakpointContextMenu.bind(this, decoration), true);\n      this._breakpointDecorations.add(decoration);\n    }\n    this._decorationByBreakpoint.set(breakpoint, decoration);\n    this._updateBreakpointDecoration(decoration);\n    if (breakpoint.enabled() && !lineDecorations.length) {\n      this._possibleBreakpointsRequested.add(editorLocation.lineNumber);\n      const start = this._transformer.editorLocationToUILocation(editorLocation.lineNumber, 0);\n      const end = this._transformer.editorLocationToUILocation(editorLocation.lineNumber + 1, 0);\n      this._breakpointManager\n          .possibleBreakpoints(\n              this._uiSourceCode,\n              new TextUtils.TextRange.TextRange(\n                  start.lineNumber, start.columnNumber || 0, end.lineNumber, end.columnNumber || 0))\n          .then(addInlineDecorations.bind(this, editorLocation.lineNumber));\n    }\n\n    /**\n     * @this {DebuggerPlugin}\n     * @param {number} editorLineNumber\n     * @param {!Array<!Workspace.UISourceCode.UILocation>} possibleLocations\n     */\n    function addInlineDecorations(editorLineNumber, possibleLocations) {\n      this._possibleBreakpointsRequested.delete(editorLineNumber);\n      const decorations = this._lineBreakpointDecorations(editorLineNumber);\n      for (const decoration of decorations) {\n        this._updateBreakpointDecoration(decoration);\n      }\n      if (!decorations.some(decoration => Boolean(decoration.breakpoint))) {\n        return;\n      }\n      /** @type {!Set<number>} */\n      const columns = new Set();\n      for (const decoration of decorations) {\n        const editorLocation = decoration.handle.resolve();\n        if (!editorLocation) {\n          continue;\n        }\n        columns.add(editorLocation.columnNumber);\n      }\n      // Only consider the first 100 inline breakpoints, as DevTools might appear to hang while CodeMirror is updating\n      // the inline breakpoints. See crbug.com/1060105.\n      for (const location of possibleLocations.slice(0, 100)) {\n        const editorLocation = this._transformer.uiLocationToEditorLocation(location.lineNumber, location.columnNumber);\n        if (editorLocation.lineNumber !== editorLineNumber) {\n          continue;\n        }\n        if (columns.has(editorLocation.columnNumber)) {\n          continue;\n        }\n        const handle =\n            this._textEditor.textEditorPositionHandle(editorLocation.lineNumber, editorLocation.columnNumber);\n        const decoration = new BreakpointDecoration(\n            this._textEditor, handle, '', /** enabled */ false, /** bound */ false, /** breakpoint */ null);\n        decoration.element.addEventListener('click', this._inlineBreakpointClick.bind(this, decoration), true);\n        decoration.element.addEventListener(\n            'contextmenu', this._inlineBreakpointContextMenu.bind(this, decoration), true);\n        this._breakpointDecorations.add(decoration);\n        this._updateBreakpointDecoration(decoration);\n      }\n    }\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _breakpointRemoved(event) {\n    if (this._shouldIgnoreExternalBreakpointEvents(event)) {\n      return;\n    }\n    const uiLocation = /** @type {!Workspace.UISourceCode.UILocation} */ (event.data.uiLocation);\n    const breakpoint = /** @type {!Bindings.BreakpointManager.Breakpoint} */ (event.data.breakpoint);\n    const decoration = this._decorationByBreakpoint.get(breakpoint);\n    if (!decoration) {\n      return;\n    }\n    this._decorationByBreakpoint.delete(breakpoint);\n\n    const editorLocation = this._transformer.uiLocationToEditorLocation(uiLocation.lineNumber, uiLocation.columnNumber);\n    decoration.breakpoint = null;\n    decoration.enabled = false;\n\n    const lineDecorations = this._lineBreakpointDecorations(editorLocation.lineNumber);\n    if (!lineDecorations.some(decoration => Boolean(decoration.breakpoint))) {\n      for (const lineDecoration of lineDecorations) {\n        this._breakpointDecorations.delete(lineDecoration);\n        this._updateBreakpointDecoration(lineDecoration);\n      }\n    } else {\n      this._updateBreakpointDecoration(decoration);\n    }\n  }\n\n  _initializeBreakpoints() {\n    const breakpointLocations = this._breakpointManager.breakpointLocationsForUISourceCode(this._uiSourceCode);\n    for (const breakpointLocation of breakpointLocations) {\n      this._addBreakpoint(breakpointLocation.uiLocation, breakpointLocation.breakpoint);\n    }\n  }\n\n  _updateLinesWithoutMappingHighlight() {\n    const isSourceMapSource =\n        Boolean(Bindings.CompilerScriptMapping.CompilerScriptMapping.uiSourceCodeOrigin(this._uiSourceCode));\n    if (isSourceMapSource) {\n      const linesCount = this._textEditor.linesCount;\n      for (let i = 0; i < linesCount; ++i) {\n        const lineHasMapping =\n            Bindings.CompilerScriptMapping.CompilerScriptMapping.uiLineHasMapping(this._uiSourceCode, i);\n        if (!lineHasMapping) {\n          this._hasLineWithoutMapping = true;\n        }\n        if (this._hasLineWithoutMapping) {\n          this._textEditor.toggleLineClass(i, 'cm-non-breakable-line', !lineHasMapping);\n        }\n      }\n      return;\n    }\n\n    const {pluginManager} = Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance();\n    if (pluginManager) {\n      pluginManager.getMappedLines(this._uiSourceCode)\n          .then(mappedLines => {\n            if (mappedLines === undefined) {\n              return;\n            }\n            const linesCount = this._textEditor.linesCount;\n            for (let i = 0; i < linesCount; ++i) {\n              const lineHasMapping = mappedLines.has(i);\n              if (!lineHasMapping) {\n                this._hasLineWithoutMapping = true;\n              }\n              if (this._hasLineWithoutMapping) {\n                this._textEditor.toggleLineClass(i, 'cm-non-breakable-line', !lineHasMapping);\n              }\n            }\n          })\n          .catch(console.error);\n    }\n  }\n\n  _updateScriptFiles() {\n    for (const debuggerModel of SDK.SDKModel.TargetManager.instance().models(SDK.DebuggerModel.DebuggerModel)) {\n      const scriptFile = Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().scriptFile(\n          this._uiSourceCode, debuggerModel);\n      if (scriptFile) {\n        this._updateScriptFile(debuggerModel);\n      }\n    }\n  }\n\n  /**\n   * @param {!SDK.DebuggerModel.DebuggerModel} debuggerModel\n   */\n  _updateScriptFile(debuggerModel) {\n    const oldScriptFile = this._scriptFileForDebuggerModel.get(debuggerModel);\n    const newScriptFile = Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().scriptFile(\n        this._uiSourceCode, debuggerModel);\n    this._scriptFileForDebuggerModel.delete(debuggerModel);\n    if (oldScriptFile) {\n      oldScriptFile.removeEventListener(\n          Bindings.ResourceScriptMapping.ResourceScriptFile.Events.DidMergeToVM, this._didMergeToVM, this);\n      oldScriptFile.removeEventListener(\n          Bindings.ResourceScriptMapping.ResourceScriptFile.Events.DidDivergeFromVM, this._didDivergeFromVM, this);\n      if (this._muted && !this._uiSourceCode.isDirty()) {\n        this._restoreBreakpointsIfConsistentScripts();\n      }\n    }\n    if (!newScriptFile) {\n      return;\n    }\n    this._scriptFileForDebuggerModel.set(debuggerModel, newScriptFile);\n    newScriptFile.addEventListener(\n        Bindings.ResourceScriptMapping.ResourceScriptFile.Events.DidMergeToVM, this._didMergeToVM, this);\n    newScriptFile.addEventListener(\n        Bindings.ResourceScriptMapping.ResourceScriptFile.Events.DidDivergeFromVM, this._didDivergeFromVM, this);\n    newScriptFile.checkMapping();\n    if (newScriptFile.hasSourceMapURL()) {\n      this._showSourceMapInfobar();\n    }\n  }\n\n  _showSourceMapInfobar() {\n    if (this._sourceMapInfobar) {\n      return;\n    }\n    this._sourceMapInfobar = UI.Infobar.Infobar.create(\n        UI.Infobar.Type.Info, Common.UIString.UIString('Source Map detected.'), [],\n        Common.Settings.Settings.instance().createSetting('sourceMapInfobarDisabled', false));\n    if (!this._sourceMapInfobar) {\n      return;\n    }\n    this._sourceMapInfobar.createDetailsRowMessage(Common.UIString.UIString(\n        'Associated files should be added to the file tree. You can debug these resolved source files as regular JavaScript files.'));\n    this._sourceMapInfobar.createDetailsRowMessage(Common.UIString.UIString(\n        'Associated files are available via file tree or %s.',\n        UI.ShortcutRegistry.ShortcutRegistry.instance().shortcutTitleForAction('quickOpen.show')));\n    this._sourceMapInfobar.setCloseCallback(() => {\n      this._sourceMapInfobar = null;\n    });\n    this._textEditor.attachInfobar(this._sourceMapInfobar);\n  }\n\n  async _detectMinified() {\n    const content = this._uiSourceCode.content();\n    if (!content || !TextUtils.TextUtils.isMinified(content)) {\n      return;\n    }\n\n    const editorActions = await Root.Runtime.Runtime.instance().allInstances(EditorAction);\n    /** @type {(function(): void) | null} */\n    let formatterCallback = null;\n    for (const editorAction of editorActions) {\n      if (editorAction instanceof ScriptFormatterEditorAction) {\n        // Check if the source code is formattable the same way the pretty print button does\n        if (!editorAction.isCurrentUISourceCodeFormatable()) {\n          return;\n        }\n        formatterCallback = editorAction.toggleFormatScriptSource.bind(editorAction);\n        break;\n      }\n    }\n\n    this._prettyPrintInfobar = UI.Infobar.Infobar.create(\n        UI.Infobar.Type.Info, Common.UIString.UIString('Pretty-print this minified file?'),\n        [{text: ls`Pretty-print`, delegate: formatterCallback, highlight: true, dismiss: true}],\n        Common.Settings.Settings.instance().createSetting('prettyPrintInfobarDisabled', false));\n    if (!this._prettyPrintInfobar) {\n      return;\n    }\n\n    this._prettyPrintInfobar.setCloseCallback(() => {\n      this._prettyPrintInfobar = null;\n    });\n    const toolbar = new UI.Toolbar.Toolbar('');\n    const button = new UI.Toolbar.ToolbarButton('', 'largeicon-pretty-print');\n    toolbar.appendToolbarItem(button);\n    toolbar.element.style.display = 'inline-block';\n    toolbar.element.style.verticalAlign = 'middle';\n    toolbar.element.style.marginBottom = '3px';\n    toolbar.element.style.pointerEvents = 'none';\n    toolbar.element.tabIndex = -1;\n    const element = this._prettyPrintInfobar.createDetailsRowMessage();\n    element.appendChild(UI.UIUtils.formatLocalized(\n        'Pretty-printing will format this file in a new tab where you can continue debugging. You can also pretty-print this file by clicking the %s button on the bottom status bar.',\n        [toolbar.element]));\n    this._textEditor.attachInfobar(this._prettyPrintInfobar);\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  async _handleGutterClick(event) {\n    if (this._muted) {\n      return;\n    }\n\n    const eventData = /** @type {!SourceFrame.SourcesTextEditor.GutterClickEventData} */ (event.data);\n    if (eventData.gutterType !== SourceFrame.SourcesTextEditor.lineNumbersGutterType) {\n      return;\n    }\n    const editorLineNumber = eventData.lineNumber;\n    const eventObject = eventData.event;\n\n    if (eventObject.button !== 0 || eventObject.altKey || eventObject.ctrlKey || eventObject.metaKey) {\n      return;\n    }\n\n    await this._toggleBreakpoint(editorLineNumber, eventObject.shiftKey);\n    eventObject.consume(true);\n  }\n\n  /**\n   * @param {number} editorLineNumber\n   * @param {boolean} onlyDisable\n   */\n  async _toggleBreakpoint(editorLineNumber, onlyDisable) {\n    const decorations = this._lineBreakpointDecorations(editorLineNumber);\n    if (!decorations.length) {\n      await this._createNewBreakpoint(editorLineNumber, '', true);\n      return;\n    }\n    const hasDisabled = this._textEditor.hasLineClass(editorLineNumber, 'cm-breakpoint-disabled');\n    const breakpoints = /** @type {!Array<!Bindings.BreakpointManager.Breakpoint>} */ (\n        decorations.map(decoration => decoration.breakpoint).filter(breakpoint => Boolean(breakpoint)));\n    for (const breakpoint of breakpoints) {\n      if (onlyDisable) {\n        breakpoint.setEnabled(hasDisabled);\n      } else {\n        breakpoint.remove(false);\n      }\n    }\n  }\n\n  /**\n   * @param {number} editorLineNumber\n   * @param {string} condition\n   * @param {boolean} enabled\n   */\n  async _createNewBreakpoint(editorLineNumber, condition, enabled) {\n    if (this._textEditor.hasLineClass(editorLineNumber, 'cm-non-breakable-line')) {\n      return;\n    }\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.ScriptsBreakpointSet);\n    const origin = this._transformer.editorLocationToUILocation(editorLineNumber);\n    await this._setBreakpoint(origin.lineNumber, origin.columnNumber, condition, enabled);\n  }\n\n  /**\n   * @param {number} lineNumber\n   * @param {number|undefined} columnNumber\n   * @param {string} condition\n   * @param {boolean} enabled\n   */\n  async _setBreakpoint(lineNumber, columnNumber, condition, enabled) {\n    Common.Settings.Settings.instance().moduleSetting('breakpointsActive').set(true);\n    await this._breakpointManager.setBreakpoint(this._uiSourceCode, lineNumber, columnNumber, condition, enabled);\n    this._breakpointWasSetForTest(lineNumber, columnNumber, condition, enabled);\n  }\n\n  /**\n   * @param {number} lineNumber\n   * @param {number|undefined} columnNumber\n   * @param {string} condition\n   * @param {boolean} enabled\n   */\n  _breakpointWasSetForTest(lineNumber, columnNumber, condition, enabled) {\n  }\n\n\n  async _callFrameChanged() {\n    this._liveLocationPool.disposeAll();\n    const callFrame = UI.Context.Context.instance().flavor(SDK.DebuggerModel.CallFrame);\n    if (!callFrame) {\n      this._clearExecutionLine();\n      return;\n    }\n    await Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().createCallFrameLiveLocation(\n        callFrame.location(), this._executionLineChanged.bind(this), this._liveLocationPool);\n  }\n\n  /**\n   * @override\n   */\n  dispose() {\n    for (const decoration of this._breakpointDecorations) {\n      decoration.dispose();\n    }\n    this._breakpointDecorations.clear();\n    if (this._scheduledBreakpointDecorationUpdates) {\n      for (const decoration of this._scheduledBreakpointDecorationUpdates) {\n        decoration.dispose();\n      }\n      this._scheduledBreakpointDecorationUpdates.clear();\n    }\n\n    this._hideIgnoreListInfobar();\n    if (this._sourceMapInfobar) {\n      this._sourceMapInfobar.dispose();\n    }\n    if (this._prettyPrintInfobar) {\n      this._prettyPrintInfobar.dispose();\n    }\n    this._scriptsPanel.element.removeEventListener('scroll', this._boundPopoverHelperHide, true);\n    for (const script of this._scriptFileForDebuggerModel.values()) {\n      script.removeEventListener(\n          Bindings.ResourceScriptMapping.ResourceScriptFile.Events.DidMergeToVM, this._didMergeToVM, this);\n      script.removeEventListener(\n          Bindings.ResourceScriptMapping.ResourceScriptFile.Events.DidDivergeFromVM, this._didDivergeFromVM, this);\n    }\n    this._scriptFileForDebuggerModel.clear();\n\n\n    this._textEditor.element.removeEventListener('keydown', this._boundKeyDown, true);\n    this._textEditor.element.removeEventListener('keyup', this._boundKeyUp, true);\n    this._textEditor.element.removeEventListener('mousemove', this._boundMouseMove, false);\n    this._textEditor.element.removeEventListener('mousedown', this._boundMouseDown, true);\n    this._textEditor.element.removeEventListener('focusout', this._boundBlur, false);\n    this._textEditor.element.removeEventListener('wheel', this._boundWheel, true);\n\n    this._textEditor.removeEventListener(\n        SourceFrame.SourcesTextEditor.Events.GutterClick, this._boundGutterClick, this);\n    this._popoverHelper.hidePopover();\n    this._popoverHelper.dispose();\n\n    this._breakpointManager.removeEventListener(\n        Bindings.BreakpointManager.Events.BreakpointAdded, this._breakpointAdded, this);\n    this._breakpointManager.removeEventListener(\n        Bindings.BreakpointManager.Events.BreakpointRemoved, this._breakpointRemoved, this);\n    this._uiSourceCode.removeEventListener(\n        Workspace.UISourceCode.Events.WorkingCopyChanged, this._workingCopyChanged, this);\n    this._uiSourceCode.removeEventListener(\n        Workspace.UISourceCode.Events.WorkingCopyCommitted, this._workingCopyCommitted, this);\n\n    Common.Settings.Settings.instance()\n        .moduleSetting('skipStackFramesPattern')\n        .removeChangeListener(this._showIgnoreListInfobarIfNeeded, this);\n    Common.Settings.Settings.instance()\n        .moduleSetting('skipContentScripts')\n        .removeChangeListener(this._showIgnoreListInfobarIfNeeded, this);\n    super.dispose();\n\n    this._clearExecutionLine();\n    UI.Context.Context.instance().removeFlavorChangeListener(SDK.DebuggerModel.CallFrame, this._callFrameChanged, this);\n    this._liveLocationPool.disposeAll();\n  }\n}\n\nexport class BreakpointDecoration {\n  /**\n   * @param {!SourceFrame.SourcesTextEditor.SourcesTextEditor} textEditor\n   * @param {!TextEditor.CodeMirrorTextEditor.TextEditorPositionHandle} handle\n   * @param {string} condition\n   * @param {boolean} enabled\n   * @param {boolean} bound\n   * @param {?Bindings.BreakpointManager.Breakpoint} breakpoint\n   */\n  constructor(textEditor, handle, condition, enabled, bound, breakpoint) {\n    this._textEditor = textEditor;\n    this.handle = handle;\n    this.condition = condition;\n    this.enabled = enabled;\n    this.bound = bound;\n    this.breakpoint = breakpoint;\n    this.element = document.createElement('span');\n    this.element.classList.toggle('cm-inline-breakpoint', true);\n\n    /** @type {?TextEditor.CodeMirrorTextEditor.TextEditorBookMark} */\n    this.bookmark = null;\n  }\n\n  /**\n   * @param {!BreakpointDecoration} decoration1\n   * @param {!BreakpointDecoration} decoration2\n   * @return {number}\n   */\n  static mostSpecificFirst(decoration1, decoration2) {\n    if (decoration1.enabled !== decoration2.enabled) {\n      return decoration1.enabled ? -1 : 1;\n    }\n    if (decoration1.bound !== decoration2.bound) {\n      return decoration1.bound ? -1 : 1;\n    }\n    if (Boolean(decoration1.condition) !== Boolean(decoration2.condition)) {\n      return Boolean(decoration1.condition) ? -1 : 1;\n    }\n    return 0;\n  }\n\n  update() {\n    const isLogpoint = Boolean(this.condition) && this.condition.includes(LogpointPrefix);\n    const isConditionalBreakpoint = Boolean(this.condition) && !isLogpoint;\n    this.element.classList.toggle('cm-inline-logpoint', isLogpoint);\n    this.element.classList.toggle('cm-inline-breakpoint-conditional', isConditionalBreakpoint);\n    this.element.classList.toggle('cm-inline-disabled', !this.enabled);\n  }\n\n  show() {\n    if (this.bookmark) {\n      return;\n    }\n    const editorLocation = this.handle.resolve();\n    if (!editorLocation) {\n      return;\n    }\n    this.bookmark = this._textEditor.addBookmark(\n        editorLocation.lineNumber, editorLocation.columnNumber, this.element, BreakpointDecoration.bookmarkSymbol);\n    // @ts-ignore Only used for layout tests\n    this.bookmark[BreakpointDecoration._elementSymbolForTest] = this.element;\n  }\n\n  hide() {\n    if (!this.bookmark) {\n      return;\n    }\n    this.bookmark.clear();\n    this.bookmark = null;\n  }\n\n  dispose() {\n    const location = this.handle.resolve();\n    if (location) {\n      this._textEditor.toggleLineClass(location.lineNumber, 'cm-breakpoint', false);\n      this._textEditor.toggleLineClass(location.lineNumber, 'cm-breakpoint-disabled', false);\n      this._textEditor.toggleLineClass(location.lineNumber, 'cm-breakpoint-unbound', false);\n      this._textEditor.toggleLineClass(location.lineNumber, 'cm-breakpoint-conditional', false);\n      this._textEditor.toggleLineClass(location.lineNumber, 'cm-breakpoint-logpoint', false);\n    }\n    this.hide();\n  }\n}\n\nBreakpointDecoration.bookmarkSymbol = Symbol('bookmark');\nBreakpointDecoration._elementSymbolForTest = Symbol('element');\n\nexport const continueToLocationDecorationSymbol = Symbol('bookmark');\n"]}