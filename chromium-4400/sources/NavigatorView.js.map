{"version":3,"file":"NavigatorView.js","sourceRoot":"","sources":["../../../../../front_end/sources/NavigatorView.js"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2012 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Bindings from '../bindings/bindings.js';\nimport * as Common from '../common/common.js';\nimport * as Host from '../host/host.js';\nimport * as Persistence from '../persistence/persistence.js';\nimport * as Platform from '../platform/platform.js';\nimport {ls} from '../platform/platform.js';\nimport * as SDK from '../sdk/sdk.js';\nimport * as Snippets from '../snippets/snippets.js';\nimport * as UI from '../ui/ui.js';\nimport * as Workspace from '../workspace/workspace.js';\n\nimport {SearchSourcesView} from './SearchSourcesView.js';\n\nexport const Types = {\n  Domain: 'domain',\n  File: 'file',\n  FileSystem: 'fs',\n  FileSystemFolder: 'fs-folder',\n  Frame: 'frame',\n  NetworkFolder: 'nw-folder',\n  Root: 'root',\n  SourceMapFolder: 'sm-folder',\n  Worker: 'worker'\n};\n\nconst TYPE_ORDERS = new Map([\n  [Types.Root, 1],\n  [Types.Domain, 10],\n  [Types.FileSystemFolder, 1],\n  [Types.NetworkFolder, 1],\n  [Types.SourceMapFolder, 2],\n  [Types.File, 10],\n  [Types.Frame, 70],\n  [Types.Worker, 90],\n  [Types.FileSystem, 100],\n]);\n\n/**\n * @implements {SDK.SDKModel.Observer}\n */\nexport class NavigatorView extends UI.Widget.VBox {\n  constructor() {\n    super(true);\n    this.registerRequiredCSS('sources/navigatorView.css', {enableLegacyPatching: false});\n\n    /** @type {?UI.Widget.Widget} */\n    this._placeholder = null;\n    this._scriptsTree = new UI.TreeOutline.TreeOutlineInShadow();\n    this._scriptsTree.registerRequiredCSS('sources/navigatorTree.css', {enableLegacyPatching: true});\n    this._scriptsTree.setComparator(NavigatorView._treeElementsCompare);\n    this._scriptsTree.setFocusable(false);\n    this.contentElement.appendChild(this._scriptsTree.element);\n    this.setDefaultFocusedElement(this._scriptsTree.element);\n\n    /** @type {!Platform.MapUtilities.Multimap<!Workspace.UISourceCode.UISourceCode, !NavigatorUISourceCodeTreeNode>} */\n    this._uiSourceCodeNodes = new Platform.MapUtilities.Multimap();\n    /** @type {!Map.<string, !NavigatorFolderTreeNode>} */\n    this._subfolderNodes = new Map();\n\n    this._rootNode = new NavigatorRootTreeNode(this);\n    this._rootNode.populate();\n\n    /** @type {!Map.<!SDK.ResourceTreeModel.ResourceTreeFrame, !NavigatorGroupTreeNode>} */\n    this._frameNodes = new Map();\n\n    this.contentElement.addEventListener('contextmenu', this.handleContextMenu.bind(this), false);\n    UI.ShortcutRegistry.ShortcutRegistry.instance().addShortcutListener(\n        this.contentElement, {'sources.rename': this._renameShortcut.bind(this)});\n\n    this._navigatorGroupByFolderSetting = Common.Settings.Settings.instance().moduleSetting('navigatorGroupByFolder');\n    this._navigatorGroupByFolderSetting.addChangeListener(this._groupingChanged.bind(this));\n\n    this._initGrouping();\n\n    Persistence.Persistence.PersistenceImpl.instance().addEventListener(\n        Persistence.Persistence.Events.BindingCreated, this._onBindingChanged, this);\n    Persistence.Persistence.PersistenceImpl.instance().addEventListener(\n        Persistence.Persistence.Events.BindingRemoved, this._onBindingChanged, this);\n    SDK.SDKModel.TargetManager.instance().addEventListener(\n        SDK.SDKModel.Events.NameChanged, this._targetNameChanged, this);\n\n    SDK.SDKModel.TargetManager.instance().observeTargets(this);\n    this._resetWorkspace(Workspace.Workspace.WorkspaceImpl.instance());\n    this._workspace.uiSourceCodes().forEach(this._addUISourceCode.bind(this));\n    Bindings.NetworkProject.NetworkProjectManager.instance().addEventListener(\n        Bindings.NetworkProject.Events.FrameAttributionAdded, this._frameAttributionAdded, this);\n    Bindings.NetworkProject.NetworkProjectManager.instance().addEventListener(\n        Bindings.NetworkProject.Events.FrameAttributionRemoved, this._frameAttributionRemoved, this);\n\n    /** @type {!Workspace.Workspace.WorkspaceImpl} */\n    this._workspace;\n  }\n\n  /**\n   * @param {!UI.TreeOutline.TreeElement} treeElement\n   */\n  static _treeElementOrder(treeElement) {\n    if (boostOrderForNode.has(treeElement)) {\n      return 0;\n    }\n\n    const actualElement = /** @type {!NavigatorSourceTreeElement} */ (treeElement);\n\n    let order = TYPE_ORDERS.get(actualElement._nodeType) || 0;\n    if (actualElement._uiSourceCode) {\n      const contentType = actualElement._uiSourceCode.contentType();\n      if (contentType.isDocument()) {\n        order += 3;\n      } else if (contentType.isScript()) {\n        order += 5;\n      } else if (contentType.isStyleSheet()) {\n        order += 10;\n      } else {\n        order += 15;\n      }\n    }\n\n    return order;\n  }\n\n  /**\n   * @param {!UI.ContextMenu.ContextMenu} contextMenu\n   * @param {string=} path\n   */\n  static appendSearchItem(contextMenu, path) {\n    let searchLabel = Common.UIString.UIString('Search in folder');\n    if (!path || !path.trim()) {\n      path = '*';\n      searchLabel = Common.UIString.UIString('Search in all files');\n    }\n    contextMenu.viewSection().appendItem(searchLabel, () => {\n      if (path) {\n        SearchSourcesView.openSearch(`file:${path.trim()}`);\n      }\n    });\n  }\n\n  /**\n   * @param {!UI.TreeOutline.TreeElement} treeElement1\n   * @param {!UI.TreeOutline.TreeElement} treeElement2\n   * @return {number}\n   */\n  static _treeElementsCompare(treeElement1, treeElement2) {\n    const typeWeight1 = NavigatorView._treeElementOrder(treeElement1);\n    const typeWeight2 = NavigatorView._treeElementOrder(treeElement2);\n\n    if (typeWeight1 > typeWeight2) {\n      return 1;\n    }\n    if (typeWeight1 < typeWeight2) {\n      return -1;\n    }\n    return Platform.StringUtilities.compare(treeElement1.titleAsText(), treeElement2.titleAsText());\n  }\n\n  /**\n   * @param {!UI.Widget.Widget} placeholder\n   */\n  setPlaceholder(placeholder) {\n    console.assert(!this._placeholder, 'A placeholder widget was already set');\n    this._placeholder = placeholder;\n    placeholder.show(this.contentElement, this.contentElement.firstChild);\n    updateVisibility.call(this);\n    this._scriptsTree.addEventListener(UI.TreeOutline.Events.ElementAttached, updateVisibility.bind(this));\n    this._scriptsTree.addEventListener(UI.TreeOutline.Events.ElementsDetached, updateVisibility.bind(this));\n\n    /**\n     * @this {!NavigatorView}\n     */\n    function updateVisibility() {\n      const showTree = this._scriptsTree.firstChild();\n      if (showTree) {\n        placeholder.hideWidget();\n      } else {\n        placeholder.showWidget();\n      }\n      this._scriptsTree.element.classList.toggle('hidden', !showTree);\n    }\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _onBindingChanged(event) {\n    const binding = /** @type {!Persistence.Persistence.PersistenceBinding} */ (event.data);\n\n    // Update UISourceCode titles.\n    const networkNodes = this._uiSourceCodeNodes.get(binding.network);\n    for (const networkNode of networkNodes) {\n      networkNode.updateTitle();\n    }\n    const fileSystemNodes = this._uiSourceCodeNodes.get(binding.fileSystem);\n    for (const fileSystemNode of fileSystemNodes) {\n      fileSystemNode.updateTitle();\n    }\n\n    // Update folder titles.\n    const pathTokens =\n        Persistence.FileSystemWorkspaceBinding.FileSystemWorkspaceBinding.relativePath(binding.fileSystem);\n    let folderPath = '';\n    for (let i = 0; i < pathTokens.length - 1; ++i) {\n      folderPath += pathTokens[i];\n      const folderId =\n          this._folderNodeId(binding.fileSystem.project(), null, null, binding.fileSystem.origin(), folderPath);\n      const folderNode = this._subfolderNodes.get(folderId);\n      if (folderNode) {\n        folderNode.updateTitle();\n      }\n      folderPath += '/';\n    }\n\n    // Update fileSystem root title.\n    const fileSystemRoot = this._rootNode.child(binding.fileSystem.project().id());\n    if (fileSystemRoot) {\n      fileSystemRoot.updateTitle();\n    }\n  }\n\n  /**\n   * @override\n   */\n  focus() {\n    this._scriptsTree.focus();\n  }\n\n  /**\n   * Central place to add elements to the tree to\n   * enable focus if the tree has elements\n   *\n   * @param {!UI.TreeOutline.TreeElement} parent\n   * @param {!UI.TreeOutline.TreeElement} child\n   */\n  appendChild(parent, child) {\n    this._scriptsTree.setFocusable(true);\n    parent.appendChild(child);\n  }\n\n  /**\n   * Central place to remove elements from the tree to\n   * disable focus if the tree is empty\n   *\n   * @param {!UI.TreeOutline.TreeElement} parent\n   * @param {!UI.TreeOutline.TreeElement} child\n   */\n  removeChild(parent, child) {\n    parent.removeChild(child);\n    if (this._scriptsTree.rootElement().childCount() === 0) {\n      this._scriptsTree.setFocusable(false);\n    }\n  }\n\n  /**\n   * @param {!Workspace.Workspace.WorkspaceImpl} workspace\n   */\n  _resetWorkspace(workspace) {\n    // Clear old event listeners first.\n    if (this._workspace) {\n      this._workspace.removeEventListener(Workspace.Workspace.Events.UISourceCodeAdded, this._uiSourceCodeAdded, this);\n      this._workspace.removeEventListener(\n          Workspace.Workspace.Events.UISourceCodeRemoved, this._uiSourceCodeRemoved, this);\n      this._workspace.removeEventListener(Workspace.Workspace.Events.ProjectAdded, this._projectAddedCallback, this);\n      this._workspace.removeEventListener(\n          Workspace.Workspace.Events.ProjectRemoved, this._projectRemovedCallback, this);\n    }\n\n    this._workspace = workspace;\n    this._workspace.addEventListener(Workspace.Workspace.Events.UISourceCodeAdded, this._uiSourceCodeAdded, this);\n    this._workspace.addEventListener(Workspace.Workspace.Events.UISourceCodeRemoved, this._uiSourceCodeRemoved, this);\n    this._workspace.addEventListener(Workspace.Workspace.Events.ProjectAdded, this._projectAddedCallback, this);\n    this._workspace.addEventListener(Workspace.Workspace.Events.ProjectRemoved, this._projectRemovedCallback, this);\n    this._workspace.projects().forEach(this._projectAdded.bind(this));\n    this._computeUniqueFileSystemProjectNames();\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _projectAddedCallback(event) {\n    const project = /** @type {!Workspace.Workspace.Project} */ (event.data);\n    this._projectAdded(project);\n    if (project.type() === Workspace.Workspace.projectTypes.FileSystem) {\n      this._computeUniqueFileSystemProjectNames();\n    }\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _projectRemovedCallback(event) {\n    const project = /** @type {!Workspace.Workspace.Project} */ (event.data);\n    this._removeProject(project);\n    if (project.type() === Workspace.Workspace.projectTypes.FileSystem) {\n      this._computeUniqueFileSystemProjectNames();\n    }\n  }\n\n  /**\n   * @return {!Workspace.Workspace.WorkspaceImpl}\n   * @protected\n   */\n  workspace() {\n    return this._workspace;\n  }\n\n  /**\n   * @param {!Workspace.Workspace.Project} project\n   * @return {boolean}\n   */\n  acceptProject(project) {\n    return !project.isServiceProject();\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _frameAttributionAdded(event) {\n    const uiSourceCode = /** @type {!Workspace.UISourceCode.UISourceCode} */ (event.data.uiSourceCode);\n    if (!this._acceptsUISourceCode(uiSourceCode)) {\n      return;\n    }\n\n    const addedFrame = /** @type {?SDK.ResourceTreeModel.ResourceTreeFrame} */ (event.data.frame);\n    // This event does not happen for UISourceCodes without initial attribution.\n    this._addUISourceCodeNode(uiSourceCode, addedFrame);\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _frameAttributionRemoved(event) {\n    const uiSourceCode = /** @type {!Workspace.UISourceCode.UISourceCode} */ (event.data.uiSourceCode);\n    if (!this._acceptsUISourceCode(uiSourceCode)) {\n      return;\n    }\n\n    const removedFrame = /** @type {?SDK.ResourceTreeModel.ResourceTreeFrame} */ (event.data.frame);\n    const node = Array.from(this._uiSourceCodeNodes.get(uiSourceCode)).find(node => node.frame() === removedFrame);\n    this._removeUISourceCodeNode(/** @type {!NavigatorUISourceCodeTreeNode} */ (node));\n  }\n\n  /**\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   * @return {boolean}\n   */\n  _acceptsUISourceCode(uiSourceCode) {\n    return this.acceptProject(uiSourceCode.project());\n  }\n\n  /**\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   */\n  _addUISourceCode(uiSourceCode) {\n    if (!this._acceptsUISourceCode(uiSourceCode)) {\n      return;\n    }\n\n    const frames = Bindings.NetworkProject.NetworkProject.framesForUISourceCode(uiSourceCode);\n    if (frames.length) {\n      for (const frame of frames) {\n        this._addUISourceCodeNode(uiSourceCode, frame);\n      }\n    } else {\n      this._addUISourceCodeNode(uiSourceCode, null);\n    }\n    this.uiSourceCodeAdded(uiSourceCode);\n  }\n\n  /**\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   * @param {?SDK.ResourceTreeModel.ResourceTreeFrame} frame\n   */\n  _addUISourceCodeNode(uiSourceCode, frame) {\n    const isFromSourceMap = uiSourceCode.contentType().isFromSourceMap();\n    let path;\n    if (uiSourceCode.project().type() === Workspace.Workspace.projectTypes.FileSystem) {\n      path = Persistence.FileSystemWorkspaceBinding.FileSystemWorkspaceBinding.relativePath(uiSourceCode).slice(0, -1);\n    } else {\n      path = Common.ParsedURL.ParsedURL.extractPath(uiSourceCode.url()).split('/').slice(1, -1);\n    }\n\n    const project = uiSourceCode.project();\n    const target = Bindings.NetworkProject.NetworkProject.targetForUISourceCode(uiSourceCode);\n    const folderNode =\n        this._folderNode(uiSourceCode, project, target, frame, uiSourceCode.origin(), path, isFromSourceMap);\n    const uiSourceCodeNode = new NavigatorUISourceCodeTreeNode(this, uiSourceCode, frame);\n    folderNode.appendChild(uiSourceCodeNode);\n    this._uiSourceCodeNodes.set(uiSourceCode, uiSourceCodeNode);\n    this._selectDefaultTreeNode();\n  }\n\n  /**\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   */\n  uiSourceCodeAdded(uiSourceCode) {\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _uiSourceCodeAdded(event) {\n    const uiSourceCode = /** @type {!Workspace.UISourceCode.UISourceCode} */ (event.data);\n    this._addUISourceCode(uiSourceCode);\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _uiSourceCodeRemoved(event) {\n    const uiSourceCode = /** @type {!Workspace.UISourceCode.UISourceCode} */ (event.data);\n    this._removeUISourceCode(uiSourceCode);\n  }\n\n  /**\n   * @protected\n   * @param {!Workspace.Workspace.Project} project\n   */\n  tryAddProject(project) {\n    this._projectAdded(project);\n    project.uiSourceCodes().forEach(this._addUISourceCode.bind(this));\n  }\n\n  /**\n   * @param {!Workspace.Workspace.Project} project\n   */\n  _projectAdded(project) {\n    if (!this.acceptProject(project) || project.type() !== Workspace.Workspace.projectTypes.FileSystem ||\n        Snippets.ScriptSnippetFileSystem.isSnippetsProject(project) || this._rootNode.child(project.id())) {\n      return;\n    }\n    this._rootNode.appendChild(\n        new NavigatorGroupTreeNode(this, project, project.id(), Types.FileSystem, project.displayName()));\n    this._selectDefaultTreeNode();\n  }\n\n  // TODO(einbinder) remove this code after crbug.com/964075 is fixed\n  _selectDefaultTreeNode() {\n    const children = this._rootNode.children();\n    if (children.length && !this._scriptsTree.selectedTreeElement) {\n      children[0].treeNode().select(true /* omitFocus */, false /* selectedByUser */);\n    }\n  }\n\n  _computeUniqueFileSystemProjectNames() {\n    const fileSystemProjects = this._workspace.projectsForType(Workspace.Workspace.projectTypes.FileSystem);\n    if (!fileSystemProjects.length) {\n      return;\n    }\n    const encoder = new Persistence.Persistence.PathEncoder();\n    const reversedPaths = fileSystemProjects.map(project => {\n      const fileSystem = /** @type {!Persistence.FileSystemWorkspaceBinding.FileSystem} */ (project);\n      return Platform.StringUtilities.reverse(encoder.encode(fileSystem.fileSystemPath()));\n    });\n    const reversedIndex = new Common.Trie.Trie();\n    for (const reversedPath of reversedPaths) {\n      reversedIndex.add(reversedPath);\n    }\n\n    for (let i = 0; i < fileSystemProjects.length; ++i) {\n      const reversedPath = reversedPaths[i];\n      const project = fileSystemProjects[i];\n      reversedIndex.remove(reversedPath);\n      const commonPrefix = reversedIndex.longestPrefix(reversedPath, false /* fullWordOnly */);\n      reversedIndex.add(reversedPath);\n      const prefixPath = reversedPath.substring(0, commonPrefix.length + 1);\n      const path = encoder.decode(Platform.StringUtilities.reverse(prefixPath));\n\n      const fileSystemNode = this._rootNode.child(project.id());\n      if (fileSystemNode) {\n        fileSystemNode.setTitle(path);\n      }\n    }\n  }\n\n  /**\n   * @param {!Workspace.Workspace.Project} project\n   */\n  _removeProject(project) {\n    const uiSourceCodes = project.uiSourceCodes();\n    for (let i = 0; i < uiSourceCodes.length; ++i) {\n      this._removeUISourceCode(uiSourceCodes[i]);\n    }\n    if (project.type() !== Workspace.Workspace.projectTypes.FileSystem) {\n      return;\n    }\n    const fileSystemNode = this._rootNode.child(project.id());\n    if (!fileSystemNode) {\n      return;\n    }\n    this._rootNode.removeChild(fileSystemNode);\n  }\n\n  /**\n   * @param {!Workspace.Workspace.Project} project\n   * @param {?SDK.SDKModel.Target} target\n   * @param {?SDK.ResourceTreeModel.ResourceTreeFrame} frame\n   * @param {string} projectOrigin\n   * @param {string} path\n   * @return {string}\n   */\n  _folderNodeId(project, target, frame, projectOrigin, path) {\n    const targetId = target ? target.id() : '';\n    const projectId = project.type() === Workspace.Workspace.projectTypes.FileSystem ? project.id() : '';\n    const frameId = this._groupByFrame && frame ? frame.id : '';\n    return targetId + ':' + projectId + ':' + frameId + ':' + projectOrigin + ':' + path;\n  }\n\n  /**\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   * @param {!Workspace.Workspace.Project} project\n   * @param {?SDK.SDKModel.Target} target\n   * @param {?SDK.ResourceTreeModel.ResourceTreeFrame} frame\n   * @param {string} projectOrigin\n   * @param {!Array<string>} path\n   * @param {boolean} fromSourceMap\n   * @return {!NavigatorTreeNode}\n   */\n  _folderNode(uiSourceCode, project, target, frame, projectOrigin, path, fromSourceMap) {\n    if (Snippets.ScriptSnippetFileSystem.isSnippetsUISourceCode(uiSourceCode)) {\n      return this._rootNode;\n    }\n\n    if (target && !this._groupByFolder && !fromSourceMap) {\n      return this._domainNode(uiSourceCode, project, target, frame, projectOrigin);\n    }\n\n    const folderPath = path.join('/');\n    const folderId = this._folderNodeId(project, target, frame, projectOrigin, folderPath);\n    let folderNode = this._subfolderNodes.get(folderId);\n    if (folderNode) {\n      return folderNode;\n    }\n\n    if (!path.length) {\n      if (target) {\n        return this._domainNode(uiSourceCode, project, target, frame, projectOrigin);\n      }\n      return /** @type {!NavigatorTreeNode} */ (this._rootNode.child(project.id()));\n    }\n\n    const parentNode =\n        this._folderNode(uiSourceCode, project, target, frame, projectOrigin, path.slice(0, -1), fromSourceMap);\n    let type = fromSourceMap ? Types.SourceMapFolder : Types.NetworkFolder;\n    if (project.type() === Workspace.Workspace.projectTypes.FileSystem) {\n      type = Types.FileSystemFolder;\n    }\n    const name = path[path.length - 1];\n\n    folderNode = new NavigatorFolderTreeNode(this, project, folderId, type, folderPath, name);\n    this._subfolderNodes.set(folderId, folderNode);\n    parentNode.appendChild(folderNode);\n    return folderNode;\n  }\n\n  /**\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   * @param {!Workspace.Workspace.Project} project\n   * @param {!SDK.SDKModel.Target} target\n   * @param {?SDK.ResourceTreeModel.ResourceTreeFrame} frame\n   * @param {string} projectOrigin\n   * @return {!NavigatorTreeNode}\n   */\n  _domainNode(uiSourceCode, project, target, frame, projectOrigin) {\n    const frameNode = this._frameNode(project, target, frame);\n    if (!this._groupByDomain) {\n      return frameNode;\n    }\n    let domainNode = frameNode.child(projectOrigin);\n    if (domainNode) {\n      return domainNode;\n    }\n\n    domainNode = new NavigatorGroupTreeNode(\n        this, project, projectOrigin, Types.Domain, this._computeProjectDisplayName(target, projectOrigin));\n    if (frame && projectOrigin === Common.ParsedURL.ParsedURL.extractOrigin(frame.url)) {\n      boostOrderForNode.add(domainNode.treeNode());\n    }\n    frameNode.appendChild(domainNode);\n    return domainNode;\n  }\n\n  /**\n   * @param {!Workspace.Workspace.Project} project\n   * @param {!SDK.SDKModel.Target} target\n   * @param {?SDK.ResourceTreeModel.ResourceTreeFrame} frame\n   * @return {!NavigatorTreeNode}\n   */\n  _frameNode(project, target, frame) {\n    if (!this._groupByFrame || !frame) {\n      return this._targetNode(project, target);\n    }\n\n    let frameNode = this._frameNodes.get(frame);\n    if (frameNode) {\n      return frameNode;\n    }\n\n    frameNode =\n        new NavigatorGroupTreeNode(this, project, target.id() + ':' + frame.id, Types.Frame, frame.displayName());\n    frameNode.setHoverCallback(hoverCallback);\n    this._frameNodes.set(frame, frameNode);\n\n    const parentFrame = frame.parentFrame();\n    this._frameNode(project, parentFrame ? parentFrame.resourceTreeModel().target() : target, parentFrame)\n        .appendChild(frameNode);\n    if (!parentFrame) {\n      boostOrderForNode.add(frameNode.treeNode());\n      frameNode.treeNode().expand();\n    }\n\n    /**\n     * @param {boolean} hovered\n     */\n    function hoverCallback(hovered) {\n      if (hovered) {\n        const overlayModel = target.model(SDK.OverlayModel.OverlayModel);\n        if (overlayModel && frame) {\n          overlayModel.highlightFrame(frame.id);\n        }\n      } else {\n        SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight();\n      }\n    }\n    return frameNode;\n  }\n\n  /**\n   * @param {!Workspace.Workspace.Project} project\n   * @param {!SDK.SDKModel.Target} target\n   * @return {!NavigatorTreeNode}\n   */\n  _targetNode(project, target) {\n    if (target === SDK.SDKModel.TargetManager.instance().mainTarget()) {\n      return this._rootNode;\n    }\n\n    let targetNode = this._rootNode.child('target:' + target.id());\n    if (!targetNode) {\n      targetNode = new NavigatorGroupTreeNode(\n          this, project, 'target:' + target.id(),\n          target.type() === SDK.SDKModel.Type.Frame ? Types.Frame : Types.Worker, target.name());\n      this._rootNode.appendChild(targetNode);\n    }\n    return targetNode;\n  }\n\n  /**\n   * @param {!SDK.SDKModel.Target} target\n   * @param {string} projectOrigin\n   * @return {string}\n   */\n  _computeProjectDisplayName(target, projectOrigin) {\n    const runtimeModel = target.model(SDK.RuntimeModel.RuntimeModel);\n    const executionContexts = runtimeModel ? runtimeModel.executionContexts() : [];\n    for (const context of executionContexts) {\n      if (context.name && context.origin && projectOrigin.startsWith(context.origin)) {\n        return context.name;\n      }\n    }\n\n    if (!projectOrigin) {\n      return Common.UIString.UIString('(no domain)');\n    }\n\n    const parsedURL = new Common.ParsedURL.ParsedURL(projectOrigin);\n    const prettyURL = parsedURL.isValid ? parsedURL.host + (parsedURL.port ? (':' + parsedURL.port) : '') : '';\n\n    return (prettyURL || projectOrigin);\n  }\n\n  /**\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   * @param {boolean=} select\n   * @return {?NavigatorUISourceCodeTreeNode}\n   */\n  revealUISourceCode(uiSourceCode, select) {\n    const nodes = this._uiSourceCodeNodes.get(uiSourceCode);\n    if (nodes.size === 0) {\n      return null;\n    }\n    const node = nodes.values().next().value;\n    if (!node) {\n      return null;\n    }\n    if (this._scriptsTree.selectedTreeElement) {\n      this._scriptsTree.selectedTreeElement.deselect();\n    }\n    this._lastSelectedUISourceCode = uiSourceCode;\n    // TODO(dgozman): figure out revealing multiple.\n    node.reveal(select);\n    return node;\n  }\n\n  /**\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   * @param {boolean} focusSource\n   */\n  _sourceSelected(uiSourceCode, focusSource) {\n    this._lastSelectedUISourceCode = uiSourceCode;\n    Common.Revealer.reveal(uiSourceCode, !focusSource);\n  }\n\n  /**\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   */\n  _removeUISourceCode(uiSourceCode) {\n    const nodes = this._uiSourceCodeNodes.get(uiSourceCode);\n    for (const node of nodes) {\n      this._removeUISourceCodeNode(node);\n    }\n  }\n\n  /**\n   * @param {!NavigatorUISourceCodeTreeNode} node\n   */\n  _removeUISourceCodeNode(node) {\n    const uiSourceCode = node.uiSourceCode();\n    this._uiSourceCodeNodes.delete(uiSourceCode, node);\n    const project = uiSourceCode.project();\n    const target = Bindings.NetworkProject.NetworkProject.targetForUISourceCode(uiSourceCode);\n    const frame = node.frame();\n\n    let parentNode = node.parent;\n    if (!parentNode) {\n      return;\n    }\n    parentNode.removeChild(node);\n    let currentNode = /** @type {?NavigatorUISourceCodeTreeNode} */ (parentNode);\n\n    while (currentNode) {\n      parentNode = currentNode.parent;\n      if (!parentNode || !currentNode.isEmpty()) {\n        break;\n      }\n      if (parentNode === this._rootNode && project.type() === Workspace.Workspace.projectTypes.FileSystem) {\n        break;\n      }\n      if (!(currentNode instanceof NavigatorGroupTreeNode || currentNode instanceof NavigatorFolderTreeNode)) {\n        break;\n      }\n      if (currentNode._type === Types.Frame) {\n        this._discardFrame(/** @type {!SDK.ResourceTreeModel.ResourceTreeFrame} */ (frame));\n        break;\n      }\n\n      const folderId = this._folderNodeId(\n          project, target, frame, uiSourceCode.origin(),\n          currentNode instanceof NavigatorFolderTreeNode && currentNode._folderPath || '');\n      this._subfolderNodes.delete(folderId);\n      parentNode.removeChild(currentNode);\n      currentNode = /** @type {?NavigatorUISourceCodeTreeNode} */ (parentNode);\n    }\n  }\n\n  reset() {\n    for (const node of this._uiSourceCodeNodes.valuesArray()) {\n      node.dispose();\n    }\n\n    this._scriptsTree.removeChildren();\n    this._scriptsTree.setFocusable(false);\n    this._uiSourceCodeNodes.clear();\n    this._subfolderNodes.clear();\n    this._frameNodes.clear();\n    this._rootNode.reset();\n    // Reset the workspace to repopulate filesystem folders.\n    this._resetWorkspace(Workspace.Workspace.WorkspaceImpl.instance());\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  handleContextMenu(event) {\n  }\n\n  /**\n   * @return {!Promise<boolean>}\n   */\n  async _renameShortcut() {\n    const selectedTreeElement = /** @type {?NavigatorSourceTreeElement} */ (this._scriptsTree.selectedTreeElement);\n    const node = selectedTreeElement && selectedTreeElement._node;\n    if (!node || !node._uiSourceCode || !node._uiSourceCode.canRename()) {\n      return false;\n    }\n    this.rename(node, false);\n    return true;\n  }\n\n  /**\n   * @param {!Workspace.Workspace.Project} project\n   * @param {string} path\n   * @param {!Workspace.UISourceCode.UISourceCode=} uiSourceCode\n   */\n  _handleContextMenuCreate(project, path, uiSourceCode) {\n    if (uiSourceCode) {\n      const relativePath = Persistence.FileSystemWorkspaceBinding.FileSystemWorkspaceBinding.relativePath(uiSourceCode);\n      relativePath.pop();\n      path = relativePath.join('/');\n    }\n    this.create(project, path, uiSourceCode);\n  }\n\n  /**\n   * @param {!NavigatorUISourceCodeTreeNode} node\n   */\n  _handleContextMenuRename(node) {\n    this.rename(node, false);\n  }\n\n  /**\n   * @param {!Workspace.Workspace.Project} project\n   * @param {string} path\n   */\n  _handleContextMenuExclude(project, path) {\n    const shouldExclude = window.confirm(Common.UIString.UIString('Are you sure you want to exclude this folder?'));\n    if (shouldExclude) {\n      UI.UIUtils.startBatchUpdate();\n      project.excludeFolder(\n          Persistence.FileSystemWorkspaceBinding.FileSystemWorkspaceBinding.completeURL(project, path));\n      UI.UIUtils.endBatchUpdate();\n    }\n  }\n\n  /**\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   */\n  _handleContextMenuDelete(uiSourceCode) {\n    const shouldDelete = window.confirm(Common.UIString.UIString('Are you sure you want to delete this file?'));\n    if (shouldDelete) {\n      uiSourceCode.project().deleteFile(uiSourceCode);\n    }\n  }\n\n  /**\n   * @param {!Event} event\n   * @param {!NavigatorUISourceCodeTreeNode} node\n   */\n  handleFileContextMenu(event, node) {\n    const uiSourceCode = node.uiSourceCode();\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    contextMenu.appendApplicableItems(uiSourceCode);\n\n    const project = uiSourceCode.project();\n    if (project.type() === Workspace.Workspace.projectTypes.FileSystem) {\n      contextMenu.editSection().appendItem(\n          Common.UIString.UIString('Rename'), this._handleContextMenuRename.bind(this, node));\n      contextMenu.editSection().appendItem(\n          Common.UIString.UIString('Make a copy'),\n          this._handleContextMenuCreate.bind(this, project, '', uiSourceCode));\n      contextMenu.editSection().appendItem(\n          Common.UIString.UIString('Delete'), this._handleContextMenuDelete.bind(this, uiSourceCode));\n    }\n\n    contextMenu.show();\n  }\n\n  /**\n   * @param {!NavigatorTreeNode} node\n   */\n  _handleDeleteOverrides(node) {\n    const shouldRemove = window.confirm(\n      ls`Are you sure you want to delete all overrides contained in this folder?`\n    );\n    if (shouldRemove) {\n      this._handleDeleteOverridesHelper(node);\n    }\n  }\n\n  /**\n   * @param {!NavigatorTreeNode} node\n   */\n  _handleDeleteOverridesHelper(node) {\n    node._children.forEach(child => {\n      this._handleDeleteOverridesHelper(child);\n    });\n    if (node instanceof NavigatorUISourceCodeTreeNode) {\n      // Only delete confirmed overrides and not just any file that happens to be in the folder.\n      const binding = Persistence.Persistence.PersistenceImpl.instance().binding(node.uiSourceCode());\n      if (binding) {\n        node.uiSourceCode().project().deleteFile(node.uiSourceCode());\n      }\n    }\n  }\n\n  /**\n   * @param {!Event} event\n   * @param {!NavigatorTreeNode} node\n   */\n  handleFolderContextMenu(event, node) {\n    const path = /** @type {!NavigatorFolderTreeNode} */ (node)._folderPath || '';\n    const project = /** @type {!NavigatorFolderTreeNode} */ (node)._project || null;\n\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    NavigatorView.appendSearchItem(contextMenu, path);\n\n    if (!project) {\n      return;\n    }\n\n    if (project.type() === Workspace.Workspace.projectTypes.FileSystem) {\n      const folderPath = Common.ParsedURL.ParsedURL.urlToPlatformPath(\n          Persistence.FileSystemWorkspaceBinding.FileSystemWorkspaceBinding.completeURL(project, path),\n          Host.Platform.isWin());\n      contextMenu.revealSection().appendItem(\n          Common.UIString.UIString('Open folder'),\n          () => Host.InspectorFrontendHost.InspectorFrontendHostInstance.showItemInFolder(folderPath));\n      if (project.canCreateFile()) {\n        contextMenu.defaultSection().appendItem(Common.UIString.UIString('New file'), () => {\n          this._handleContextMenuCreate(project, path, undefined);\n        });\n      }\n    }\n\n    if (project.canExcludeFolder(path)) {\n      contextMenu.defaultSection().appendItem(\n          Common.UIString.UIString('Exclude folder'), this._handleContextMenuExclude.bind(this, project, path));\n    }\n\n    if (project.type() === Workspace.Workspace.projectTypes.FileSystem) {\n      contextMenu.defaultSection().appendAction('sources.add-folder-to-workspace', undefined, true);\n      if (node instanceof NavigatorGroupTreeNode) {\n        contextMenu.defaultSection().appendItem(Common.UIString.UIString('Remove folder from workspace'), () => {\n          const shouldRemove = window.confirm(Common.UIString.UIString('Are you sure you want to remove this folder?'));\n          if (shouldRemove) {\n            project.remove();\n          }\n        });\n      }\n      if (/** @type {!Persistence.FileSystemWorkspaceBinding.FileSystem} */ (project).fileSystem().type() ===\n          'overrides') {\n        contextMenu.defaultSection().appendItem(\n          ls`Delete all overrides`,\n          this._handleDeleteOverrides.bind(this, node)\n        );\n      }\n    }\n\n    contextMenu.show();\n  }\n\n  /**\n   * @param {!NavigatorUISourceCodeTreeNode} node\n   * @param {boolean} creatingNewUISourceCode\n   */\n  rename(node, creatingNewUISourceCode) {\n    const uiSourceCode = node.uiSourceCode();\n    node.rename(callback.bind(this));\n\n    /**\n     * @this {NavigatorView}\n     * @param {boolean} committed\n     */\n    function callback(committed) {\n      if (!creatingNewUISourceCode) {\n        return;\n      }\n      if (!committed) {\n        uiSourceCode.remove();\n      } else if (node._treeElement && node._treeElement.listItemElement.hasFocus()) {\n        this._sourceSelected(uiSourceCode, true);\n      }\n    }\n  }\n\n  /**\n   * @param {!Workspace.Workspace.Project} project\n   * @param {string} path\n   * @param {!Workspace.UISourceCode.UISourceCode=} uiSourceCodeToCopy\n   */\n  async create(project, path, uiSourceCodeToCopy) {\n    let content = '';\n    if (uiSourceCodeToCopy) {\n      content = (await uiSourceCodeToCopy.requestContent()).content || '';\n    }\n    const uiSourceCode = await project.createFile(path, null, content);\n    if (!uiSourceCode) {\n      return;\n    }\n    this._sourceSelected(uiSourceCode, false);\n    const node = this.revealUISourceCode(uiSourceCode, true);\n    if (node) {\n      this.rename(node, true);\n    }\n  }\n\n  _groupingChanged() {\n    this.reset();\n    this._initGrouping();\n    this._workspace.uiSourceCodes().forEach(this._addUISourceCode.bind(this));\n  }\n\n  _initGrouping() {\n    this._groupByFrame = true;\n    this._groupByDomain = this._navigatorGroupByFolderSetting.get();\n    this._groupByFolder = this._groupByDomain;\n  }\n\n  _resetForTest() {\n    this.reset();\n    this._workspace.uiSourceCodes().forEach(this._addUISourceCode.bind(this));\n  }\n\n  /**\n   * @param {!SDK.ResourceTreeModel.ResourceTreeFrame} frame\n   */\n  _discardFrame(frame) {\n    const node = this._frameNodes.get(frame);\n    if (!node) {\n      return;\n    }\n\n    if (node.parent) {\n      node.parent.removeChild(node);\n    }\n    this._frameNodes.delete(frame);\n    for (const child of frame.childFrames) {\n      this._discardFrame(child);\n    }\n  }\n\n  /**\n   * @override\n   * @param {!SDK.SDKModel.Target} target\n   */\n  targetAdded(target) {\n  }\n\n  /**\n   * @override\n   * @param {!SDK.SDKModel.Target} target\n   */\n  targetRemoved(target) {\n    const targetNode = this._rootNode.child('target:' + target.id());\n    if (targetNode) {\n      this._rootNode.removeChild(targetNode);\n    }\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _targetNameChanged(event) {\n    const target = /** @type {!SDK.SDKModel.Target} */ (event.data);\n    const targetNode = this._rootNode.child('target:' + target.id());\n    if (targetNode) {\n      targetNode.setTitle(target.name());\n    }\n  }\n}\n\n/** @type {!WeakSet<!UI.TreeOutline.TreeElement>} */\nconst boostOrderForNode = new WeakSet();\n\nexport class NavigatorFolderTreeElement extends UI.TreeOutline.TreeElement {\n  /**\n   * @param {!NavigatorView} navigatorView\n   * @param {string} type\n   * @param {string} title\n   * @param {function(boolean)=} hoverCallback\n   */\n  constructor(navigatorView, type, title, hoverCallback) {\n    super('', true);\n    this.listItemElement.classList.add('navigator-' + type + '-tree-item', 'navigator-folder-tree-item');\n    UI.ARIAUtils.setAccessibleName(this.listItemElement, `${title}, ${type}`);\n    this._nodeType = type;\n    this.title = title;\n    this.tooltip = title;\n    this._navigatorView = navigatorView;\n    this._hoverCallback = hoverCallback;\n    let iconType = 'largeicon-navigator-folder';\n    if (type === Types.Domain) {\n      iconType = 'largeicon-navigator-domain';\n    } else if (type === Types.Frame) {\n      iconType = 'largeicon-navigator-frame';\n    } else if (type === Types.Worker) {\n      iconType = 'largeicon-navigator-worker';\n    }\n    this.setLeadingIcons([UI.Icon.Icon.create(iconType, 'icon')]);\n\n    /** @type {!NavigatorTreeNode} */\n    this._node;\n  }\n\n  /**\n   * @override\n   * @returns {!Promise<void>}\n   */\n  async onpopulate() {\n    this._node.populate();\n  }\n\n  /**\n   * @override\n   */\n  onattach() {\n    this.collapse();\n    this._node.onattach();\n    this.listItemElement.addEventListener('contextmenu', this._handleContextMenuEvent.bind(this), false);\n    this.listItemElement.addEventListener('mousemove', this._mouseMove.bind(this), false);\n    this.listItemElement.addEventListener('mouseleave', this._mouseLeave.bind(this), false);\n  }\n\n  /**\n   * @param {!NavigatorTreeNode} node\n   */\n  setNode(node) {\n    this._node = node;\n    const paths = [];\n    /** @type {?NavigatorTreeNode} */\n    let currentNode = node;\n    while (currentNode && !currentNode.isRoot()) {\n      paths.push(currentNode._title);\n      currentNode = currentNode.parent;\n    }\n    paths.reverse();\n    this.tooltip = paths.join('/');\n    UI.ARIAUtils.setAccessibleName(this.listItemElement, `${this.title}, ${this._nodeType}`);\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _handleContextMenuEvent(event) {\n    if (!this._node) {\n      return;\n    }\n    this.select();\n    this._navigatorView.handleFolderContextMenu(event, this._node);\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _mouseMove(event) {\n    if (this._hovered || !this._hoverCallback) {\n      return;\n    }\n    this._hovered = true;\n    this._hoverCallback(true);\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _mouseLeave(event) {\n    if (!this._hoverCallback) {\n      return;\n    }\n    this._hovered = false;\n    this._hoverCallback(false);\n  }\n}\n\nexport class NavigatorSourceTreeElement extends UI.TreeOutline.TreeElement {\n  /**\n   * @param {!NavigatorView} navigatorView\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   * @param {string} title\n   * @param {!NavigatorUISourceCodeTreeNode} node\n   */\n  constructor(navigatorView, uiSourceCode, title, node) {\n    super('', false);\n    this._nodeType = Types.File;\n    this._node = node;\n    this.title = title;\n    this.listItemElement.classList.add(\n        'navigator-' + uiSourceCode.contentType().name() + '-tree-item', 'navigator-file-tree-item');\n    this.tooltip = uiSourceCode.url();\n    UI.ARIAUtils.setAccessibleName(this.listItemElement, `${uiSourceCode.name()}, ${this._nodeType}`);\n    Common.EventTarget.fireEvent('source-tree-file-added', uiSourceCode.fullDisplayName());\n    this._navigatorView = navigatorView;\n    this._uiSourceCode = uiSourceCode;\n    this.updateIcon();\n  }\n\n  updateIcon() {\n    const binding = Persistence.Persistence.PersistenceImpl.instance().binding(this._uiSourceCode);\n    if (binding) {\n      const container = document.createElement('span');\n      container.classList.add('icon-stack');\n      let iconType = 'largeicon-navigator-file-sync';\n      if (Snippets.ScriptSnippetFileSystem.isSnippetsUISourceCode(binding.fileSystem)) {\n        iconType = 'largeicon-navigator-snippet';\n      }\n      const icon = UI.Icon.Icon.create(iconType, 'icon');\n      const badge = UI.Icon.Icon.create('badge-navigator-file-sync', 'icon-badge');\n      // TODO(allada) This does not play well with dark theme. Add an actual icon and use it.\n      if (Persistence.NetworkPersistenceManager.NetworkPersistenceManager.instance().project() ===\n          binding.fileSystem.project()) {\n        badge.style.filter = 'hue-rotate(160deg)';\n      }\n      container.appendChild(icon);\n      container.appendChild(badge);\n      UI.Tooltip.Tooltip.install(\n          container, Persistence.PersistenceUtils.PersistenceUtils.tooltipForUISourceCode(this._uiSourceCode));\n      this.setLeadingIcons([/** @type {!UI.Icon.Icon} */ (container)]);\n    } else {\n      let iconType = 'largeicon-navigator-file';\n      if (Snippets.ScriptSnippetFileSystem.isSnippetsUISourceCode(this._uiSourceCode)) {\n        iconType = 'largeicon-navigator-snippet';\n      }\n      const defaultIcon = UI.Icon.Icon.create(iconType, 'icon');\n      this.setLeadingIcons([defaultIcon]);\n    }\n  }\n\n  /**\n   * @return {!Workspace.UISourceCode.UISourceCode}\n   */\n  get uiSourceCode() {\n    return this._uiSourceCode;\n  }\n\n  /**\n   * @override\n   */\n  onattach() {\n    this.listItemElement.draggable = true;\n    this.listItemElement.addEventListener('click', this._onclick.bind(this), false);\n    this.listItemElement.addEventListener('contextmenu', this._handleContextMenuEvent.bind(this), false);\n    this.listItemElement.addEventListener('dragstart', this._ondragstart.bind(this), false);\n  }\n\n  _shouldRenameOnMouseDown() {\n    if (!this._uiSourceCode.canRename()) {\n      return false;\n    }\n    if (!this.treeOutline) {\n      return false;\n    }\n    const isSelected = this === this.treeOutline.selectedTreeElement;\n    return isSelected && this.treeOutline.element.hasFocus() && !UI.UIUtils.isBeingEdited(this.treeOutline.element);\n  }\n\n  /**\n   * @override\n   * @param {!MouseEvent} event\n   */\n  selectOnMouseDown(event) {\n    if (event.which !== 1 || !this._shouldRenameOnMouseDown()) {\n      super.selectOnMouseDown(event);\n      return;\n    }\n    setTimeout(rename.bind(this), 300);\n\n    /**\n     * @this {NavigatorSourceTreeElement}\n     */\n    function rename() {\n      if (this._shouldRenameOnMouseDown()) {\n        this._navigatorView.rename(this._node, false);\n      }\n    }\n  }\n\n  /**\n   * @param {!DragEvent} event\n   */\n  _ondragstart(event) {\n    if (!event.dataTransfer) {\n      return;\n    }\n    event.dataTransfer.setData('text/plain', this._uiSourceCode.url());\n    event.dataTransfer.effectAllowed = 'copy';\n  }\n\n  /**\n   * @override\n   * @return {boolean}\n   */\n  onspace() {\n    this._navigatorView._sourceSelected(this.uiSourceCode, true);\n    return true;\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _onclick(event) {\n    this._navigatorView._sourceSelected(this.uiSourceCode, false);\n  }\n\n  /**\n   * @override\n   * @param {!Event} event\n   * @return {boolean}\n   */\n  ondblclick(event) {\n    const middleClick = /** @type {!MouseEvent} */ (event).button === 1;\n    this._navigatorView._sourceSelected(this.uiSourceCode, !middleClick);\n    return false;\n  }\n\n  /**\n   * @override\n   * @return {boolean}\n   */\n  onenter() {\n    this._navigatorView._sourceSelected(this.uiSourceCode, true);\n    return true;\n  }\n\n  /**\n   * @override\n   * @return {boolean}\n   */\n  ondelete() {\n    return true;\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _handleContextMenuEvent(event) {\n    this.select();\n    this._navigatorView.handleFileContextMenu(event, this._node);\n  }\n}\n\nexport class NavigatorTreeNode {\n  /**\n   * @param {!NavigatorView} navigatorView\n   * @param {string} id\n   * @param {string} type\n   */\n  constructor(navigatorView, id, type) {\n    this.id = id;\n    this._navigatorView = navigatorView;\n    this._type = type;\n    /** @type {!Map.<string, !NavigatorTreeNode>} */\n    this._children = new Map();\n\n    this._populated = false;\n    this._isMerged = false;\n    /** @type {?NavigatorTreeNode} */\n    this.parent;\n    /** @type {string} */\n    this._title;\n  }\n\n  /**\n   * @return {!UI.TreeOutline.TreeElement}\n   */\n  treeNode() {\n    throw 'Not implemented';\n  }\n\n  dispose() {\n  }\n\n  updateTitle() {\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isRoot() {\n    return false;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  hasChildren() {\n    return true;\n  }\n\n  onattach() {\n  }\n\n  /**\n   * @param {string} title\n   */\n  setTitle(title) {\n    throw 'Not implemented';\n  }\n\n  populate() {\n    if (this.isPopulated()) {\n      return;\n    }\n    if (this.parent) {\n      this.parent.populate();\n    }\n    this._populated = true;\n    this.wasPopulated();\n  }\n\n  wasPopulated() {\n    const children = this.children();\n    for (let i = 0; i < children.length; ++i) {\n      this._navigatorView.appendChild(\n          this.treeNode(), /** @type {!UI.TreeOutline.TreeElement} */ (children[i].treeNode()));\n    }\n  }\n\n  /**\n   * @param {!NavigatorTreeNode} node\n   */\n  didAddChild(node) {\n    if (this.isPopulated()) {\n      this._navigatorView.appendChild(this.treeNode(), /** @type {!UI.TreeOutline.TreeElement} */ (node.treeNode()));\n    }\n  }\n\n  /**\n   * @param {!NavigatorTreeNode} node\n   */\n  willRemoveChild(node) {\n    if (this.isPopulated()) {\n      this._navigatorView.removeChild(this.treeNode(), /** @type {!UI.TreeOutline.TreeElement} */ (node.treeNode()));\n    }\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isPopulated() {\n    return this._populated;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isEmpty() {\n    return !this._children.size;\n  }\n\n  /**\n   * @return {!Array.<!NavigatorTreeNode>}\n   */\n  children() {\n    return [...this._children.values()];\n  }\n\n  /**\n   * @param {string} id\n   * @return {?NavigatorTreeNode}\n   */\n  child(id) {\n    return this._children.get(id) || null;\n  }\n\n  /**\n   * @param {!NavigatorTreeNode} node\n   */\n  appendChild(node) {\n    this._children.set(node.id, node);\n    node.parent = this;\n    this.didAddChild(node);\n  }\n\n  /**\n   * @param {!NavigatorTreeNode} node\n   */\n  removeChild(node) {\n    this.willRemoveChild(node);\n    this._children.delete(node.id);\n    node.parent = null;\n    node.dispose();\n  }\n\n  reset() {\n    this._children.clear();\n  }\n}\n\nexport class NavigatorRootTreeNode extends NavigatorTreeNode {\n  /**\n   * @param {!NavigatorView} navigatorView\n   */\n  constructor(navigatorView) {\n    super(navigatorView, '', Types.Root);\n  }\n\n  /**\n   * @override\n   * @return {boolean}\n   */\n  isRoot() {\n    return true;\n  }\n\n  /**\n   * @override\n   * @return {!UI.TreeOutline.TreeElement}\n   */\n  treeNode() {\n    return this._navigatorView._scriptsTree.rootElement();\n  }\n}\n\nexport class NavigatorUISourceCodeTreeNode extends NavigatorTreeNode {\n  /**\n   * @param {!NavigatorView} navigatorView\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   * @param {?SDK.ResourceTreeModel.ResourceTreeFrame} frame\n   */\n  constructor(navigatorView, uiSourceCode, frame) {\n    super(navigatorView, uiSourceCode.project().id() + ':' + uiSourceCode.url(), Types.File);\n    this._uiSourceCode = uiSourceCode;\n    this._treeElement = null;\n    /** @type {!Array<!Common.EventTarget.EventDescriptor>} */\n    this._eventListeners = [];\n    this._frame = frame;\n  }\n\n  /**\n   * @return {?SDK.ResourceTreeModel.ResourceTreeFrame}\n   */\n  frame() {\n    return this._frame;\n  }\n\n  /**\n   * @return {!Workspace.UISourceCode.UISourceCode}\n   */\n  uiSourceCode() {\n    return this._uiSourceCode;\n  }\n\n  /**\n   * @override\n   * @return {!UI.TreeOutline.TreeElement}\n   */\n  treeNode() {\n    if (this._treeElement) {\n      return this._treeElement;\n    }\n\n    this._treeElement = new NavigatorSourceTreeElement(this._navigatorView, this._uiSourceCode, '', this);\n    this.updateTitle();\n\n    const updateTitleBound = this.updateTitle.bind(this, undefined);\n    this._eventListeners = [\n      this._uiSourceCode.addEventListener(Workspace.UISourceCode.Events.TitleChanged, updateTitleBound),\n      this._uiSourceCode.addEventListener(Workspace.UISourceCode.Events.WorkingCopyChanged, updateTitleBound),\n      this._uiSourceCode.addEventListener(Workspace.UISourceCode.Events.WorkingCopyCommitted, updateTitleBound)\n    ];\n    return this._treeElement;\n  }\n\n  /**\n   * @override\n   * @param {boolean=} ignoreIsDirty\n   */\n  updateTitle(ignoreIsDirty) {\n    if (!this._treeElement) {\n      return;\n    }\n\n    let titleText = this._uiSourceCode.displayName();\n    if (!ignoreIsDirty && this._uiSourceCode.isDirty()) {\n      titleText = '*' + titleText;\n    }\n\n    this._treeElement.title = titleText;\n    this._treeElement.updateIcon();\n\n    let tooltip = this._uiSourceCode.url();\n    if (this._uiSourceCode.contentType().isFromSourceMap()) {\n      tooltip = Common.UIString.UIString('%s (from source map)', this._uiSourceCode.displayName());\n    }\n    this._treeElement.tooltip = tooltip;\n  }\n\n  /**\n   * @override\n   * @return {boolean}\n   */\n  hasChildren() {\n    return false;\n  }\n\n  /**\n   * @override\n   */\n  dispose() {\n    Common.EventTarget.EventTarget.removeEventListeners(this._eventListeners);\n  }\n\n  /**\n   * @param {boolean=} select\n   */\n  reveal(select) {\n    if (this.parent) {\n      this.parent.populate();\n      this.parent.treeNode().expand();\n    }\n    if (this._treeElement) {\n      this._treeElement.reveal(true);\n      if (select) {\n        this._treeElement.select(true);\n      }\n    }\n  }\n\n  /**\n   * @param {function(boolean)=} callback\n   */\n  rename(callback) {\n    if (!this._treeElement) {\n      return;\n    }\n\n    this._treeElement.listItemElement.focus();\n\n    if (!this._treeElement.treeOutline) {\n      return;\n    }\n\n    // Tree outline should be marked as edited as well as the tree element to prevent search from starting.\n    const treeOutlineElement = this._treeElement.treeOutline.element;\n    UI.UIUtils.markBeingEdited(treeOutlineElement, true);\n\n    /**\n     * @param {!Element} element\n     * @param {string} newTitle\n     * @param {string} oldTitle\n     * @this {NavigatorUISourceCodeTreeNode}\n     */\n    function commitHandler(element, newTitle, oldTitle) {\n      if (newTitle !== oldTitle) {\n        if (this._treeElement) {\n          this._treeElement.title = newTitle;\n        }\n        this._uiSourceCode.rename(newTitle).then(renameCallback.bind(this));\n        return;\n      }\n      afterEditing.call(this, true);\n    }\n\n    /**\n     * @param {boolean} success\n     * @this {NavigatorUISourceCodeTreeNode}\n     */\n    function renameCallback(success) {\n      if (!success) {\n        UI.UIUtils.markBeingEdited(treeOutlineElement, false);\n        this.updateTitle();\n        this.rename(callback);\n        return;\n      }\n      afterEditing.call(this, true);\n    }\n\n    /**\n     * @param {boolean} committed\n     * @this {NavigatorUISourceCodeTreeNode}\n     */\n    function afterEditing(committed) {\n      UI.UIUtils.markBeingEdited(treeOutlineElement, false);\n      this.updateTitle();\n      if (callback) {\n        callback(committed);\n      }\n    }\n\n    this.updateTitle(true);\n    this._treeElement.startEditingTitle(\n        new UI.InplaceEditor.Config(commitHandler.bind(this), afterEditing.bind(this, false)));\n  }\n}\n\nexport class NavigatorFolderTreeNode extends NavigatorTreeNode {\n  /**\n   * @param {!NavigatorView} navigatorView\n   * @param {?Workspace.Workspace.Project} project\n   * @param {string} id\n   * @param {string} type\n   * @param {string} folderPath\n   * @param {string} title\n   */\n  constructor(navigatorView, project, id, type, folderPath, title) {\n    super(navigatorView, id, type);\n    this._project = project;\n    this._folderPath = folderPath;\n    this._title = title;\n\n    /** @type {?NavigatorFolderTreeElement} */\n    this._treeElement;\n  }\n\n  /**\n   * @override\n   * @return {!UI.TreeOutline.TreeElement}\n   */\n  treeNode() {\n    if (this._treeElement) {\n      return this._treeElement;\n    }\n    this._treeElement = this._createTreeElement(this._title, this);\n    this.updateTitle();\n    return this._treeElement;\n  }\n\n  /**\n   * @override\n   */\n  updateTitle() {\n    if (!this._treeElement || !this._project || this._project.type() !== Workspace.Workspace.projectTypes.FileSystem) {\n      return;\n    }\n    const absoluteFileSystemPath =\n        Persistence.FileSystemWorkspaceBinding.FileSystemWorkspaceBinding.fileSystemPath(this._project.id()) + '/' +\n        this._folderPath;\n    const hasMappedFiles =\n        Persistence.Persistence.PersistenceImpl.instance().filePathHasBindings(absoluteFileSystemPath);\n    this._treeElement.listItemElement.classList.toggle('has-mapped-files', hasMappedFiles);\n  }\n\n  /**\n   * @param {string} title\n   * @param {!NavigatorTreeNode} node\n   * @return {!NavigatorFolderTreeElement}\n   */\n  _createTreeElement(title, node) {\n    if (this._project && this._project.type() !== Workspace.Workspace.projectTypes.FileSystem) {\n      try {\n        title = decodeURI(title);\n      } catch (e) {\n      }\n    }\n    const treeElement = new NavigatorFolderTreeElement(this._navigatorView, this._type, title);\n    treeElement.setNode(node);\n    return treeElement;\n  }\n\n  /**\n   * @override\n   */\n  wasPopulated() {\n    // @ts-ignore These types are invalid, but removing this check causes wrong behavior\n    if (!this._treeElement || this._treeElement._node !== this) {\n      return;\n    }\n    this._addChildrenRecursive();\n  }\n\n  _addChildrenRecursive() {\n    const children = this.children();\n    for (let i = 0; i < children.length; ++i) {\n      const child = children[i];\n      this.didAddChild(child);\n      if (child instanceof NavigatorFolderTreeNode) {\n        child._addChildrenRecursive();\n      }\n    }\n  }\n\n  /**\n   * @param {!NavigatorTreeNode} node\n   */\n  _shouldMerge(node) {\n    return this._type !== Types.Domain && node instanceof NavigatorFolderTreeNode;\n  }\n\n  /**\n   * @param {!NavigatorTreeNode} node\n   * @override\n   */\n  didAddChild(node) {\n    if (!this._treeElement) {\n      return;\n    }\n\n    let children = this.children();\n\n    if (children.length === 1 && this._shouldMerge(node)) {\n      node._isMerged = true;\n      this._treeElement.title = this._treeElement.title + '/' + node._title;\n      /** @type {!NavigatorFolderTreeNode} */ (node)._treeElement = this._treeElement;\n      this._treeElement.setNode(node);\n      return;\n    }\n\n    let oldNode;\n    if (children.length === 2) {\n      oldNode = children[0] !== node ? children[0] : children[1];\n    }\n    if (oldNode && oldNode._isMerged) {\n      oldNode._isMerged = false;\n      const mergedToNodes = [];\n      mergedToNodes.push(this);\n      /** @type {?NavigatorTreeNode} */\n      let treeNode = this;\n      while (treeNode && treeNode._isMerged) {\n        treeNode = treeNode.parent;\n        if (treeNode) {\n          mergedToNodes.push(treeNode);\n        }\n      }\n      mergedToNodes.reverse();\n      const titleText = mergedToNodes.map(node => node._title).join('/');\n\n      const nodes = [];\n      treeNode = oldNode;\n      do {\n        nodes.push(treeNode);\n        children = treeNode.children();\n        treeNode = children.length === 1 ? children[0] : null;\n      } while (treeNode && treeNode._isMerged);\n\n      if (!this.isPopulated()) {\n        this._treeElement.title = titleText;\n        this._treeElement.setNode(this);\n        for (let i = 0; i < nodes.length; ++i) {\n          /** @type {!NavigatorFolderTreeNode} */ (nodes[i])._treeElement = null;\n          nodes[i]._isMerged = false;\n        }\n        return;\n      }\n      const oldTreeElement = this._treeElement;\n      const treeElement = this._createTreeElement(titleText, this);\n      for (let i = 0; i < mergedToNodes.length; ++i) {\n        /** @type {!NavigatorFolderTreeNode} */ (mergedToNodes[i])._treeElement = treeElement;\n      }\n      if (oldTreeElement.parent) {\n        this._navigatorView.appendChild(oldTreeElement.parent, treeElement);\n      }\n\n      oldTreeElement.setNode(nodes[nodes.length - 1]);\n      oldTreeElement.title = nodes.map(node => node._title).join('/');\n      if (oldTreeElement.parent) {\n        this._navigatorView.removeChild(oldTreeElement.parent, oldTreeElement);\n      }\n      this._navigatorView.appendChild(this._treeElement, oldTreeElement);\n      if (oldTreeElement.expanded) {\n        treeElement.expand();\n      }\n    }\n    if (this.isPopulated()) {\n      this._navigatorView.appendChild(this._treeElement, node.treeNode());\n    }\n  }\n\n  /**\n   * @override\n   * @param {!NavigatorTreeNode} node\n   */\n  willRemoveChild(node) {\n    const actualNode = /** @type {!NavigatorFolderTreeNode} */ (node);\n    if (actualNode._isMerged || !this.isPopulated() || !this._treeElement || !actualNode._treeElement) {\n      return;\n    }\n    this._navigatorView.removeChild(this._treeElement, actualNode._treeElement);\n  }\n}\n\nexport class NavigatorGroupTreeNode extends NavigatorTreeNode {\n  /**\n   * @param {!NavigatorView} navigatorView\n   * @param {!Workspace.Workspace.Project} project\n   * @param {string} id\n   * @param {string} type\n   * @param {string} title\n   */\n  constructor(navigatorView, project, id, type, title) {\n    super(navigatorView, id, type);\n    this._project = project;\n    this._title = title;\n    this.populate();\n  }\n\n  /**\n   * @param {function(boolean):void} hoverCallback\n   */\n  setHoverCallback(hoverCallback) {\n    this._hoverCallback = hoverCallback;\n  }\n\n  /**\n   * @override\n   * @return {!UI.TreeOutline.TreeElement}\n   */\n  treeNode() {\n    if (this._treeElement) {\n      return this._treeElement;\n    }\n    this._treeElement =\n        new NavigatorFolderTreeElement(this._navigatorView, this._type, this._title, this._hoverCallback);\n    this._treeElement.setNode(this);\n    return this._treeElement;\n  }\n\n  /**\n   * @override\n   */\n  onattach() {\n    this.updateTitle();\n  }\n\n  /**\n   * @override\n   */\n  updateTitle() {\n    if (!this._treeElement || this._project.type() !== Workspace.Workspace.projectTypes.FileSystem) {\n      return;\n    }\n    const fileSystemPath =\n        Persistence.FileSystemWorkspaceBinding.FileSystemWorkspaceBinding.fileSystemPath(this._project.id());\n    const wasActive = this._treeElement.listItemElement.classList.contains('has-mapped-files');\n    const isActive = Persistence.Persistence.PersistenceImpl.instance().filePathHasBindings(fileSystemPath);\n    if (wasActive === isActive) {\n      return;\n    }\n    this._treeElement.listItemElement.classList.toggle('has-mapped-files', isActive);\n    if (this._treeElement.childrenListElement.hasFocus()) {\n      return;\n    }\n    if (isActive) {\n      this._treeElement.expand();\n    } else {\n      this._treeElement.collapse();\n    }\n  }\n\n  /**\n   * @param {string} title\n   * @override\n   */\n  setTitle(title) {\n    this._title = title;\n    if (this._treeElement) {\n      this._treeElement.title = this._title;\n    }\n  }\n}\n"]}