{"version":3,"file":"DebuggerPausedMessage.js","sourceRoot":"","sources":["../../../../../front_end/sources/DebuggerPausedMessage.js"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2016 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Bindings from '../bindings/bindings.js';  // eslint-disable-line no-unused-vars\nimport * as Common from '../common/common.js';\nimport {ls} from '../platform/platform.js';\nimport * as SDK from '../sdk/sdk.js';\nimport * as UI from '../ui/ui.js';\n\nexport class DebuggerPausedMessage {\n  constructor() {\n    this._element = document.createElement('div');\n    this._element.classList.add('paused-message');\n    this._element.classList.add('flex-none');\n    const root = UI.Utils.createShadowRootWithCoreStyles(\n        this._element,\n        {cssFile: 'sources/debuggerPausedMessage.css', enableLegacyPatching: true, delegatesFocus: undefined});\n    /** @type {!HTMLElement} */\n    this._contentElement = /** @type {!HTMLElement} */ (root.createChild('div'));\n    UI.ARIAUtils.markAsPoliteLiveRegion(this._element, false);\n  }\n\n  /**\n   * @return {!Element}\n   */\n  element() {\n    return this._element;\n  }\n\n  /**\n   * @param {string} description\n   */\n  static _descriptionWithoutStack(description) {\n    const firstCallFrame = /^\\s+at\\s/m.exec(description);\n    return firstCallFrame ? description.substring(0, firstCallFrame.index - 1) :\n                            description.substring(0, description.lastIndexOf('\\n'));\n  }\n\n  /**\n   * @param {!SDK.DebuggerModel.DebuggerPausedDetails} details\n   * @return {!Promise<!Element>}\n   */\n  static async _createDOMBreakpointHitMessage(details) {\n    const messageWrapper = document.createElement('span');\n    const domDebuggerModel = details.debuggerModel.target().model(SDK.DOMDebuggerModel.DOMDebuggerModel);\n    if (!details.auxData || !domDebuggerModel) {\n      return messageWrapper;\n    }\n    const data = domDebuggerModel.resolveDOMBreakpointData(\n        /** @type {!{type: !Protocol.DOMDebugger.DOMBreakpointType, nodeId: !Protocol.DOM.NodeId, targetNodeId: !Protocol.DOM.NodeId, insertion: boolean}} */\n        (details.auxData));\n    if (!data) {\n      return messageWrapper;\n    }\n\n    const mainElement = messageWrapper.createChild('div', 'status-main');\n    mainElement.appendChild(UI.Icon.Icon.create('smallicon-info', 'status-icon'));\n    const breakpointType = BreakpointTypeNouns.get(data.type);\n    mainElement.appendChild(document.createTextNode(ls`Paused on ${breakpointType}`));\n\n    const subElement = messageWrapper.createChild('div', 'status-sub monospace');\n    const linkifiedNode = await Common.Linkifier.Linkifier.linkify(data.node);\n    subElement.appendChild(linkifiedNode);\n\n    if (data.targetNode) {\n      const targetNodeLink = await Common.Linkifier.Linkifier.linkify(data.targetNode);\n      let messageElement;\n      if (data.insertion) {\n        if (data.targetNode === data.node) {\n          messageElement = UI.UIUtils.formatLocalized('Child %s added', [targetNodeLink]);\n        } else {\n          messageElement = UI.UIUtils.formatLocalized('Descendant %s added', [targetNodeLink]);\n        }\n      } else {\n        messageElement = UI.UIUtils.formatLocalized('Descendant %s removed', [targetNodeLink]);\n      }\n      subElement.appendChild(document.createElement('br'));\n      subElement.appendChild(messageElement);\n    }\n    return messageWrapper;\n  }\n\n  /**\n   * @param {?SDK.DebuggerModel.DebuggerPausedDetails} details\n   * @param {!Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding} debuggerWorkspaceBinding\n   * @param {!Bindings.BreakpointManager.BreakpointManager} breakpointManager\n   * @return {!Promise<void>}\n   */\n  async render(details, debuggerWorkspaceBinding, breakpointManager) {\n    this._contentElement.removeChildren();\n    this._contentElement.hidden = !details;\n    if (!details) {\n      return;\n    }\n\n    const status = this._contentElement.createChild('div', 'paused-status');\n\n    const errorLike = details.reason === Protocol.Debugger.PausedEventReason.Exception ||\n        details.reason === Protocol.Debugger.PausedEventReason.PromiseRejection ||\n        details.reason === Protocol.Debugger.PausedEventReason.Assert ||\n        details.reason === Protocol.Debugger.PausedEventReason.OOM;\n    let messageWrapper;\n    if (details.reason === Protocol.Debugger.PausedEventReason.DOM) {\n      messageWrapper = await DebuggerPausedMessage._createDOMBreakpointHitMessage(details);\n    } else if (details.reason === Protocol.Debugger.PausedEventReason.EventListener) {\n      let eventNameForUI = '';\n      if (details.auxData) {\n        eventNameForUI = SDK.DOMDebuggerModel.DOMDebuggerManager.instance().resolveEventListenerBreakpointTitle(\n            /** @type {!{directiveText: string, eventName: string, targetName: string, webglErrorName: string}} */ (\n                details.auxData));\n      }\n      messageWrapper = buildWrapper(Common.UIString.UIString('Paused on event listener'), eventNameForUI);\n    } else if (details.reason === Protocol.Debugger.PausedEventReason.XHR) {\n      const auxData = /** @type {!PausedDetailsAuxData} */ (details.auxData);\n      messageWrapper = buildWrapper(Common.UIString.UIString('Paused on XHR or fetch'), auxData.url || '');\n    } else if (details.reason === Protocol.Debugger.PausedEventReason.Exception) {\n      const auxData = /** @type {!PausedDetailsAuxData} */ (details.auxData);\n      const description = auxData.description || auxData.value || '';\n      const descriptionWithoutStack = DebuggerPausedMessage._descriptionWithoutStack(description);\n      messageWrapper =\n          buildWrapper(Common.UIString.UIString('Paused on exception'), descriptionWithoutStack, description);\n    } else if (details.reason === Protocol.Debugger.PausedEventReason.PromiseRejection) {\n      const auxData = /** @type {!PausedDetailsAuxData} */ (details.auxData);\n      const description = auxData.description || auxData.value || '';\n      const descriptionWithoutStack = DebuggerPausedMessage._descriptionWithoutStack(description);\n      messageWrapper =\n          buildWrapper(Common.UIString.UIString('Paused on promise rejection'), descriptionWithoutStack, description);\n    } else if (details.reason === Protocol.Debugger.PausedEventReason.Assert) {\n      messageWrapper = buildWrapper(Common.UIString.UIString('Paused on assertion'));\n    } else if (details.reason === Protocol.Debugger.PausedEventReason.DebugCommand) {\n      messageWrapper = buildWrapper(Common.UIString.UIString('Paused on debugged function'));\n    } else if (details.reason === Protocol.Debugger.PausedEventReason.OOM) {\n      messageWrapper = buildWrapper(Common.UIString.UIString('Paused before potential out-of-memory crash'));\n    } else if (\n        details.reason === Protocol.Debugger.PausedEventReason.CSPViolation && details.auxData &&\n        details.auxData['violationType']) {\n      const text = /** @type {string} */ (details.auxData['violationType']);\n      if (text === Protocol.DOMDebugger.CSPViolationType.TrustedtypeSinkViolation) {\n        messageWrapper = buildWrapper(ls`Paused on CSP violation`, ls`Trusted Type Sink Violation`);\n      } else if (text === Protocol.DOMDebugger.CSPViolationType.TrustedtypePolicyViolation) {\n        messageWrapper = buildWrapper(ls`Paused on CSP violation`, ls`Trusted Type Policy Violation`);\n      }\n    } else if (details.callFrames.length) {\n      const uiLocation = await debuggerWorkspaceBinding.rawLocationToUILocation(details.callFrames[0].location());\n      const breakpoint = uiLocation ? breakpointManager.findBreakpoint(uiLocation) : null;\n      const defaultText =\n          breakpoint ? Common.UIString.UIString('Paused on breakpoint') : Common.UIString.UIString('Debugger paused');\n      messageWrapper = buildWrapper(defaultText);\n    } else {\n      console.warn(\n          'ScriptsPanel paused, but callFrames.length is zero.');  // TODO remove this once we understand this case better\n    }\n\n    status.classList.toggle('error-reason', errorLike);\n    if (messageWrapper) {\n      status.appendChild(messageWrapper);\n    }\n\n    /**\n     * @param  {string} mainText\n     * @param  {string=} subText\n     * @param  {string=} title\n     * @return {!Element}\n     */\n    function buildWrapper(mainText, subText, title) {\n      const messageWrapper = document.createElement('span');\n      const mainElement = messageWrapper.createChild('div', 'status-main');\n      const icon = UI.Icon.Icon.create(errorLike ? 'smallicon-error' : 'smallicon-info', 'status-icon');\n      mainElement.appendChild(icon);\n      mainElement.appendChild(document.createTextNode(mainText));\n      if (subText) {\n        const subElement = messageWrapper.createChild('div', 'status-sub monospace');\n        subElement.textContent = subText;\n        UI.Tooltip.Tooltip.install(subElement, title || subText);\n      }\n      return messageWrapper;\n    }\n  }\n}\n\nexport const BreakpointTypeNouns = new Map([\n  [Protocol.DOMDebugger.DOMBreakpointType.SubtreeModified, Common.UIString.UIString('subtree modifications')],\n  [Protocol.DOMDebugger.DOMBreakpointType.AttributeModified, Common.UIString.UIString('attribute modifications')],\n  [Protocol.DOMDebugger.DOMBreakpointType.NodeRemoved, Common.UIString.UIString('node removal')],\n]);\n\n/**\n * @typedef {{\n *   description: (string|undefined),\n *   url: (string|undefined),\n *   value: (string|undefined),\n * }}\n */\nlet PausedDetailsAuxData;  // eslint-disable-line no-unused-vars\n"]}