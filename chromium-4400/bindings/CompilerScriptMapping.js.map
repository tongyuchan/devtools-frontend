{"version":3,"file":"CompilerScriptMapping.js","sourceRoot":"","sources":["../../../../../front_end/bindings/CompilerScriptMapping.js"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2012 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../common/common.js';\nimport * as SDK from '../sdk/sdk.js';\nimport * as TextUtils from '../text_utils/text_utils.js';\nimport * as Workspace from '../workspace/workspace.js';\n\nimport {ContentProviderBasedProject} from './ContentProviderBasedProject.js';\nimport {DebuggerSourceMapping, DebuggerWorkspaceBinding} from './DebuggerWorkspaceBinding.js';  // eslint-disable-line no-unused-vars\nimport {IgnoreListManager} from './IgnoreListManager.js';\nimport {NetworkProject} from './NetworkProject.js';\n\n/**\n * @implements {DebuggerSourceMapping}\n */\nexport class CompilerScriptMapping {\n  /**\n   * @param {!SDK.DebuggerModel.DebuggerModel} debuggerModel\n   * @param {!Workspace.Workspace.WorkspaceImpl} workspace\n   * @param {!DebuggerWorkspaceBinding} debuggerWorkspaceBinding\n   */\n  constructor(debuggerModel, workspace, debuggerWorkspaceBinding) {\n    this._debuggerModel = debuggerModel;\n    this._sourceMapManager = this._debuggerModel.sourceMapManager();\n    this._workspace = workspace;\n    this._debuggerWorkspaceBinding = debuggerWorkspaceBinding;\n\n    const target = debuggerModel.target();\n    this._regularProject = new ContentProviderBasedProject(\n        workspace, 'jsSourceMaps::' + target.id(), Workspace.Workspace.projectTypes.Network, '',\n        false /* isServiceProject */);\n    this._contentScriptsProject = new ContentProviderBasedProject(\n        workspace, 'jsSourceMaps:extensions:' + target.id(), Workspace.Workspace.projectTypes.ContentScripts, '',\n        false /* isServiceProject */);\n    NetworkProject.setTargetForProject(this._regularProject, target);\n    NetworkProject.setTargetForProject(this._contentScriptsProject, target);\n\n    /** @type {!Map<string, !Binding>} */\n    this._regularBindings = new Map();\n    /** @type {!Map<string, !Binding>} */\n    this._contentScriptsBindings = new Map();\n\n    /** @type {!Map<!SDK.Script.Script, !Workspace.UISourceCode.UISourceCode>} */\n    this._stubUISourceCodes = new Map();\n\n    this._stubProject = new ContentProviderBasedProject(\n        workspace, 'jsSourceMaps:stub:' + target.id(), Workspace.Workspace.projectTypes.Service, '',\n        true /* isServiceProject */);\n    this._eventListeners = [\n      this._sourceMapManager.addEventListener(\n          SDK.SourceMapManager.Events.SourceMapWillAttach,\n          event => {\n            this._sourceMapWillAttach(event);\n          },\n          this),\n      this._sourceMapManager.addEventListener(\n          SDK.SourceMapManager.Events.SourceMapFailedToAttach,\n          event => {\n            this._sourceMapFailedToAttach(event);\n          },\n          this),\n      this._sourceMapManager.addEventListener(\n          SDK.SourceMapManager.Events.SourceMapAttached,\n          event => {\n            this._sourceMapAttached(event);\n          },\n          this),\n      this._sourceMapManager.addEventListener(\n          SDK.SourceMapManager.Events.SourceMapDetached,\n          event => {\n            this._sourceMapDetached(event);\n          },\n          this),\n    ];\n  }\n\n  /**\n   * @param {!SDK.Script.Script} script\n   */\n  _addStubUISourceCode(script) {\n    const stubUISourceCode = this._stubProject.addContentProvider(\n        script.sourceURL + ':sourcemap',\n        TextUtils.StaticContentProvider.StaticContentProvider.fromString(\n            script.sourceURL, Common.ResourceType.resourceTypes.Script,\n            '\\n\\n\\n\\n\\n// Please wait a bit.\\n// Compiled script is not shown while source map is being loaded!'),\n        'text/javascript');\n    this._stubUISourceCodes.set(script, stubUISourceCode);\n  }\n\n  /**\n   * @param {!SDK.Script.Script} script\n   */\n  async _removeStubUISourceCode(script) {\n    const uiSourceCode = this._stubUISourceCodes.get(script);\n    this._stubUISourceCodes.delete(script);\n    if (uiSourceCode) {\n      this._stubProject.removeFile(uiSourceCode.url());\n    }\n    await this._debuggerWorkspaceBinding.updateLocations(script);\n  }\n\n  /**\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   * @return {?string}\n   */\n  static uiSourceCodeOrigin(uiSourceCode) {\n    const sourceMap = uiSourceCodeToSourceMap.get(uiSourceCode);\n    if (!sourceMap) {\n      return null;\n    }\n    return sourceMap.compiledURL();\n  }\n\n  /**\n   * @param {!SDK.DebuggerModel.Location} rawLocation\n   * @return {boolean}\n   */\n  mapsToSourceCode(rawLocation) {\n    const script = rawLocation.script();\n    const sourceMap = script ? this._sourceMapManager.sourceMapForClient(script) : null;\n    if (!sourceMap) {\n      return true;\n    }\n    const entry = sourceMap.findEntry(rawLocation.lineNumber, rawLocation.columnNumber);\n    return entry !== null && entry.lineNumber === rawLocation.lineNumber &&\n        entry.columnNumber === rawLocation.columnNumber;\n  }\n\n  /**\n   * @param {string} url\n   * @param {boolean} isContentScript\n   */\n  uiSourceCodeForURL(url, isContentScript) {\n    return isContentScript ? this._contentScriptsProject.uiSourceCodeForURL(url) :\n                             this._regularProject.uiSourceCodeForURL(url);\n  }\n\n  /**\n   * @override\n   * @param {!SDK.DebuggerModel.Location} rawLocation\n   * @return {?Workspace.UISourceCode.UILocation}\n   */\n  rawLocationToUILocation(rawLocation) {\n    const script = rawLocation.script();\n    if (!script) {\n      return null;\n    }\n\n    const lineNumber = rawLocation.lineNumber - script.lineOffset;\n    let columnNumber = rawLocation.columnNumber;\n    if (!lineNumber) {\n      columnNumber -= script.columnOffset;\n    }\n\n    const stubUISourceCode = this._stubUISourceCodes.get(script);\n    if (stubUISourceCode) {\n      return new Workspace.UISourceCode.UILocation(stubUISourceCode, lineNumber, columnNumber);\n    }\n\n    const sourceMap = this._sourceMapManager.sourceMapForClient(script);\n    if (!sourceMap) {\n      return null;\n    }\n    const entry = sourceMap.findEntry(lineNumber, columnNumber);\n    if (!entry || !entry.sourceURL) {\n      return null;\n    }\n    const uiSourceCode = script.isContentScript() ? this._contentScriptsProject.uiSourceCodeForURL(entry.sourceURL) :\n                                                    this._regularProject.uiSourceCodeForURL(entry.sourceURL);\n    if (!uiSourceCode) {\n      return null;\n    }\n    return uiSourceCode.uiLocation(\n        /** @type {number} */ (entry.sourceLineNumber), /** @type {number} */ (entry.sourceColumnNumber));\n  }\n\n  /**\n   * @override\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   * @param {number} lineNumber\n   * @param {number} columnNumber\n   * @return {!Array<!SDK.DebuggerModel.Location>}\n   */\n  uiLocationToRawLocations(uiSourceCode, lineNumber, columnNumber) {\n    const sourceMap = uiSourceCodeToSourceMap.get(uiSourceCode);\n    if (!sourceMap) {\n      return [];\n    }\n    const scripts = this._sourceMapManager.clientsForSourceMap(sourceMap);\n    if (!scripts.length) {\n      return [];\n    }\n    const entry = sourceMap.sourceLineMapping(uiSourceCode.url(), lineNumber, columnNumber);\n    if (!entry) {\n      return [];\n    }\n    return scripts.map(\n        script => this._debuggerModel.createRawLocation(\n            script, entry.lineNumber + script.lineOffset,\n            !entry.lineNumber ? entry.columnNumber + script.columnOffset : entry.columnNumber));\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  async _sourceMapWillAttach(event) {\n    const script = /** @type {!SDK.Script.Script} */ (event.data);\n    // Create stub UISourceCode for the time source mapping is being loaded.\n    this._addStubUISourceCode(script);\n    await this._debuggerWorkspaceBinding.updateLocations(script);\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  async _sourceMapFailedToAttach(event) {\n    const script = /** @type {!SDK.Script.Script} */ (event.data);\n    await this._removeStubUISourceCode(script);\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  async _sourceMapAttached(event) {\n    const script = /** @type {!SDK.Script.Script} */ (event.data.client);\n    const sourceMap = /** @type {!SDK.SourceMap.SourceMap} */ (event.data.sourceMap);\n    await this._removeStubUISourceCode(script);\n\n    if (IgnoreListManager.instance().isIgnoreListedURL(script.sourceURL, script.isContentScript())) {\n      this._sourceMapAttachedForTest(sourceMap);\n      return;\n    }\n\n    await this._populateSourceMapSources(script, sourceMap);\n    this._sourceMapAttachedForTest(sourceMap);\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  async _sourceMapDetached(event) {\n    const script = /** @type {!SDK.Script.Script} */ (event.data.client);\n    const sourceMap = /** @type {!SDK.SourceMap.SourceMap} */ (event.data.sourceMap);\n    const bindings = script.isContentScript() ? this._contentScriptsBindings : this._regularBindings;\n    for (const sourceURL of sourceMap.sourceURLs()) {\n      const binding = bindings.get(sourceURL);\n      if (binding) {\n        binding.removeSourceMap(sourceMap, script.frameId);\n        if (!binding._uiSourceCode) {\n          bindings.delete(sourceURL);\n        }\n      }\n    }\n    await this._debuggerWorkspaceBinding.updateLocations(script);\n  }\n\n  /**\n   * @param {!SDK.Script.Script} script\n   * @return {?SDK.SourceMap.SourceMap}\n   */\n  sourceMapForScript(script) {\n    return this._sourceMapManager.sourceMapForClient(script);\n  }\n\n  /**\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   * @return {!Array<!SDK.Script.Script>}\n   */\n  scriptsForUISourceCode(uiSourceCode) {\n    const sourceMap = uiSourceCodeToSourceMap.get(uiSourceCode);\n    return sourceMap ? this._sourceMapManager.clientsForSourceMap(sourceMap) : [];\n  }\n\n  /**\n   * @param {?SDK.SourceMap.SourceMap} sourceMap\n   */\n  _sourceMapAttachedForTest(sourceMap) {\n  }\n\n  /**\n   * @param {!SDK.Script.Script} script\n   * @param {!SDK.SourceMap.SourceMap} sourceMap\n   */\n  async _populateSourceMapSources(script, sourceMap) {\n    const project = script.isContentScript() ? this._contentScriptsProject : this._regularProject;\n    const bindings = script.isContentScript() ? this._contentScriptsBindings : this._regularBindings;\n    for (const sourceURL of sourceMap.sourceURLs()) {\n      let binding = bindings.get(sourceURL);\n      if (!binding) {\n        binding = new Binding(project, sourceURL);\n        bindings.set(sourceURL, binding);\n      }\n      binding.addSourceMap(sourceMap, script.frameId);\n    }\n    await this._debuggerWorkspaceBinding.updateLocations(script);\n  }\n\n  /**\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   * @param {number} lineNumber\n   * @return {boolean}\n   */\n  static uiLineHasMapping(uiSourceCode, lineNumber) {\n    const sourceMap = uiSourceCodeToSourceMap.get(uiSourceCode);\n    if (!sourceMap) {\n      return true;\n    }\n    return Boolean(sourceMap.sourceLineMapping(uiSourceCode.url(), lineNumber, 0));\n  }\n\n  dispose() {\n    Common.EventTarget.EventTarget.removeEventListeners(this._eventListeners);\n    this._regularProject.dispose();\n    this._contentScriptsProject.dispose();\n    this._stubProject.dispose();\n  }\n}\n\n/** @type {!WeakMap<!Workspace.UISourceCode.UISourceCode, !SDK.SourceMap.SourceMap>} */\nconst uiSourceCodeToSourceMap = new WeakMap();\n\nclass Binding {\n  /**\n   * @param {!ContentProviderBasedProject} project\n   * @param {string} url\n   */\n  constructor(project, url) {\n    this._project = project;\n    this._url = url;\n\n    /** @type {!Array<!SDK.SourceMap.SourceMap>} */\n    this._referringSourceMaps = [];\n    /** @type {?SDK.SourceMap.SourceMap} */\n    this._activeSourceMap = null;\n    this._uiSourceCode = null;\n  }\n\n  /**\n   * @param {!Protocol.Page.FrameId} frameId\n   */\n  _recreateUISourceCodeIfNeeded(frameId) {\n    const sourceMap = this._referringSourceMaps[this._referringSourceMaps.length - 1];\n    if (!sourceMap || this._activeSourceMap === sourceMap) {\n      return;\n    }\n    this._activeSourceMap = sourceMap;\n\n    const newUISourceCode =\n        this._project.createUISourceCode(this._url, Common.ResourceType.resourceTypes.SourceMapScript);\n    uiSourceCodeToSourceMap.set(newUISourceCode, sourceMap);\n    const contentProvider =\n        sourceMap.sourceContentProvider(this._url, Common.ResourceType.resourceTypes.SourceMapScript);\n    const mimeType = Common.ResourceType.ResourceType.mimeFromURL(this._url) || 'text/javascript';\n    const embeddedContent = sourceMap.embeddedContentByURL(this._url);\n    const metadata = typeof embeddedContent === 'string' ?\n        new Workspace.UISourceCode.UISourceCodeMetadata(null, embeddedContent.length) :\n        null;\n\n    if (this._uiSourceCode) {\n      NetworkProject.cloneInitialFrameAttribution(this._uiSourceCode, newUISourceCode);\n      this._project.removeFile(this._uiSourceCode.url());\n    } else {\n      NetworkProject.setInitialFrameAttribution(newUISourceCode, frameId);\n    }\n    this._uiSourceCode = newUISourceCode;\n    this._project.addUISourceCodeWithProvider(this._uiSourceCode, contentProvider, metadata, mimeType);\n  }\n\n  /**\n   * @param {!SDK.SourceMap.SourceMap} sourceMap\n   * @param {!Protocol.Page.FrameId} frameId\n   */\n  addSourceMap(sourceMap, frameId) {\n    if (this._uiSourceCode) {\n      NetworkProject.addFrameAttribution(this._uiSourceCode, frameId);\n    }\n    this._referringSourceMaps.push(sourceMap);\n    this._recreateUISourceCodeIfNeeded(frameId);\n  }\n\n  /**\n   * @param {!SDK.SourceMap.SourceMap} sourceMap\n   * @param {!Protocol.Page.FrameId} frameId\n   */\n  removeSourceMap(sourceMap, frameId) {\n    const uiSourceCode = /** @type {!Workspace.UISourceCode.UISourceCode} */ (this._uiSourceCode);\n    NetworkProject.removeFrameAttribution(uiSourceCode, frameId);\n    const lastIndex = this._referringSourceMaps.lastIndexOf(sourceMap);\n    if (lastIndex !== -1) {\n      this._referringSourceMaps.splice(lastIndex, 1);\n    }\n    if (!this._referringSourceMaps.length) {\n      this._project.removeFile(uiSourceCode.url());\n      this._uiSourceCode = null;\n    } else {\n      this._recreateUISourceCodeIfNeeded(frameId);\n    }\n  }\n}\n"]}