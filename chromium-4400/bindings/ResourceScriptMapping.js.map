{"version":3,"file":"ResourceScriptMapping.js","sourceRoot":"","sources":["../../../../../front_end/bindings/ResourceScriptMapping.js"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2012 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../common/common.js';\nimport * as SDK from '../sdk/sdk.js';\nimport * as Workspace from '../workspace/workspace.js';\n\nimport {Breakpoint, BreakpointManager} from './BreakpointManager.js';  // eslint-disable-line no-unused-vars\nimport {ContentProviderBasedProject} from './ContentProviderBasedProject.js';\nimport {DebuggerSourceMapping, DebuggerWorkspaceBinding} from './DebuggerWorkspaceBinding.js';  // eslint-disable-line no-unused-vars\nimport {NetworkProject} from './NetworkProject.js';\nimport {metadataForURL} from './ResourceUtils.js';\n\n/**\n * @implements {DebuggerSourceMapping}\n */\nexport class ResourceScriptMapping {\n  /**\n   * @param {!SDK.DebuggerModel.DebuggerModel} debuggerModel\n   * @param {!Workspace.Workspace.WorkspaceImpl} workspace\n   * @param {!DebuggerWorkspaceBinding} debuggerWorkspaceBinding\n   */\n  constructor(debuggerModel, workspace, debuggerWorkspaceBinding) {\n    this._debuggerModel = debuggerModel;\n    this._workspace = workspace;\n    this._debuggerWorkspaceBinding = debuggerWorkspaceBinding;\n    /** @type {!Map.<!Workspace.UISourceCode.UISourceCode, !ResourceScriptFile>} */\n    this._uiSourceCodeToScriptFile = new Map();\n\n    /** @type {!Map<string, !ContentProviderBasedProject>} */\n    this._projects = new Map();\n\n    /** @type {!Set<!SDK.Script.Script>} */\n    this._acceptedScripts = new Set();\n    const runtimeModel = debuggerModel.runtimeModel();\n    this._eventListeners = [\n      this._debuggerModel.addEventListener(\n          SDK.DebuggerModel.Events.ParsedScriptSource,\n          event => {\n            this._parsedScriptSource(event);\n          },\n          this),\n      this._debuggerModel.addEventListener(\n          SDK.DebuggerModel.Events.GlobalObjectCleared, this._globalObjectCleared, this),\n      runtimeModel.addEventListener(\n          SDK.RuntimeModel.Events.ExecutionContextDestroyed, this._executionContextDestroyed, this),\n    ];\n  }\n\n  /**\n   * @param {!SDK.Script.Script} script\n   * @return {!ContentProviderBasedProject}\n   */\n  _project(script) {\n    const prefix = script.isContentScript() ? 'js:extensions:' : 'js::';\n    const projectId = prefix + this._debuggerModel.target().id() + ':' + script.frameId;\n    let project = this._projects.get(projectId);\n    if (!project) {\n      const projectType = script.isContentScript() ? Workspace.Workspace.projectTypes.ContentScripts :\n                                                     Workspace.Workspace.projectTypes.Network;\n      project = new ContentProviderBasedProject(\n          this._workspace, projectId, projectType, '' /* displayName */, false /* isServiceProject */);\n      NetworkProject.setTargetForProject(project, this._debuggerModel.target());\n      this._projects.set(projectId, project);\n    }\n    return project;\n  }\n\n  /**\n   * @override\n   * @param {!SDK.DebuggerModel.Location} rawLocation\n   * @return {?Workspace.UISourceCode.UILocation}\n   */\n  rawLocationToUILocation(rawLocation) {\n    const script = rawLocation.script();\n    if (!script) {\n      return null;\n    }\n    const project = this._project(script);\n    const uiSourceCode = project.uiSourceCodeForURL(script.sourceURL);\n    if (!uiSourceCode) {\n      return null;\n    }\n    const scriptFile = this._uiSourceCodeToScriptFile.get(uiSourceCode);\n    if (!scriptFile) {\n      return null;\n    }\n    if ((scriptFile.hasDivergedFromVM() && !scriptFile.isMergingToVM()) || scriptFile.isDivergingFromVM()) {\n      return null;\n    }\n    if (!scriptFile._hasScripts([script])) {\n      return null;\n    }\n    const lineNumber = rawLocation.lineNumber - (script.isInlineScriptWithSourceURL() ? script.lineOffset : 0);\n    let columnNumber = rawLocation.columnNumber || 0;\n    if (script.isInlineScriptWithSourceURL() && !lineNumber && columnNumber) {\n      columnNumber -= script.columnOffset;\n    }\n    return uiSourceCode.uiLocation(lineNumber, columnNumber);\n  }\n\n  /**\n   * @override\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   * @param {number} lineNumber\n   * @param {number} columnNumber\n   * @return {!Array<!SDK.DebuggerModel.Location>}\n   */\n  uiLocationToRawLocations(uiSourceCode, lineNumber, columnNumber) {\n    const scriptFile = this._uiSourceCodeToScriptFile.get(uiSourceCode);\n    if (!scriptFile || typeof scriptFile._script === 'undefined') {\n      return [];\n    }\n    const script = scriptFile._script;\n    if (script.isInlineScriptWithSourceURL()) {\n      return [this._debuggerModel.createRawLocation(\n          script, lineNumber + script.lineOffset, lineNumber ? columnNumber : columnNumber + script.columnOffset)];\n    }\n    return [this._debuggerModel.createRawLocation(script, lineNumber, columnNumber)];\n  }\n\n  /**\n   * @param {!SDK.Script.Script} script\n   * @return {boolean}\n   */\n  _acceptsScript(script) {\n    if (!script.sourceURL || script.isLiveEdit() || (script.isInlineScript() && !script.hasSourceURL)) {\n      return false;\n    }\n    // Filter out embedder injected content scripts.\n    if (script.isContentScript() && !script.hasSourceURL) {\n      const parsedURL = new Common.ParsedURL.ParsedURL(script.sourceURL);\n      if (!parsedURL.isValid) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  async _parsedScriptSource(event) {\n    const script = /** @type {!SDK.Script.Script} */ (event.data);\n    if (!this._acceptsScript(script)) {\n      return;\n    }\n    this._acceptedScripts.add(script);\n    const originalContentProvider = script.originalContentProvider();\n\n    const url = script.sourceURL;\n    const project = this._project(script);\n\n    // Remove previous UISourceCode, if any\n    const oldUISourceCode = project.uiSourceCodeForURL(url);\n    if (oldUISourceCode) {\n      const scriptFile = this._uiSourceCodeToScriptFile.get(oldUISourceCode);\n      if (scriptFile && typeof scriptFile._script !== 'undefined') {\n        await this._removeScript(scriptFile._script);\n      }\n    }\n\n    // Create UISourceCode.\n    const uiSourceCode = project.createUISourceCode(url, originalContentProvider.contentType());\n    NetworkProject.setInitialFrameAttribution(uiSourceCode, script.frameId);\n    const metadata = metadataForURL(this._debuggerModel.target(), script.frameId, url);\n\n    // Bind UISourceCode to scripts.\n    const scriptFile = new ResourceScriptFile(this, uiSourceCode, [script]);\n    this._uiSourceCodeToScriptFile.set(uiSourceCode, scriptFile);\n\n    const mimeType = script.isWasm() ? 'application/wasm' : 'text/javascript';\n    project.addUISourceCodeWithProvider(uiSourceCode, originalContentProvider, metadata, mimeType);\n    await this._debuggerWorkspaceBinding.updateLocations(script);\n  }\n\n  /**\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   * @return {?ResourceScriptFile}\n   */\n  scriptFile(uiSourceCode) {\n    return this._uiSourceCodeToScriptFile.get(uiSourceCode) || null;\n  }\n\n  /**\n   * @param {!SDK.Script.Script} script\n   */\n  async _removeScript(script) {\n    if (!this._acceptedScripts.has(script)) {\n      return;\n    }\n    this._acceptedScripts.delete(script);\n    const project = this._project(script);\n    const uiSourceCode =\n        /** @type {!Workspace.UISourceCode.UISourceCode} */ (project.uiSourceCodeForURL(script.sourceURL));\n    const scriptFile = this._uiSourceCodeToScriptFile.get(uiSourceCode);\n    if (scriptFile) {\n      scriptFile.dispose();\n    }\n    this._uiSourceCodeToScriptFile.delete(uiSourceCode);\n    project.removeFile(script.sourceURL);\n    await this._debuggerWorkspaceBinding.updateLocations(script);\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _executionContextDestroyed(event) {\n    const executionContext = /** @type {!SDK.RuntimeModel.ExecutionContext} */ (event.data);\n    const scripts = this._debuggerModel.scriptsForExecutionContext(executionContext);\n    for (const script of scripts) {\n      this._removeScript(script);\n    }\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _globalObjectCleared(event) {\n    const scripts = Array.from(this._acceptedScripts);\n    for (const script of scripts) {\n      this._removeScript(script);\n    }\n  }\n\n  resetForTest() {\n    const scripts = Array.from(this._acceptedScripts);\n    for (const script of scripts) {\n      this._removeScript(script);\n    }\n  }\n\n  dispose() {\n    Common.EventTarget.EventTarget.removeEventListeners(this._eventListeners);\n    const scripts = Array.from(this._acceptedScripts);\n    for (const script of scripts) {\n      this._removeScript(script);\n    }\n    for (const project of this._projects.values()) {\n      project.removeProject();\n    }\n    this._projects.clear();\n  }\n}\n\nexport class ResourceScriptFile extends Common.ObjectWrapper.ObjectWrapper {\n  /**\n   * @param {!ResourceScriptMapping} resourceScriptMapping\n   * @param {!Workspace.UISourceCode.UISourceCode} uiSourceCode\n   * @param {!Array.<!SDK.Script.Script>} scripts\n   */\n  constructor(resourceScriptMapping, uiSourceCode, scripts) {\n    super();\n    console.assert(scripts.length > 0);\n\n    this._resourceScriptMapping = resourceScriptMapping;\n    this._uiSourceCode = uiSourceCode;\n\n    if (this._uiSourceCode.contentType().isScript()) {\n      this._script = scripts[scripts.length - 1];\n    }\n\n    this._uiSourceCode.addEventListener(\n        Workspace.UISourceCode.Events.WorkingCopyChanged, this._workingCopyChanged, this);\n    this._uiSourceCode.addEventListener(\n        Workspace.UISourceCode.Events.WorkingCopyCommitted, this._workingCopyCommitted, this);\n  }\n\n  /**\n   * @param {!Array.<!SDK.Script.Script>} scripts\n   * @return {boolean}\n   */\n  _hasScripts(scripts) {\n    return Boolean(this._script) && this._script === scripts[0];\n  }\n\n  /**\n   * @return {boolean}\n   */\n  _isDiverged() {\n    if (this._uiSourceCode.isDirty()) {\n      return true;\n    }\n    if (!this._script) {\n      return false;\n    }\n    if (typeof this._scriptSource === 'undefined' || this._scriptSource === null) {\n      return false;\n    }\n    const workingCopy = this._uiSourceCode.workingCopy();\n    if (!workingCopy) {\n      return false;\n    }\n\n    // Match ignoring sourceURL.\n    if (!workingCopy.startsWith(this._scriptSource.trimRight())) {\n      return true;\n    }\n    const suffix = this._uiSourceCode.workingCopy().substr(this._scriptSource.length);\n    return Boolean(suffix.length) && !suffix.match(SDK.Script.sourceURLRegex);\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _workingCopyChanged(event) {\n    this._update();\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _workingCopyCommitted(event) {\n    if (this._uiSourceCode.project().canSetFileContent()) {\n      return;\n    }\n    if (!this._script) {\n      return;\n    }\n    const debuggerModel = this._resourceScriptMapping._debuggerModel;\n    const breakpoints = BreakpointManager.instance()\n                            .breakpointLocationsForUISourceCode(this._uiSourceCode)\n                            .map(breakpointLocation => breakpointLocation.breakpoint);\n    const source = this._uiSourceCode.workingCopy();\n    debuggerModel.setScriptSource(this._script.scriptId, source, (error, exceptionDetails) => {\n      this.scriptSourceWasSet(source, breakpoints, error, exceptionDetails);\n    });\n  }\n\n  /**\n   * @param {string} source\n   * @param {!Array<!Breakpoint>} breakpoints\n   * @param {?string} error\n   * @param {!Protocol.Runtime.ExceptionDetails=} exceptionDetails\n   */\n  async scriptSourceWasSet(source, breakpoints, error, exceptionDetails) {\n    if (!error && !exceptionDetails) {\n      this._scriptSource = source;\n    }\n    await this._update();\n\n    if (!error && !exceptionDetails) {\n      // Live edit can cause breakpoints to be in the wrong position, or to be lost altogether.\n      // If any breakpoints were in the pre-live edit script, they need to be re-added.\n      await Promise.all(breakpoints.map(breakpoint => breakpoint.refreshInDebugger()));\n      return;\n    }\n    if (!exceptionDetails) {\n      Common.Console.Console.instance().addMessage(\n          Common.UIString.UIString('LiveEdit failed: %s', error), Common.Console.MessageLevel.Warning);\n      return;\n    }\n    const messageText = Common.UIString.UIString('LiveEdit compile failed: %s', exceptionDetails.text);\n    this._uiSourceCode.addLineMessage(\n        Workspace.UISourceCode.Message.Level.Error, messageText, exceptionDetails.lineNumber,\n        exceptionDetails.columnNumber);\n  }\n\n  async _update() {\n    if (this._isDiverged() && !this._hasDivergedFromVM) {\n      await this._divergeFromVM();\n    } else if (!this._isDiverged() && this._hasDivergedFromVM) {\n      await this._mergeToVM();\n    }\n  }\n\n  async _divergeFromVM() {\n    if (this._script) {\n      this._isDivergingFromVM = true;\n      await this._resourceScriptMapping._debuggerWorkspaceBinding.updateLocations(this._script);\n      delete this._isDivergingFromVM;\n      this._hasDivergedFromVM = true;\n      this.dispatchEventToListeners(ResourceScriptFile.Events.DidDivergeFromVM, this._uiSourceCode);\n    }\n  }\n\n  async _mergeToVM() {\n    if (this._script) {\n      delete this._hasDivergedFromVM;\n      this._isMergingToVM = true;\n      await this._resourceScriptMapping._debuggerWorkspaceBinding.updateLocations(this._script);\n      delete this._isMergingToVM;\n      this.dispatchEventToListeners(ResourceScriptFile.Events.DidMergeToVM, this._uiSourceCode);\n    }\n  }\n\n  /**\n   * @return {boolean}\n   */\n  hasDivergedFromVM() {\n    return Boolean(this._hasDivergedFromVM);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isDivergingFromVM() {\n    return Boolean(this._isDivergingFromVM);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isMergingToVM() {\n    return Boolean(this._isMergingToVM);\n  }\n\n  checkMapping() {\n    if (!this._script || typeof this._scriptSource !== 'undefined') {\n      this._mappingCheckedForTest();\n      return;\n    }\n    this._script.requestContent().then(deferredContent => {\n      this._scriptSource = deferredContent.content;\n      this._update().then(() => this._mappingCheckedForTest());\n    });\n  }\n\n  _mappingCheckedForTest() {\n  }\n\n  dispose() {\n    this._uiSourceCode.removeEventListener(\n        Workspace.UISourceCode.Events.WorkingCopyChanged, this._workingCopyChanged, this);\n    this._uiSourceCode.removeEventListener(\n        Workspace.UISourceCode.Events.WorkingCopyCommitted, this._workingCopyCommitted, this);\n  }\n\n  /**\n   * @param {string} sourceMapURL\n   */\n  addSourceMapURL(sourceMapURL) {\n    if (!this._script) {\n      return;\n    }\n    this._script.debuggerModel.setSourceMapURL(this._script, sourceMapURL);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  hasSourceMapURL() {\n    return this._script !== undefined && Boolean(this._script.sourceMapURL);\n  }\n\n  /**\n   * @return {?SDK.Script.Script}\n   */\n  get script() {\n    return this._script || null;\n  }\n\n  /**\n   * @return {!Workspace.UISourceCode.UISourceCode}\n   */\n  get uiSourceCode() {\n    return this._uiSourceCode;\n  }\n}\n\n/** @enum {symbol} */\nResourceScriptFile.Events = {\n  DidMergeToVM: Symbol('DidMergeToVM'),\n  DidDivergeFromVM: Symbol('DidDivergeFromVM'),\n};\n"]}