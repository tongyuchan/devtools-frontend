{"version":3,"file":"FilmStripView.js","sourceRoot":"","sources":["../../../../../front_end/perf_ui/FilmStripView.js"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2015 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Host from '../host/host.js';\nimport * as i18n from '../i18n/i18n.js';\nimport * as Platform from '../platform/platform.js';\nimport * as SDK from '../sdk/sdk.js';  // eslint-disable-line no-unused-vars\nimport * as UI from '../ui/ui.js';\n\nexport const UIStrings = {\n  /**\n  *@description Element title in Film Strip View of the Performance panel\n  */\n  doubleclickToZoomImageClickTo: 'Doubleclick to zoom image. Click to view preceding requests.',\n  /**\n  *@description Aria label for captured screenshots in network panel.\n  *@example {3ms} PH1\n  */\n  screenshotForSSelectToView: 'Screenshot for {PH1} - select to view preceding requests.',\n  /**\n  *@description Text for one or a group of screenshots\n  */\n  screenshot: 'Screenshot',\n  /**\n  *@description Prev button title in Film Strip View of the Performance panel\n  */\n  previousFrame: 'Previous frame',\n  /**\n  *@description Next button title in Film Strip View of the Performance panel\n  */\n  nextFrame: 'Next frame',\n};\nconst str_ = i18n.i18n.registerUIStrings('perf_ui/FilmStripView.js', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class FilmStripView extends UI.Widget.HBox {\n  constructor() {\n    super(true);\n    this.registerRequiredCSS('perf_ui/filmStripView.css', {enableLegacyPatching: true});\n    this.contentElement.classList.add('film-strip-view');\n    this._statusLabel = this.contentElement.createChild('div', 'label');\n    this.reset();\n    this.setMode(Modes.TimeBased);\n\n    /** @type {number} */\n    this._zeroTime;\n\n    /** @type {number} */\n    this._spanTime;\n\n    /** @type {!SDK.FilmStripModel.FilmStripModel} */\n    this._model;\n  }\n\n  /**\n   * @param {!HTMLImageElement} imageElement\n   * @param {?string} data\n   */\n  static _setImageData(imageElement, data) {\n    if (data) {\n      imageElement.src = 'data:image/jpg;base64,' + data;\n    }\n  }\n\n  /**\n   * @param {string} mode\n   */\n  setMode(mode) {\n    this._mode = mode;\n    this.contentElement.classList.toggle('time-based', mode === Modes.TimeBased);\n    this.update();\n  }\n\n  /**\n   * @param {!SDK.FilmStripModel.FilmStripModel} filmStripModel\n   * @param {number} zeroTime\n   * @param {number} spanTime\n   */\n  setModel(filmStripModel, zeroTime, spanTime) {\n    this._model = filmStripModel;\n    this._zeroTime = zeroTime;\n    this._spanTime = spanTime;\n    const frames = filmStripModel.frames();\n    if (!frames.length) {\n      this.reset();\n      return;\n    }\n    this.update();\n  }\n\n  /**\n   * @param {!SDK.FilmStripModel.Frame} frame\n   * @return {!Promise<!Element>}\n   */\n  createFrameElement(frame) {\n    const time = frame.timestamp;\n    const frameTime = Number.millisToString(time - this._zeroTime);\n    const element = document.createElement('div');\n    element.classList.add('frame');\n    UI.Tooltip.Tooltip.install(element, i18nString(UIStrings.doubleclickToZoomImageClickTo));\n    element.createChild('div', 'time').textContent = frameTime;\n    element.tabIndex = 0;\n    element.setAttribute('aria-label', i18nString(UIStrings.screenshotForSSelectToView, {PH1: frameTime}));\n    UI.ARIAUtils.markAsButton(element);\n    const imageElement = /** @type {!HTMLImageElement} */ (element.createChild('div', 'thumbnail').createChild('img'));\n    imageElement.alt = i18nString(UIStrings.screenshot);\n    element.addEventListener('mousedown', this._onMouseEvent.bind(this, Events.FrameSelected, time), false);\n    element.addEventListener('mouseenter', this._onMouseEvent.bind(this, Events.FrameEnter, time), false);\n    element.addEventListener('mouseout', this._onMouseEvent.bind(this, Events.FrameExit, time), false);\n    element.addEventListener('dblclick', this._onDoubleClick.bind(this, frame), false);\n    element.addEventListener('focusin', this._onMouseEvent.bind(this, Events.FrameEnter, time), false);\n    element.addEventListener('focusout', this._onMouseEvent.bind(this, Events.FrameExit, time), false);\n    element.addEventListener('keydown', event => {\n      if (event.code === 'Enter' || event.code === 'Space') {\n        this._onMouseEvent(Events.FrameSelected, time);\n      }\n    });\n\n    return frame.imageDataPromise().then(FilmStripView._setImageData.bind(null, imageElement)).then(returnElement);\n    /**\n     * @return {!Element}\n     */\n    function returnElement() {\n      return element;\n    }\n  }\n\n  /**\n   * @param {number} time\n   * @return {!SDK.FilmStripModel.Frame}\n   */\n  frameByTime(time) {\n    /**\n     * @param {number} time\n     * @param {!SDK.FilmStripModel.Frame} frame\n     * @return {number}\n     */\n    function comparator(time, frame) {\n      return time - frame.timestamp;\n    }\n    // Using the first frame to fill the interval between recording start\n    // and a moment the frame is taken.\n    const frames = this._model.frames();\n    const index = Math.max(Platform.ArrayUtilities.upperBound(frames, time, comparator) - 1, 0);\n    return frames[index];\n  }\n\n  update() {\n    if (!this._model) {\n      return;\n    }\n    const frames = this._model.frames();\n    if (!frames.length) {\n      return;\n    }\n\n    if (this._mode === Modes.FrameBased) {\n      Promise.all(frames.map(this.createFrameElement.bind(this))).then(appendElements.bind(this));\n      return;\n    }\n\n    const width = this.contentElement.clientWidth;\n    const scale = this._spanTime / width;\n    this.createFrameElement(frames[0]).then(\n        continueWhenFrameImageLoaded.bind(this));  // Calculate frame width basing on the first frame.\n\n    /**\n     * @this {FilmStripView}\n     * @param {!Element} element0\n     */\n    function continueWhenFrameImageLoaded(element0) {\n      const frameWidth = Math.ceil(UI.UIUtils.measurePreferredSize(element0, this.contentElement).width);\n      if (!frameWidth) {\n        return;\n      }\n\n      const promises = [];\n      for (let pos = frameWidth; pos < width; pos += frameWidth) {\n        const time = pos * scale + this._zeroTime;\n        promises.push(this.createFrameElement(this.frameByTime(time)).then(fixWidth));\n      }\n      Promise.all(promises).then(appendElements.bind(this));\n      /**\n       * @param {!Element} element\n       * @return {!Element}\n       */\n      function fixWidth(element) {\n        /** @type {!HTMLElement} */ (element).style.width = frameWidth + 'px';\n        return element;\n      }\n    }\n\n    /**\n     * @param {!Array.<!Element>} elements\n     * @this {FilmStripView}\n     */\n    function appendElements(elements) {\n      this.contentElement.removeChildren();\n      for (let i = 0; i < elements.length; ++i) {\n        this.contentElement.appendChild(elements[i]);\n      }\n    }\n  }\n\n  /**\n   * @override\n   */\n  onResize() {\n    if (this._mode === Modes.FrameBased) {\n      return;\n    }\n    this.update();\n  }\n\n  /**\n   * @param {string|symbol} eventName\n   * @param {number} timestamp\n   */\n  _onMouseEvent(eventName, timestamp) {\n    this.dispatchEventToListeners(eventName, timestamp);\n  }\n\n  /**\n   * @param {!SDK.FilmStripModel.Frame} filmStripFrame\n   */\n  _onDoubleClick(filmStripFrame) {\n    new Dialog(filmStripFrame, this._zeroTime);\n  }\n\n  reset() {\n    this._zeroTime = 0;\n    this.contentElement.removeChildren();\n    this.contentElement.appendChild(this._statusLabel);\n  }\n\n  /**\n   * @param {string} text\n   */\n  setStatusText(text) {\n    this._statusLabel.textContent = text;\n  }\n}\n\n/** @enum {symbol} */\nexport const Events = {\n  FrameSelected: Symbol('FrameSelected'),\n  FrameEnter: Symbol('FrameEnter'),\n  FrameExit: Symbol('FrameExit'),\n};\n\nexport const Modes = {\n  TimeBased: 'TimeBased',\n  FrameBased: 'FrameBased'\n};\n\nexport class Dialog {\n  /**\n   * @param {!SDK.FilmStripModel.Frame} filmStripFrame\n   * @param {number=} zeroTime\n   */\n  constructor(filmStripFrame, zeroTime) {\n    const prevButton = UI.UIUtils.createTextButton('\\u25C0', this._onPrevFrame.bind(this));\n    UI.Tooltip.Tooltip.install(prevButton, i18nString(UIStrings.previousFrame));\n    const nextButton = UI.UIUtils.createTextButton('\\u25B6', this._onNextFrame.bind(this));\n    UI.Tooltip.Tooltip.install(nextButton, i18nString(UIStrings.nextFrame));\n\n    this._fragment = UI.Fragment.Fragment.build`\n      <x-widget flex=none margin=12px>\n        <x-hbox overflow=auto border='1px solid #ddd'>\n          <img $=image style=\"max-height: 80vh; max-width: 80vw\"></img>\n        </x-hbox>\n        <x-hbox x-center justify-content=center margin-top=10px>\n          ${prevButton}\n          <x-hbox $=time margin=8px></x-hbox>\n          ${nextButton}\n        </x-hbox>\n      </x-widget>\n    `;\n\n    this._widget = /** @type {!UI.XWidget.XWidget} */ (this._fragment.element());\n    /** @type {!HTMLElement} */ (this._widget).tabIndex = 0;\n    this._widget.addEventListener('keydown', this._keyDown.bind(this), false);\n\n    this._frames = filmStripFrame.model().frames();\n    this._index = filmStripFrame.index;\n    this._zeroTime = zeroTime || filmStripFrame.model().zeroTime();\n    /** @type {?UI.Dialog.Dialog} */\n    this._dialog = null;\n    this._render();\n  }\n\n  _resize() {\n    if (!this._dialog) {\n      this._dialog = new UI.Dialog.Dialog();\n      this._dialog.contentElement.appendChild(this._widget);\n      this._dialog.setDefaultFocusedElement(this._widget);\n      // Dialog can take an undefined `where` param for show(), however its superclass (GlassPane)\n      // requires a Document. TypeScript is unhappy that show() is not given a parameter here,\n      // however, so marking it as an ignore.\n      // @ts-ignore See above.\n      this._dialog.show();\n    }\n    this._dialog.setSizeBehavior(UI.GlassPane.SizeBehavior.MeasureContent);\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _keyDown(event) {\n    const keyboardEvent = /** @type {!KeyboardEvent} */ (event);\n    switch (keyboardEvent.key) {\n      case 'ArrowLeft':\n        if (Host.Platform.isMac() && keyboardEvent.metaKey) {\n          this._onFirstFrame();\n        } else {\n          this._onPrevFrame();\n        }\n        break;\n\n      case 'ArrowRight':\n        if (Host.Platform.isMac() && keyboardEvent.metaKey) {\n          this._onLastFrame();\n        } else {\n          this._onNextFrame();\n        }\n        break;\n\n      case 'Home':\n        this._onFirstFrame();\n        break;\n\n      case 'End':\n        this._onLastFrame();\n        break;\n    }\n  }\n\n  _onPrevFrame() {\n    if (this._index > 0) {\n      --this._index;\n    }\n    this._render();\n  }\n\n  _onNextFrame() {\n    if (this._index < this._frames.length - 1) {\n      ++this._index;\n    }\n    this._render();\n  }\n\n  _onFirstFrame() {\n    this._index = 0;\n    this._render();\n  }\n\n  _onLastFrame() {\n    this._index = this._frames.length - 1;\n    this._render();\n  }\n\n  /**\n   * @return {!Promise<void>}\n   */\n  _render() {\n    const frame = this._frames[this._index];\n    this._fragment.$('time').textContent = Number.millisToString(frame.timestamp - this._zeroTime);\n    return frame.imageDataPromise()\n        .then(() => {\n          const image = /** @type {!HTMLImageElement} */ (this._fragment.$('image'));\n          return FilmStripView._setImageData(image, null);\n        })\n        .then(this._resize.bind(this));\n  }\n}\n"]}