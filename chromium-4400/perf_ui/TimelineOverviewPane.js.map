{"version":3,"file":"TimelineOverviewPane.js","sourceRoot":"","sources":["../../../../../front_end/perf_ui/TimelineOverviewPane.js"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2013 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../common/common.js';\nimport * as SDK from '../sdk/sdk.js';  // eslint-disable-line no-unused-vars\nimport * as UI from '../ui/ui.js';\n\nimport {Events as OverviewGridEvents, OverviewGrid} from './OverviewGrid.js';\nimport {Calculator} from './TimelineGrid.js';  // eslint-disable-line no-unused-vars\n\nexport class TimelineOverviewPane extends UI.Widget.VBox {\n  /**\n   * @param {string} prefix\n   */\n  constructor(prefix) {\n    super();\n    this.element.id = prefix + '-overview-pane';\n\n    this._overviewCalculator = new TimelineOverviewCalculator();\n    this._overviewGrid = new OverviewGrid(prefix, this._overviewCalculator);\n    this.element.appendChild(this._overviewGrid.element);\n    this._cursorArea = this._overviewGrid.element.createChild('div', 'overview-grid-cursor-area');\n    this._cursorElement = this._overviewGrid.element.createChild('div', 'overview-grid-cursor-position');\n    this._cursorArea.addEventListener('mousemove', this._onMouseMove.bind(this), true);\n    this._cursorArea.addEventListener('mouseleave', this._hideCursor.bind(this), true);\n\n    this._overviewGrid.setResizeEnabled(false);\n    this._overviewGrid.addEventListener(OverviewGridEvents.WindowChanged, this._onWindowChanged, this);\n    this._overviewGrid.setClickHandler(this._onClick.bind(this));\n    /** @type {!Array.<!TimelineOverview>} */\n    this._overviewControls = [];\n    this._markers = new Map();\n\n    this._overviewInfo = new OverviewInfo(this._cursorElement);\n    this._updateThrottler = new Common.Throttler.Throttler(100);\n\n    this._cursorEnabled = false;\n    this._cursorPosition = 0;\n    this._lastWidth = 0;\n\n    this._windowStartTime = 0;\n    this._windowEndTime = Infinity;\n    this._muteOnWindowChanged = false;\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _onMouseMove(event) {\n    if (!this._cursorEnabled) {\n      return;\n    }\n    const mouseEvent = /** @type {!MouseEvent} */ (event);\n    const target = /** @type {!HTMLElement} */ (event.target);\n    this._cursorPosition = mouseEvent.offsetX + target.offsetLeft;\n    this._cursorElement.style.left = this._cursorPosition + 'px';\n    this._cursorElement.style.visibility = 'visible';\n    this._overviewInfo.setContent(this._buildOverviewInfo());\n  }\n\n  /**\n   * @return {!Promise<!DocumentFragment>}\n   */\n  async _buildOverviewInfo() {\n    const document = this.element.ownerDocument;\n    const x = this._cursorPosition;\n    const elements = await Promise.all(this._overviewControls.map(control => control.overviewInfoPromise(x)));\n    const fragment = document.createDocumentFragment();\n    const nonNullElements = /** @type {!Array.<!Element>} */ (elements.filter(element => element !== null));\n    fragment.append(...nonNullElements);\n    return fragment;\n  }\n\n  _hideCursor() {\n    this._cursorElement.style.visibility = 'hidden';\n    this._overviewInfo.hide();\n  }\n\n  /**\n   * @override\n   */\n  wasShown() {\n    this._update();\n  }\n\n  /**\n   * @override\n   */\n  willHide() {\n    this._overviewInfo.hide();\n  }\n\n  /**\n   * @override\n   */\n  onResize() {\n    const width = this.element.offsetWidth;\n    if (width === this._lastWidth) {\n      return;\n    }\n    this._lastWidth = width;\n    this.scheduleUpdate();\n  }\n\n  /**\n   * @param {!Array.<!TimelineOverview>} overviewControls\n   */\n  setOverviewControls(overviewControls) {\n    for (let i = 0; i < this._overviewControls.length; ++i) {\n      this._overviewControls[i].dispose();\n    }\n\n    for (let i = 0; i < overviewControls.length; ++i) {\n      overviewControls[i].setCalculator(this._overviewCalculator);\n      overviewControls[i].show(this._overviewGrid.element);\n    }\n    this._overviewControls = overviewControls;\n    this._update();\n  }\n\n  /**\n   * @param {number} minimumBoundary\n   * @param {number} maximumBoundary\n   */\n  setBounds(minimumBoundary, maximumBoundary) {\n    this._overviewCalculator.setBounds(minimumBoundary, maximumBoundary);\n    this._overviewGrid.setResizeEnabled(true);\n    this._cursorEnabled = true;\n  }\n\n  /**\n   * @param {!Map<string, !SDK.TracingModel.Event>} navStartTimes\n   */\n  setNavStartTimes(navStartTimes) {\n    this._overviewCalculator.setNavStartTimes(navStartTimes);\n  }\n\n  scheduleUpdate() {\n    this._updateThrottler.schedule(async () => {\n      this._update();\n    });\n  }\n\n  _update() {\n    if (!this.isShowing()) {\n      return;\n    }\n    this._overviewCalculator.setDisplayWidth(this._overviewGrid.clientWidth());\n    for (let i = 0; i < this._overviewControls.length; ++i) {\n      this._overviewControls[i].update();\n    }\n    this._overviewGrid.updateDividers(this._overviewCalculator);\n    this._updateMarkers();\n    this._updateWindow();\n  }\n\n  /**\n   * @param {!Map<number, !Element>} markers\n   */\n  setMarkers(markers) {\n    this._markers = markers;\n  }\n\n  _updateMarkers() {\n    const filteredMarkers = new Map();\n    for (const time of this._markers.keys()) {\n      const marker = this._markers.get(time);\n      const position = Math.round(this._overviewCalculator.computePosition(time));\n      // Limit the number of markers to one per pixel.\n      if (filteredMarkers.has(position)) {\n        continue;\n      }\n      filteredMarkers.set(position, marker);\n      marker.style.left = position + 'px';\n    }\n    this._overviewGrid.removeEventDividers();\n    this._overviewGrid.addEventDividers([...filteredMarkers.values()]);\n  }\n\n  reset() {\n    this._windowStartTime = 0;\n    this._windowEndTime = Infinity;\n    this._overviewCalculator.reset();\n    this._overviewGrid.reset();\n    this._overviewGrid.setResizeEnabled(false);\n    this._cursorEnabled = false;\n    this._hideCursor();\n    this._markers = new Map();\n    for (const control of this._overviewControls) {\n      control.reset();\n    }\n    this._overviewInfo.hide();\n    this.scheduleUpdate();\n  }\n\n  /**\n   * @param {!Event} event\n   * @return {boolean}\n   */\n  _onClick(event) {\n    return this._overviewControls.some(control => control.onClick(event));\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _onWindowChanged(event) {\n    if (this._muteOnWindowChanged) {\n      return;\n    }\n    // Always use first control as a time converter.\n    if (!this._overviewControls.length) {\n      return;\n    }\n\n    this._windowStartTime = event.data.rawStartValue;\n    this._windowEndTime = event.data.rawEndValue;\n    const windowTimes = {startTime: this._windowStartTime, endTime: this._windowEndTime};\n\n    this.dispatchEventToListeners(Events.WindowChanged, windowTimes);\n  }\n\n  /**\n   * @param {number} startTime\n   * @param {number} endTime\n   */\n  setWindowTimes(startTime, endTime) {\n    if (startTime === this._windowStartTime && endTime === this._windowEndTime) {\n      return;\n    }\n    this._windowStartTime = startTime;\n    this._windowEndTime = endTime;\n    this._updateWindow();\n    this.dispatchEventToListeners(Events.WindowChanged, {startTime: startTime, endTime: endTime});\n  }\n\n  _updateWindow() {\n    if (!this._overviewControls.length) {\n      return;\n    }\n    const absoluteMin = this._overviewCalculator.minimumBoundary();\n    const timeSpan = this._overviewCalculator.maximumBoundary() - absoluteMin;\n    const haveRecords = absoluteMin > 0;\n    const left =\n        haveRecords && this._windowStartTime ? Math.min((this._windowStartTime - absoluteMin) / timeSpan, 1) : 0;\n    const right = haveRecords && this._windowEndTime < Infinity ? (this._windowEndTime - absoluteMin) / timeSpan : 1;\n    this._muteOnWindowChanged = true;\n    this._overviewGrid.setWindow(left, right);\n    this._muteOnWindowChanged = false;\n  }\n}\n\n/** @enum {symbol} */\nexport const Events = {\n  WindowChanged: Symbol('WindowChanged')\n};\n\n/**\n * @implements {Calculator}\n */\nexport class TimelineOverviewCalculator {\n  constructor() {\n    this.reset();\n\n    /** @type {number} */\n    this._minimumBoundary;\n    /** @type {number} */\n    this._maximumBoundary;\n    /** @type {number} */\n    this._workingArea;\n  }\n\n  /**\n   * @override\n   * @param {number} time\n   * @return {number}\n   */\n  computePosition(time) {\n    return (time - this._minimumBoundary) / this.boundarySpan() * this._workingArea;\n  }\n\n  /**\n   * @param {number} position\n   * @return {number}\n   */\n  positionToTime(position) {\n    return position / this._workingArea * this.boundarySpan() + this._minimumBoundary;\n  }\n\n  /**\n   * @param {number} minimumBoundary\n   * @param {number} maximumBoundary\n   */\n  setBounds(minimumBoundary, maximumBoundary) {\n    this._minimumBoundary = minimumBoundary;\n    this._maximumBoundary = maximumBoundary;\n  }\n\n  /**\n   * @param {!Map<string, !SDK.TracingModel.Event>} navStartTimes\n   */\n  setNavStartTimes(navStartTimes) {\n    this._navStartTimes = navStartTimes;\n  }\n\n  /**\n   * @param {number} clientWidth\n   */\n  setDisplayWidth(clientWidth) {\n    this._workingArea = clientWidth;\n  }\n\n  reset() {\n    this.setBounds(0, 100);\n  }\n\n  /**\n   * @override\n   * @param {number} value\n   * @param {number=} precision\n   * @return {string}\n   */\n  formatValue(value, precision) {\n    // If there are nav start times the value needs to be remapped.\n    if (this._navStartTimes) {\n      // Find the latest possible nav start time which is considered earlier\n      // than the value passed through.\n      const navStartTimes = Array.from(this._navStartTimes.values());\n      for (let i = navStartTimes.length - 1; i >= 0; i--) {\n        if (value > navStartTimes[i].startTime) {\n          value -= (navStartTimes[i].startTime - this.zeroTime());\n          break;\n        }\n      }\n    }\n\n    return Number.preciseMillisToString(value - this.zeroTime(), precision);\n  }\n\n  /**\n   * @override\n   * @return {number}\n   */\n  maximumBoundary() {\n    return this._maximumBoundary;\n  }\n\n  /**\n   * @override\n   * @return {number}\n   */\n  minimumBoundary() {\n    return this._minimumBoundary;\n  }\n\n  /**\n   * @override\n   * @return {number}\n   */\n  zeroTime() {\n    return this._minimumBoundary;\n  }\n\n  /**\n   * @override\n   * @return {number}\n   */\n  boundarySpan() {\n    return this._maximumBoundary - this._minimumBoundary;\n  }\n}\n\n/**\n * @interface\n */\nexport class TimelineOverview {\n  /**\n   * @param {!Element} parentElement\n   * @param {?Element=} insertBefore\n   */\n  show(parentElement, insertBefore) {\n  }\n\n  update() {\n  }\n\n  dispose() {\n  }\n\n  reset() {\n  }\n\n  /**\n   * @param {number} x\n   * @return {!Promise<?Element>}\n   */\n  overviewInfoPromise(x) {\n    throw new Error('Not implemented');\n  }\n\n  /**\n   * @param {!Event} event\n   * @return {boolean}\n   */\n  onClick(event) {\n    throw new Error('Not implemented');\n  }\n\n  /**\n   * @param {!TimelineOverviewCalculator} calculator\n   */\n  setCalculator(calculator) {\n  }\n}\n\n/**\n * @implements {TimelineOverview}\n */\nexport class TimelineOverviewBase extends UI.Widget.VBox {\n  constructor() {\n    super();\n    /** @type {?TimelineOverviewCalculator} */\n    this._calculator = null;\n    /** @type {!HTMLCanvasElement} */\n    this._canvas = /** @type {!HTMLCanvasElement} */ (this.element.createChild('canvas', 'fill'));\n    this._context = this._canvas.getContext('2d');\n  }\n\n  /** @return {number} */\n  width() {\n    return this._canvas.width;\n  }\n\n  /** @return {number} */\n  height() {\n    return this._canvas.height;\n  }\n\n  /** @return {!CanvasRenderingContext2D} */\n  context() {\n    if (!this._context) {\n      throw new Error('Unable to retrieve canvas context');\n    }\n    return /** @type {!CanvasRenderingContext2D} */ (this._context);\n  }\n\n  /**\n   * @protected\n   * @return {?TimelineOverviewCalculator}\n   */\n  calculator() {\n    return this._calculator;\n  }\n\n  /**\n   * @override\n   */\n  update() {\n    this.resetCanvas();\n  }\n\n  /**\n   * @override\n   */\n  dispose() {\n    this.detach();\n  }\n\n  /**\n   * @override\n   */\n  reset() {\n  }\n\n  /**\n   * @override\n   * @param {number} x\n   * @return {!Promise<?Element>}\n   */\n  overviewInfoPromise(x) {\n    return Promise.resolve(/** @type {?Element} */ (null));\n  }\n\n  /**\n   * @override\n   * @param {!TimelineOverviewCalculator} calculator\n   */\n  setCalculator(calculator) {\n    this._calculator = calculator;\n  }\n\n  /**\n   * @override\n   * @param {!Event} event\n   * @return {boolean}\n   */\n  onClick(event) {\n    return false;\n  }\n\n  resetCanvas() {\n    if (this.element.clientWidth) {\n      this.setCanvasSize(this.element.clientWidth, this.element.clientHeight);\n    }\n  }\n\n  /**\n   * @param {number} width\n   * @param {number} height\n   */\n  setCanvasSize(width, height) {\n    this._canvas.width = width * window.devicePixelRatio;\n    this._canvas.height = height * window.devicePixelRatio;\n  }\n}\n\nexport class OverviewInfo {\n  /**\n   * @param {!Element} anchor\n   */\n  constructor(anchor) {\n    this._anchorElement = anchor;\n    this._glassPane = new UI.GlassPane.GlassPane();\n    this._glassPane.setPointerEventsBehavior(UI.GlassPane.PointerEventsBehavior.PierceContents);\n    this._glassPane.setMarginBehavior(UI.GlassPane.MarginBehavior.Arrow);\n    this._glassPane.setSizeBehavior(UI.GlassPane.SizeBehavior.MeasureContent);\n    this._visible = false;\n    this._element =\n        UI.Utils\n            .createShadowRootWithCoreStyles(\n                this._glassPane.contentElement,\n                {cssFile: 'perf_ui/timelineOverviewInfo.css', enableLegacyPatching: false, delegatesFocus: undefined})\n            .createChild('div', 'overview-info');\n  }\n\n  /**\n   * @param {!Promise<!DocumentFragment>} contentPromise\n   */\n  async setContent(contentPromise) {\n    this._visible = true;\n    const content = await contentPromise;\n    if (!this._visible) {\n      return;\n    }\n    this._element.removeChildren();\n    this._element.appendChild(content);\n    this._glassPane.setContentAnchorBox(this._anchorElement.boxInWindow());\n    if (!this._glassPane.isShowing()) {\n      this._glassPane.show(/** @type {!Document} */ (this._anchorElement.ownerDocument));\n    }\n  }\n\n  hide() {\n    this._visible = false;\n    this._glassPane.hide();\n  }\n}\n"]}