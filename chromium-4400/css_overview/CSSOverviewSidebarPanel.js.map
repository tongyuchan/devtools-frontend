{"version":3,"file":"CSSOverviewSidebarPanel.js","sourceRoot":"","sources":["../../../../../front_end/css_overview/CSSOverviewSidebarPanel.js"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2019 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../i18n/i18n.js';\nimport * as UI from '../ui/ui.js';\n\nexport const UIStrings = {\n  /**\n  *@description Label for the 'Clear overview' button in the CSS Overview report\n  */\n  clearOverview: 'Clear overview',\n};\nconst str_ = i18n.i18n.registerUIStrings('css_overview/CSSOverviewSidebarPanel.js', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class CSSOverviewSidebarPanel extends UI.Widget.VBox {\n  static get ITEM_CLASS_NAME() {\n    return 'overview-sidebar-panel-item';\n  }\n\n  static get SELECTED() {\n    return 'selected';\n  }\n\n  constructor() {\n    super(true);\n\n    this.registerRequiredCSS('css_overview/cssOverviewSidebarPanel.css', {enableLegacyPatching: false});\n    this.contentElement.classList.add('overview-sidebar-panel');\n    this.contentElement.addEventListener('click', this._onItemClick.bind(this));\n\n    // Clear overview.\n    const clearResultsButton = new UI.Toolbar.ToolbarButton(i18nString(UIStrings.clearOverview), 'largeicon-clear');\n    clearResultsButton.addEventListener(UI.Toolbar.ToolbarButton.Events.Click, this._reset, this);\n\n    // Toolbar.\n    const toolbarElement = this.contentElement.createChild('div', 'overview-toolbar');\n    const toolbar = new UI.Toolbar.Toolbar('', toolbarElement);\n    toolbar.appendToolbarItem(clearResultsButton);\n  }\n\n\n  /**\n   * @param {string} name\n   * @param {string} id\n   */\n  addItem(name, id) {\n    const item = this.contentElement.createChild('div', CSSOverviewSidebarPanel.ITEM_CLASS_NAME);\n    item.textContent = name;\n    item.dataset.id = id;\n  }\n\n  _reset() {\n    this.dispatchEventToListeners(SidebarEvents.Reset);\n  }\n\n  _deselectAllItems() {\n    const items = this.contentElement.querySelectorAll(`.${CSSOverviewSidebarPanel.ITEM_CLASS_NAME}`);\n    items.forEach(item => {\n      item.classList.remove(CSSOverviewSidebarPanel.SELECTED);\n    });\n  }\n\n  /** @param {!Event} event */\n  _onItemClick(event) {\n    const target = /** @type {!HTMLElement} */ (event.composedPath()[0]);\n    if (!target.classList.contains(CSSOverviewSidebarPanel.ITEM_CLASS_NAME)) {\n      return;\n    }\n\n    const {id} = target.dataset;\n    if (!id) {\n      return;\n    }\n    this.select(id);\n    this.dispatchEventToListeners(SidebarEvents.ItemSelected, id);\n  }\n\n  /**\n   * @param {string} id\n   */\n  select(id) {\n    const target = this.contentElement.querySelector(`[data-id=${CSS.escape(id)}]`);\n    if (!target) {\n      return;\n    }\n\n    if (target.classList.contains(CSSOverviewSidebarPanel.SELECTED)) {\n      return;\n    }\n\n    this._deselectAllItems();\n    target.classList.add(CSSOverviewSidebarPanel.SELECTED);\n  }\n}\n\nexport const SidebarEvents = {\n  ItemSelected: Symbol('ItemSelected'),\n  Reset: Symbol('Reset')\n};\n"]}