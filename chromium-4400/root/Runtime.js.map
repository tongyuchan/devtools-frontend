{"version":3,"file":"Runtime.js","sourceRoot":"","sources":["../../../../../front_end/root/Runtime.js"],"names":[],"mappings":"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","sourcesContent":["\n// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Platform from '../platform/platform.js';  // eslint-disable-line no-unused-vars\n\nconst originalConsole = console;\nconst originalAssert = console.assert;\n\n/** @type {!URLSearchParams} */\nconst queryParamsObject = new URLSearchParams(location.search);\n\n// The following variable are initialized all the way at the bottom of this file\n/** @type {string} */\nlet importScriptPathPrefix;\n\nlet runtimePlatform = '';\n\n/** @type {function(string):!Platform.UIString.LocalizedString} */\nlet l10nCallback;\n\n/** @type {!Runtime|undefined} */\nlet runtimeInstance;\n\nexport function getRemoteBase(location = self.location.toString()) {\n  const url = new URL(location);\n  const remoteBase = url.searchParams.get('remoteBase');\n  if (!remoteBase) {\n    return null;\n  }\n\n  const version = /\\/serve_file\\/(@[0-9a-zA-Z]+)\\/?$/.exec(remoteBase);\n  if (!version) {\n    return null;\n  }\n\n  return {base: `${url.origin}/remote/serve_file/${version[1]}/`, version: version[1]};\n}\n\n/** @type {!WeakMap<function(new:?), ?>} */\nconst constructedInstances = new WeakMap();\n\nexport class Runtime {\n  /**\n   * @private\n   * @param {!Array.<!ModuleDescriptor>} descriptors\n   */\n  constructor(descriptors) {\n    /** @type {!Array<!Module>} */\n    this._modules = [];\n    /** @type {!Object<string, !Module>} */\n    this._modulesMap = {};\n    /** @type {!Array<!Extension>} */\n    this._extensions = [];\n    /** @type {!Object<string, function(new:Object):void>} */\n    this._cachedTypeClasses = {};\n    /** @type {!Object<string, !ModuleDescriptor>} */\n    this._descriptorsMap = {};\n\n    for (const descriptor of descriptors) {\n      this._registerModule(descriptor);\n    }\n  }\n\n  /**\n   * @param {{forceNew: ?boolean, moduleDescriptors: ?Array.<!ModuleDescriptor>}=} opts\n   * @return {!Runtime}\n   */\n  static instance(opts = {forceNew: null, moduleDescriptors: null}) {\n    const {forceNew, moduleDescriptors} = opts;\n    if (!runtimeInstance || forceNew) {\n      if (!moduleDescriptors) {\n        throw new Error(`Unable to create runtime: moduleDescriptors must be provided: ${new Error().stack}`);\n      }\n\n      runtimeInstance = new Runtime(moduleDescriptors);\n    }\n\n    return runtimeInstance;\n  }\n\n  static removeInstance() {\n    runtimeInstance = undefined;\n  }\n\n  /**\n   * http://tools.ietf.org/html/rfc3986#section-5.2.4\n   * @param {string} path\n   * @return {string}\n   */\n  static normalizePath(path) {\n    if (path.indexOf('..') === -1 && path.indexOf('.') === -1) {\n      return path;\n    }\n\n    const normalizedSegments = [];\n    const segments = path.split('/');\n    for (const segment of segments) {\n      if (segment === '.') {\n        continue;\n      } else if (segment === '..') {\n        normalizedSegments.pop();\n      } else if (segment) {\n        normalizedSegments.push(segment);\n      }\n    }\n    let normalizedPath = normalizedSegments.join('/');\n    if (normalizedPath[normalizedPath.length - 1] === '/') {\n      return normalizedPath;\n    }\n    if (path[0] === '/' && normalizedPath) {\n      normalizedPath = '/' + normalizedPath;\n    }\n    if ((path[path.length - 1] === '/') || (segments[segments.length - 1] === '.') ||\n        (segments[segments.length - 1] === '..')) {\n      normalizedPath = normalizedPath + '/';\n    }\n\n    return normalizedPath;\n  }\n\n  /**\n   * @param {string} name\n   * @return {?string}\n   */\n  static queryParam(name) {\n    return queryParamsObject.get(name);\n  }\n\n  /**\n   * @return {!Object<string,boolean>}\n   */\n  static _experimentsSetting() {\n    try {\n      return /** @type {!Object<string,boolean>} */ (\n          JSON.parse(self.localStorage && self.localStorage['experiments'] ? self.localStorage['experiments'] : '{}'));\n    } catch (e) {\n      console.error('Failed to parse localStorage[\\'experiments\\']');\n      return {};\n    }\n  }\n\n  /**\n   * @param {*} value\n   * @param {string} message\n   */\n  static _assert(value, message) {\n    if (value) {\n      return;\n    }\n    originalAssert.call(originalConsole, value, message + ' ' + new Error().stack);\n  }\n\n  /**\n   * @param {string} platform\n   */\n  static setPlatform(platform) {\n    runtimePlatform = platform;\n  }\n\n  /**\n   * @param {!{experiment: (?string|undefined), condition: (?string|undefined)}} descriptor\n   * @return {boolean}\n   */\n  static isDescriptorEnabled(descriptor) {\n    const activatorExperiment = descriptor['experiment'];\n    if (activatorExperiment === '*') {\n      return true;\n    }\n    if (activatorExperiment && activatorExperiment.startsWith('!') &&\n        experiments.isEnabled(activatorExperiment.substring(1))) {\n      return false;\n    }\n    if (activatorExperiment && !activatorExperiment.startsWith('!') && !experiments.isEnabled(activatorExperiment)) {\n      return false;\n    }\n    const condition = descriptor['condition'];\n    if (condition && !condition.startsWith('!') && !Runtime.queryParam(condition)) {\n      return false;\n    }\n    if (condition && condition.startsWith('!') && Runtime.queryParam(condition.substring(1))) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * @param {string} path\n   * @return {string}\n   */\n  static resolveSourceURL(path) {\n    let sourceURL = self.location.href;\n    if (self.location.search) {\n      sourceURL = sourceURL.replace(self.location.search, '');\n    }\n    sourceURL = sourceURL.substring(0, sourceURL.lastIndexOf('/') + 1) + path;\n    return '\\n/*# sourceURL=' + sourceURL + ' */';\n  }\n\n  /**\n   * @param {function(string):!Platform.UIString.LocalizedString} localizationFunction\n   */\n  static setL10nCallback(localizationFunction) {\n    l10nCallback = localizationFunction;\n  }\n\n  /**\n   * @param {string} moduleName\n   * @return {!Module}\n   */\n  module(moduleName) {\n    return this._modulesMap[moduleName];\n  }\n\n  /**\n   * @param {!ModuleDescriptor} descriptor\n   */\n  _registerModule(descriptor) {\n    const module = new Module(this, descriptor);\n    this._modules.push(module);\n    this._modulesMap[descriptor['name']] = module;\n  }\n\n  /**\n   * @param {string} moduleName\n   * @return {!Promise.<boolean>}\n   */\n  loadModulePromise(moduleName) {\n    return this._modulesMap[moduleName]._loadPromise();\n  }\n\n  /**\n   * @param {!Array.<string>} moduleNames\n   * @return {!Promise.<!Array.<*>>}\n   */\n  loadAutoStartModules(moduleNames) {\n    const promises = [];\n    for (const moduleName of moduleNames) {\n      promises.push(this.loadModulePromise(moduleName));\n    }\n    return Promise.all(promises);\n  }\n\n  /**\n   * @param {!Extension} extension\n   * @param {?function(function(new:Object)):boolean} predicate\n   * @return {boolean}\n   */\n  _checkExtensionApplicability(extension, predicate) {\n    if (!predicate) {\n      return false;\n    }\n    const contextTypes = extension.descriptor().contextTypes;\n    if (!contextTypes) {\n      return true;\n    }\n    for (let i = 0; i < contextTypes.length; ++i) {\n      const contextType = this._resolve(contextTypes[i]);\n      const isMatching = contextType && predicate(contextType);\n      if (isMatching) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * @param {!Extension} extension\n   * @param {?Object} context\n   * @return {boolean}\n   */\n  isExtensionApplicableToContext(extension, context) {\n    if (!context) {\n      return true;\n    }\n    return this._checkExtensionApplicability(extension, isInstanceOf);\n\n    /**\n     * @param {!Function} targetType\n     * @return {boolean}\n     */\n    function isInstanceOf(targetType) {\n      return context instanceof targetType;\n    }\n  }\n\n  /**\n   * @param {!Extension} extension\n   * @param {!Set.<function(new:Object, ...?):void>} currentContextTypes\n   * @return {boolean}\n   */\n  isExtensionApplicableToContextTypes(extension, currentContextTypes) {\n    if (!extension.descriptor().contextTypes) {\n      return true;\n    }\n\n    let callback = null;\n\n    if (currentContextTypes) {\n      /**\n       * @param {function(new:Object, ...?):void} targetType\n       * @return {boolean}\n       */\n      callback = targetType => {\n        return currentContextTypes.has(targetType);\n      };\n    }\n\n    return this._checkExtensionApplicability(extension, callback);\n  }\n\n  /**\n   * @param {*} type\n   * @param {?Object=} context\n   * @param {boolean=} sortByTitle\n   * @return {!Array.<!Extension>}\n   */\n  extensions(type, context, sortByTitle) {\n    return this._extensions.filter(filter).sort(sortByTitle ? titleComparator : orderComparator);\n\n    /**\n     * @param {!Extension} extension\n     * @return {boolean}\n     */\n    function filter(extension) {\n      if (extension._type !== type && extension._typeClass() !== type) {\n        return false;\n      }\n      if (!extension.enabled()) {\n        return false;\n      }\n      return !context || extension.isApplicable(context);\n    }\n\n    /**\n     * @param {!Extension} extension1\n     * @param {!Extension} extension2\n     * @return {number}\n     */\n    function orderComparator(extension1, extension2) {\n      const order1 = extension1.descriptor()['order'] || 0;\n      const order2 = extension2.descriptor()['order'] || 0;\n      return order1 - order2;\n    }\n\n    /**\n     * @param {!Extension} extension1\n     * @param {!Extension} extension2\n     * @return {number}\n     */\n    function titleComparator(extension1, extension2) {\n      const title1 = extension1.title() || '';\n      const title2 = extension2.title() || '';\n      return title1.localeCompare(title2);\n    }\n  }\n\n  /**\n   * @param {*} type\n   * @param {?Object=} context\n   * @return {?Extension}\n   */\n  extension(type, context) {\n    return this.extensions(type, context)[0] || null;\n  }\n\n  /**\n   * @param {*} type\n   * @param {?Object=} context\n   * @return {!Promise.<!Array.<!Object>>}\n   */\n  allInstances(type, context) {\n    return Promise.all(this.extensions(type, context).map(extension => extension.instance()));\n  }\n\n  /**\n   * @param {string} typeName\n   * @return {?function(new:Object)}\n   */\n  _resolve(typeName) {\n    if (!this._cachedTypeClasses[typeName]) {\n      /** @type {!Array<string>} */\n      const path = typeName.split('.');\n      /** @type {*} */\n      let object = self;\n      for (let i = 0; object && (i < path.length); ++i) {\n        object = object[path[i]];\n      }\n      if (object) {\n        this._cachedTypeClasses[typeName] = /** @type {function(new:Object):void} */ (object);\n      }\n    }\n    return this._cachedTypeClasses[typeName] || null;\n  }\n\n  /**\n   * @param {function(new:T)} constructorFunction\n   * @return {!T}\n   * @template T\n   */\n  sharedInstance(constructorFunction) {\n    const instanceDescriptor = Object.getOwnPropertyDescriptor(constructorFunction, 'instance');\n    if (instanceDescriptor) {\n      const method = instanceDescriptor.value;\n      if (method instanceof Function) {\n        return method.call(null);\n      }\n    }\n    let instance = constructedInstances.get(constructorFunction);\n    if (!instance) {\n      instance = new constructorFunction();\n      constructedInstances.set(constructorFunction, instance);\n    }\n    return instance;\n  }\n}\n\nexport class ModuleDescriptor {\n  constructor() {\n    /**\n     * @type {string}\n     */\n    this.name;\n\n    /**\n     * @type {!Array.<!RuntimeExtensionDescriptor>}\n     */\n    this.extensions;\n\n    /**\n     * @type {!Array.<string>|undefined}\n     */\n    this.dependencies;\n\n    /**\n     * @type {!Array.<string>}\n     */\n    this.scripts;\n\n    /**\n     * @type {!Array.<string>}\n     */\n    this.modules;\n\n    /**\n     * @type {!Array.<string>}\n     */\n    this.resources;\n\n    /**\n     * @type {string|undefined}\n     */\n    this.condition;\n\n    /** @type {string|null} */\n    this.experiment;\n  }\n}\n\n// This class is named like this, because we already have an \"ExtensionDescriptor\" in the externs\n// These two do not share the same structure\nexport class RuntimeExtensionDescriptor {\n  constructor() {\n    /**\n     * @type {string}\n     */\n    this.type;\n\n    /**\n     * @type {string|undefined}\n     */\n    this.className;\n\n    /**\n     * @type {string|undefined}\n     */\n    this.factoryName;\n\n    /**\n     * @type {!Array.<string>|undefined}\n     */\n    this.contextTypes;\n\n    /**\n     * @type {!Array.<!{\n     *   shortcut: string,\n     *   platform: (string|undefined),\n     *   keybindSets: (!Array.<string>|undefined)\n     * }>|\n     * undefined}\n     */\n    this.bindings;\n\n    /** @type {number} */\n    this.order;\n\n    /** @type {string|null} */\n    this.extension;\n\n    /** @type {string|null} */\n    this.actionId;\n\n    /** @type {string|null} */\n    this.experiment;\n\n    /** @type {string|null} */\n    this.condition;\n\n    /** @type {string} */\n    this.settingName;\n\n    /** @type {string|null} */\n    this.settingType;\n\n    /** @type {*} */\n    this.defaultValue;\n\n    /** @type {string|null} */\n    this.storageType;\n\n    /** @type {string|null} */\n    this.userActionCondition;\n\n    /** @type {string|null} */\n    this.startPage;\n\n    /** @type {string|null} */\n    this.name;\n\n    /** @type {string|null} */\n    this.destination;\n\n    /** @type {string|null} */\n    this.color;\n\n    /** @type {string|null} */\n    this.prefix;\n\n    /** @type {string|null} */\n    this.decoratorType;\n\n    /** @type {string|null} */\n    this.category;\n\n    /** @type {string|null} */\n    this.tags;\n\n    /** @type {boolean|null|undefined} */\n    this.reloadRequired;\n\n    /** @type {string} */\n    this.id;\n\n    /** @type {string|null} */\n    this.location;\n\n    /** @type {?string} */\n    this.title;\n\n    /** @type {!Array<!Option>|undefined} */\n    this.options;\n\n    /** @type {!Array<string>|undefined} */\n    this.settings;\n\n    // This is an EmulatedDevice, but typing it as such introduces a\n    // circular dep between emulation and root.\n    /** @type {?} */\n    this.device;\n\n    /** @type {string|null} */\n    this.viewId;\n\n    /** @type {?string} */\n    this.persistence;\n    /** @type {?string} */\n    this.setting;\n    /** @type {?string} */\n    this.name;\n\n    /** @type {string} */\n    this.fileName;\n\n    /** @type {!Array<string>|undefined} */\n    this.mimeTypes;\n\n    /** @type {!Array<string>|undefined} */\n    this.dependencies;\n  }\n}\n\n/**\n * @typedef {{\n *  title: string,\n *  value: (string|boolean),\n *  raw: (boolean|undefined),\n *  text: (string|undefined),\n * }}\n */\n// @ts-ignore typedef\nexport let Option;\n\nexport class Module {\n  /**\n   * @param {!Runtime} manager\n   * @param {!ModuleDescriptor} descriptor\n   */\n  constructor(manager, descriptor) {\n    this._manager = manager;\n    this._descriptor = descriptor;\n    this._name = descriptor.name;\n    /** @type {!Array<!Extension>} */\n    this._extensions = [];\n\n    /** @type {!Map<string, !Array<!Extension>>} */\n    this._extensionsByClassName = new Map();\n    const extensions = /** @type {?Array.<!RuntimeExtensionDescriptor>} */ (descriptor.extensions);\n    for (let i = 0; extensions && i < extensions.length; ++i) {\n      const extension = new Extension(this, extensions[i]);\n      this._manager._extensions.push(extension);\n      this._extensions.push(extension);\n    }\n    this._loadedForTest = false;\n  }\n\n  /**\n   * @return {string}\n   */\n  name() {\n    return this._name;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  enabled() {\n    return Runtime.isDescriptorEnabled(this._descriptor);\n  }\n\n  /**\n   * @param {string} name\n   * @return {string}\n   */\n  resource(name) {\n    const fullName = this._name + '/' + name;\n    const content = cachedResources.get(fullName);\n    if (!content) {\n      throw new Error(fullName + ' not preloaded. Check module.json');\n    }\n    return content;\n  }\n\n  /**\n   * @return {!Promise.<boolean>}\n   */\n  _loadPromise() {\n    if (!this.enabled()) {\n      return Promise.reject(new Error('Module ' + this._name + ' is not enabled'));\n    }\n\n    if (this._pendingLoadPromise) {\n      return this._pendingLoadPromise;\n    }\n\n    const dependencies = this._descriptor.dependencies;\n    const dependencyPromises = [];\n    for (let i = 0; dependencies && i < dependencies.length; ++i) {\n      dependencyPromises.push(this._manager._modulesMap[dependencies[i]]._loadPromise());\n    }\n\n    this._pendingLoadPromise = Promise.all(dependencyPromises)\n                                   .then(this._loadModules.bind(this))\n                                   .then(() => {\n                                     this._loadedForTest = true;\n                                     return this._loadedForTest;\n                                   });\n\n    return this._pendingLoadPromise;\n  }\n\n  async _loadModules() {\n    const legacyFileName = `${this._name}-legacy.js`;\n    const moduleFileName = `${this._name}_module.js`;\n    const entrypointFileName = `${this._name}.js`;\n\n    // If a module has resources, they are part of the `_module.js` files that are generated\n    // by `build_release_applications`. These need to be loaded before any other code is\n    // loaded, to make sure that the resource content is properly cached in `cachedResources`.\n    if (this._descriptor.modules.includes(moduleFileName)) {\n      await import(`../${this._name}/${moduleFileName}`);\n    }\n\n    const fileName = this._descriptor.modules.includes(legacyFileName) ? legacyFileName : entrypointFileName;\n\n    await import(`../${this._name}/${fileName}`);\n  }\n\n  /**\n   * @param {string} resourceName\n   */\n  _modularizeURL(resourceName) {\n    return Runtime.normalizePath(this._name + '/' + resourceName);\n  }\n\n  /**\n   * @param {string} resourceName\n   * @return {!Promise.<string>}\n   */\n  fetchResource(resourceName) {\n    const sourceURL = getResourceURL(this._modularizeURL(resourceName));\n    return loadResourcePromise(sourceURL);\n  }\n\n  /**\n   * @param {string} value\n   * @return {string}\n   */\n  substituteURL(value) {\n    return value.replace(/@url\\(([^\\)]*?)\\)/g, convertURL.bind(this));\n\n    /**\n     * @param {string} match\n     * @param {string} url\n     * @this {Module}\n     */\n    function convertURL(match, url) {\n      return importScriptPathPrefix + this._modularizeURL(url);\n    }\n  }\n}\n\nexport class Extension {\n  /**\n  * @param {!Module} moduleParam\n  * @param {!RuntimeExtensionDescriptor} descriptor\n  */\n  constructor(moduleParam, descriptor) {\n    this._module = moduleParam;\n    this._descriptor = descriptor;\n\n    this._type = descriptor.type;\n    this._hasTypeClass = this._type.charAt(0) === '@';\n\n    /**\n    * @type {?string}\n    */\n    this._className = descriptor.className || null;\n    this._factoryName = descriptor.factoryName || null;\n  }\n\n  /**\n  * @return {!RuntimeExtensionDescriptor}\n  */\n  descriptor() {\n    return this._descriptor;\n  }\n\n  /**\n  * @return {!Module}\n  */\n  module() {\n    return this._module;\n  }\n\n  /**\n  * @return {boolean}\n  */\n  enabled() {\n    return this._module.enabled() && Runtime.isDescriptorEnabled(this.descriptor());\n  }\n\n  /**\n  * @return {?function(new:Object)}\n  */\n  _typeClass() {\n    if (!this._hasTypeClass) {\n      return null;\n    }\n    return this._module._manager._resolve(this._type.substring(1));\n  }\n\n  /**\n  * @param {?Object} context\n  * @return {boolean}\n  */\n  isApplicable(context) {\n    return this._module._manager.isExtensionApplicableToContext(this, context);\n  }\n\n  /**\n  * @return {!Promise.<!Object>}\n  */\n  instance() {\n    return this._module._loadPromise().then(this._createInstance.bind(this));\n  }\n\n  /**\n  * @return {boolean}\n  */\n  canInstantiate() {\n    return Boolean(this._className || this._factoryName);\n  }\n\n  /**\n  * @return {!Object}\n  */\n  _createInstance() {\n    const className = this._className || this._factoryName;\n    if (!className) {\n      throw new Error('Could not instantiate extension with no class');\n    }\n    const constructorFunction = self.eval(/** @type {string} */ (className));\n    if (!(constructorFunction instanceof Function)) {\n      throw new Error('Could not instantiate: ' + className);\n    }\n    if (this._className) {\n      return this._module._manager.sharedInstance(constructorFunction);\n    }\n    return new constructorFunction(this);\n  }\n\n  /**\n  * @return {!Platform.UIString.LocalizedString}\n  */\n  title() {\n    // @ts-ignore Magic lookup for objects\n    const title = this._descriptor['title-' + runtimePlatform] || this._descriptor['title'];\n    if (title && l10nCallback) {\n      return l10nCallback(title);\n    }\n    return title;\n  }\n\n  /**\n  * @param {function(new:Object, ...?):void} contextType\n  * @return {boolean}\n  */\n  hasContextType(contextType) {\n    const contextTypes = this.descriptor().contextTypes;\n    if (!contextTypes) {\n      return false;\n    }\n    for (let i = 0; i < contextTypes.length; ++i) {\n      if (contextType === this._module._manager._resolve(contextTypes[i])) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nexport class ExperimentsSupport {\n  constructor() {\n    /** @type {!Array<!Experiment>} */\n    this._experiments = [];\n    /** @type {!Set<string>} */\n    this._experimentNames = new Set();\n    /** @type {!Set<string>} */\n    this._enabledTransiently = new Set();\n    /** @type {!Set<string>} */\n    this._enabledByDefault = new Set();\n    /** @type {!Set<string>} */\n    this._serverEnabled = new Set();\n  }\n\n  /**\n  * @return {!Array.<!Experiment>}\n  */\n  allConfigurableExperiments() {\n    const result = [];\n    for (const experiment of this._experiments) {\n      if (!this._enabledTransiently.has(experiment.name)) {\n        result.push(experiment);\n      }\n    }\n    return result;\n  }\n\n  /**\n  * @return {!Array.<!Experiment>}\n  */\n  enabledExperiments() {\n    return this._experiments.filter(experiment => experiment.isEnabled());\n  }\n\n  /**\n  * @param {!Object} value\n  */\n  _setExperimentsSetting(value) {\n    if (!self.localStorage) {\n      return;\n    }\n    self.localStorage['experiments'] = JSON.stringify(value);\n  }\n\n  /**\n  * @param {string} experimentName\n  * @param {string} experimentTitle\n  * @param {boolean=} unstable\n  */\n  register(experimentName, experimentTitle, unstable) {\n    Runtime._assert(\n        !this._experimentNames.has(experimentName), 'Duplicate registration of experiment ' + experimentName);\n    this._experimentNames.add(experimentName);\n    this._experiments.push(new Experiment(this, experimentName, experimentTitle, Boolean(unstable)));\n  }\n\n  /**\n  * @param {string} experimentName\n  * @return {boolean}\n  */\n  isEnabled(experimentName) {\n    this._checkExperiment(experimentName);\n    // Check for explicitly disabled experiments first - the code could call setEnable(false) on the experiment enabled\n    // by default and we should respect that.\n    if (Runtime._experimentsSetting()[experimentName] === false) {\n      return false;\n    }\n    if (this._enabledTransiently.has(experimentName) || this._enabledByDefault.has(experimentName)) {\n      return true;\n    }\n    if (this._serverEnabled.has(experimentName)) {\n      return true;\n    }\n\n    return Boolean(Runtime._experimentsSetting()[experimentName]);\n  }\n\n  /**\n  * @param {string} experimentName\n  * @param {boolean} enabled\n  */\n  setEnabled(experimentName, enabled) {\n    this._checkExperiment(experimentName);\n    const experimentsSetting = Runtime._experimentsSetting();\n    experimentsSetting[experimentName] = enabled;\n    this._setExperimentsSetting(experimentsSetting);\n  }\n\n  /**\n  * @param {!Array.<string>} experimentNames\n  */\n  enableExperimentsTransiently(experimentNames) {\n    for (const experimentName of experimentNames) {\n      this._checkExperiment(experimentName);\n      this._enabledTransiently.add(experimentName);\n    }\n  }\n\n  /**\n  * @param {!Array.<string>} experimentNames\n  */\n  enableExperimentsByDefault(experimentNames) {\n    for (const experimentName of experimentNames) {\n      this._checkExperiment(experimentName);\n      this._enabledByDefault.add(experimentName);\n    }\n  }\n\n  /**\n  * @param {!Array.<string>} experimentNames\n  */\n  setServerEnabledExperiments(experimentNames) {\n    for (const experiment of experimentNames) {\n      this._checkExperiment(experiment);\n      this._serverEnabled.add(experiment);\n    }\n  }\n\n  /**\n  * @param {string} experimentName\n  */\n  enableForTest(experimentName) {\n    this._checkExperiment(experimentName);\n    this._enabledTransiently.add(experimentName);\n  }\n\n  clearForTest() {\n    this._experiments = [];\n    this._experimentNames.clear();\n    this._enabledTransiently.clear();\n    this._enabledByDefault.clear();\n    this._serverEnabled.clear();\n  }\n\n  cleanUpStaleExperiments() {\n    const experimentsSetting = Runtime._experimentsSetting();\n    /** @type {!Object<string,boolean>} */\n    const cleanedUpExperimentSetting = {};\n    for (const {name: experimentName} of this._experiments) {\n      if (experimentsSetting.hasOwnProperty(experimentName)) {\n        const isEnabled = experimentsSetting[experimentName];\n        if (isEnabled || this._enabledByDefault.has(experimentName)) {\n          cleanedUpExperimentSetting[experimentName] = isEnabled;\n        }\n      }\n    }\n    this._setExperimentsSetting(cleanedUpExperimentSetting);\n  }\n\n  /**\n  * @param {string} experimentName\n  */\n  _checkExperiment(experimentName) {\n    Runtime._assert(this._experimentNames.has(experimentName), 'Unknown experiment ' + experimentName);\n  }\n}\n\nexport class Experiment {\n  /**\n  * @param {!ExperimentsSupport} experiments\n  * @param {string} name\n  * @param {string} title\n  * @param {boolean} unstable\n  */\n  constructor(experiments, name, title, unstable) {\n    this.name = name;\n    this.title = title;\n    this.unstable = unstable;\n    this._experiments = experiments;\n  }\n\n  /**\n  * @return {boolean}\n  */\n  isEnabled() {\n    return this._experiments.isEnabled(this.name);\n  }\n\n  /**\n  * @param {boolean} enabled\n  */\n  setEnabled(enabled) {\n    this._experiments.setEnabled(this.name, enabled);\n  }\n}\n\n/**\n * @param {string} url\n * @return {!Promise.<string>}\n */\nexport function loadResourcePromise(url) {\n  return new Promise(load);\n\n  /**\n   * @param {function(?):void} fulfill\n   * @param {function(*):void} reject\n   */\n  function load(fulfill, reject) {\n    const xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.onreadystatechange = onreadystatechange;\n\n    /**\n     * @param {!Event} e\n     */\n    function onreadystatechange(e) {\n      if (xhr.readyState !== XMLHttpRequest.DONE) {\n        return;\n      }\n\n      const {response} = /** @type {*} */ (e.target);\n\n      // DevTools Proxy server can mask 404s as 200s, check the body to be sure\n      const status = /^HTTP\\/1.1 404/.test(response) ? 404 : xhr.status;\n\n      if ([0, 200, 304].indexOf(status) === -1)  // Testing harness file:/// results in 0.\n      {\n        reject(new Error('While loading from url ' + url + ' server responded with a status of ' + status));\n      } else {\n        fulfill(response);\n      }\n    }\n    xhr.send(null);\n  }\n}\n\n/**\n * @param {string} scriptName\n * @param {string=} base\n * @return {string}\n */\nfunction getResourceURL(scriptName, base) {\n  const sourceURL = (base || importScriptPathPrefix) + scriptName;\n  const schemaIndex = sourceURL.indexOf('://') + 3;\n  let pathIndex = sourceURL.indexOf('/', schemaIndex);\n  if (pathIndex === -1) {\n    pathIndex = sourceURL.length;\n  }\n  return sourceURL.substring(0, pathIndex) + Runtime.normalizePath(sourceURL.substring(pathIndex));\n}\n\n(function() {\nconst baseUrl = self.location ? self.location.origin + self.location.pathname : '';\nimportScriptPathPrefix = baseUrl.substring(0, baseUrl.lastIndexOf('/') + 1);\n})();\n\n// This must be constructed after the query parameters have been parsed.\nexport const experiments = new ExperimentsSupport();\n\n/**\n * @type {!Map<string, string>}\n */\nexport const cachedResources = new Map();\n\n// Only exported for LightHouse, which uses it in `report-generator.js`.\n// Do not use this global in DevTools' implementation.\n// TODO(crbug.com/1127292): remove this global\nglobalThis.EXPORTED_CACHED_RESOURCES_ONLY_FOR_LIGHTHOUSE = cachedResources;\n\n/** @type {function():void} */\nexport let appStartedPromiseCallback;\n/** @type {!Promise<void>} */\nexport const appStarted = new Promise(fulfill => {\n  appStartedPromiseCallback = fulfill;\n});\n\n\n/** @enum {string} */\nexport const ExperimentName = {\n  CAPTURE_NODE_CREATION_STACKS: 'captureNodeCreationStacks',\n  CSS_OVERVIEW: 'cssOverview',\n  LIVE_HEAP_PROFILE: 'liveHeapProfile',\n  DEVELOPER_RESOURCES_VIEW: 'developerResourcesView',\n  TIMELINE_REPLAY_EVENT: 'timelineReplayEvent',\n  CSP_VIOLATIONS_VIEW: 'cspViolationsView',\n  WASM_DWARF_DEBUGGING: 'wasmDWARFDebugging',\n  ALL: '*',\n  PROTOCOL_MONITOR: 'protocolMonitor',\n  WEBAUTHN_PANE: 'webauthnPane',\n};\n\n/** @enum {string} */\nexport const ConditionName = {\n  CAN_DOCK: 'can_dock',\n};\n"]}