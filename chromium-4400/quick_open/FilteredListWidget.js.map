{"version":3,"file":"FilteredListWidget.js","sourceRoot":"","sources":["../../../../../front_end/quick_open/FilteredListWidget.js"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2012 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../common/common.js';\nimport * as Diff from '../diff/diff.js';\nimport * as Platform from '../platform/platform.js';\nimport {ls} from '../platform/platform.js';\nimport * as TextUtils from '../text_utils/text_utils.js';\nimport * as UI from '../ui/ui.js';\n\n/**\n * @implements {UI.ListControl.ListDelegate<number>}\n */\nexport class FilteredListWidget extends UI.Widget.VBox {\n  /**\n   * @param {?Provider} provider\n   * @param {!Array<string>=} promptHistory\n   * @param {function(string)=} queryChangedCallback\n   */\n  constructor(provider, promptHistory, queryChangedCallback) {\n    super(true);\n    this._promptHistory = promptHistory || [];\n\n    this._scoringTimer = 0;\n    this._filterTimer = 0;\n    this._loadTimeout = 0;\n    /** @type {(function(): void)|undefined} */\n    this._refreshListWithCurrentResult;\n    /** @type {!UI.Dialog.Dialog|undefined} */\n    this._dialog;\n    /** @type {string|undefined} */\n    this._query;\n\n    this.contentElement.classList.add('filtered-list-widget');\n    const listener = /** @type {function(!Event):void} */ (this._onKeyDown.bind(this));\n    this.contentElement.addEventListener('keydown', listener, true);\n    UI.ARIAUtils.markAsCombobox(this.contentElement);\n    this.registerRequiredCSS('quick_open/filteredListWidget.css', {enableLegacyPatching: true});\n\n    this._promptElement = this.contentElement.createChild('div', 'filtered-list-widget-input');\n    UI.ARIAUtils.setAccessibleName(this._promptElement, ls`Quick open prompt`);\n    this._promptElement.setAttribute('spellcheck', 'false');\n    this._promptElement.setAttribute('contenteditable', 'plaintext-only');\n    this._prompt = new UI.TextPrompt.TextPrompt();\n    this._prompt.initialize(() => Promise.resolve([]));\n    const promptProxy = this._prompt.attach(this._promptElement);\n    promptProxy.addEventListener('input', this._onInput.bind(this), false);\n    promptProxy.classList.add('filtered-list-widget-prompt-element');\n\n    this._bottomElementsContainer = this.contentElement.createChild('div', 'vbox');\n    this._progressElement = this._bottomElementsContainer.createChild('div', 'filtered-list-widget-progress');\n    this._progressBarElement = this._progressElement.createChild('div', 'filtered-list-widget-progress-bar');\n\n    /** @type {!UI.ListModel.ListModel<number>} */\n    this._items = new UI.ListModel.ListModel();\n    /** @type {!UI.ListControl.ListControl<number>} */\n    this._list = new UI.ListControl.ListControl(this._items, this, UI.ListControl.ListMode.EqualHeightItems);\n    this._itemElementsContainer = this._list.element;\n    this._itemElementsContainer.classList.add('container');\n    this._bottomElementsContainer.appendChild(this._itemElementsContainer);\n    this._itemElementsContainer.addEventListener('click', this._onClick.bind(this), false);\n    UI.ARIAUtils.markAsListBox(this._itemElementsContainer);\n    UI.ARIAUtils.setControls(this._promptElement, this._itemElementsContainer);\n    UI.ARIAUtils.setAutocomplete(this._promptElement, UI.ARIAUtils.AutocompleteInteractionModel.list);\n\n    this._notFoundElement = this._bottomElementsContainer.createChild('div', 'not-found-text');\n    this._notFoundElement.classList.add('hidden');\n\n    this.setDefaultFocusedElement(this._promptElement);\n\n    this._prefix = '';\n    this._provider = provider;\n    this._queryChangedCallback = queryChangedCallback;\n  }\n\n  /**\n   * @param {!Element} element\n   * @param {string} query\n   * @param {boolean=} caseInsensitive\n   * @return {boolean}\n   */\n  static highlightRanges(element, query, caseInsensitive) {\n    if (!query) {\n      return false;\n    }\n\n    /**\n     * @param {string} text\n     * @param {string} query\n     * @return {?Array.<!TextUtils.TextRange.SourceRange>}\n     */\n    function rangesForMatch(text, query) {\n      const opcodes = Diff.Diff.DiffWrapper.charDiff(query, text);\n      let offset = 0;\n      const ranges = [];\n      for (let i = 0; i < opcodes.length; ++i) {\n        const opcode = opcodes[i];\n        if (opcode[0] === Diff.Diff.Operation.Equal) {\n          ranges.push(new TextUtils.TextRange.SourceRange(offset, opcode[1].length));\n        } else if (opcode[0] !== Diff.Diff.Operation.Insert) {\n          return null;\n        }\n        offset += opcode[1].length;\n      }\n      return ranges;\n    }\n\n    if (element.textContent === null) {\n      return false;\n    }\n    const text = element.textContent;\n    let ranges = rangesForMatch(text, query);\n    if (!ranges || caseInsensitive) {\n      ranges = rangesForMatch(text.toUpperCase(), query.toUpperCase());\n    }\n    if (ranges) {\n      UI.UIUtils.highlightRangesWithStyleClass(element, ranges, 'highlight');\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * @param {string} placeholder\n   * @param {string=} ariaPlaceholder\n   */\n  setPlaceholder(placeholder, ariaPlaceholder) {\n    this._prompt.setPlaceholder(placeholder, ariaPlaceholder);\n  }\n\n  /**\n   * Sets the text prompt's accessible title. By default, it is \"Quick open prompt\".\n   * @param {string} title\n   */\n  setPromptTitle(title) {\n    UI.ARIAUtils.setAccessibleName(this._promptElement, title);\n  }\n\n  /**\n   * @param {string=} dialogTitle\n   */\n  showAsDialog(dialogTitle = ls`Quick open`) {\n    this._dialog = new UI.Dialog.Dialog();\n    UI.ARIAUtils.setAccessibleName(this._dialog.contentElement, dialogTitle);\n    this._dialog.setMaxContentSize(new UI.Geometry.Size(504, 340));\n    this._dialog.setSizeBehavior(UI.GlassPane.SizeBehavior.SetExactWidthMaxHeight);\n    this._dialog.setContentPosition(null, 22);\n    this.show(this._dialog.contentElement);\n    UI.ARIAUtils.setExpanded(this.contentElement, true);\n    this._dialog.once('hidden').then(() => {\n      this.dispatchEventToListeners('hidden');\n    });\n    // @ts-ignore\n    this._dialog.show();\n  }\n\n  /**\n   * @param {string} prefix\n   */\n  setPrefix(prefix) {\n    this._prefix = prefix;\n  }\n\n  /**\n   * @param {?Provider} provider\n   */\n  setProvider(provider) {\n    if (provider === this._provider) {\n      return;\n    }\n\n    if (this._provider) {\n      this._provider.detach();\n    }\n    this._clearTimers();\n\n    this._provider = provider;\n    if (this.isShowing()) {\n      this._attachProvider();\n    }\n  }\n\n  /**\n   * @param {number} startIndex\n   * @param {number} endIndex\n   */\n  setQuerySelectedRange(startIndex, endIndex) {\n    this._prompt.setSelectedRange(startIndex, endIndex);\n  }\n\n  _attachProvider() {\n    this._items.replaceAll([]);\n    this._list.invalidateItemHeight();\n    if (this._provider) {\n      this._provider.setRefreshCallback(this._itemsLoaded.bind(this, this._provider));\n      this._provider.attach();\n    }\n    this._itemsLoaded(this._provider);\n  }\n\n  /**\n   * @return {string}\n   */\n  _value() {\n    return this._prompt.text().trim();\n  }\n\n  _cleanValue() {\n    return this._value().substring(this._prefix.length);\n  }\n\n  /**\n   * @override\n   */\n  wasShown() {\n    this._attachProvider();\n  }\n\n  /**\n   * @override\n   */\n  willHide() {\n    if (this._provider) {\n      this._provider.detach();\n    }\n    this._clearTimers();\n    UI.ARIAUtils.setExpanded(this.contentElement, false);\n  }\n\n  _clearTimers() {\n    clearTimeout(this._filterTimer);\n    clearTimeout(this._scoringTimer);\n    clearTimeout(this._loadTimeout);\n    this._filterTimer = 0;\n    this._scoringTimer = 0;\n    this._loadTimeout = 0;\n    this._refreshListWithCurrentResult = undefined;\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _onEnter(event) {\n    if (!this._provider) {\n      return;\n    }\n    const selectedIndexInProvider = this._provider.itemCount() ? this._list.selectedItem() : null;\n\n    this._selectItem(selectedIndexInProvider);\n    if (this._dialog) {\n      this._dialog.hide();\n    }\n  }\n\n  /**\n   * @param {?Provider} provider\n   */\n  _itemsLoaded(provider) {\n    if (this._loadTimeout || provider !== this._provider) {\n      return;\n    }\n    this._loadTimeout = window.setTimeout(this._updateAfterItemsLoaded.bind(this), 0);\n  }\n\n  _updateAfterItemsLoaded() {\n    this._loadTimeout = 0;\n    this._filterItems();\n  }\n\n  /**\n   * @override\n   * @param {number} item\n   * @return {!Element}\n   */\n  createElementForItem(item) {\n    const itemElement = document.createElement('div');\n    const renderAsTwoRows = this._provider && this._provider.renderAsTwoRows();\n    itemElement.className = 'filtered-list-widget-item ' + (renderAsTwoRows ? 'two-rows' : 'one-row');\n    const titleElement = itemElement.createChild('div', 'filtered-list-widget-title');\n    const subtitleElement = itemElement.createChild('div', 'filtered-list-widget-subtitle');\n    subtitleElement.textContent = '\\u200B';\n    if (this._provider) {\n      this._provider.renderItem(item, this._cleanValue(), titleElement, subtitleElement);\n    }\n    UI.ARIAUtils.markAsOption(itemElement);\n    return itemElement;\n  }\n\n  /**\n   * @override\n   * @param {number} item\n   * @return {number}\n   */\n  heightForItem(item) {\n    // Let the list measure items for us.\n    return 0;\n  }\n\n  /**\n   * @override\n   * @param {number} item\n   * @return {boolean}\n   */\n  isItemSelectable(item) {\n    return true;\n  }\n\n  /**\n   * @override\n   * @param {?number} from\n   * @param {?number} to\n   * @param {?Element} fromElement\n   * @param {?Element} toElement\n   */\n  selectedItemChanged(from, to, fromElement, toElement) {\n    if (fromElement) {\n      fromElement.classList.remove('selected');\n    }\n    if (toElement) {\n      toElement.classList.add('selected');\n    }\n    UI.ARIAUtils.setActiveDescendant(this._promptElement, toElement);\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _onClick(event) {\n    const item = this._list.itemForNode(/** @type {?Node} */ (event.target));\n    if (item === null) {\n      return;\n    }\n\n    event.consume(true);\n    this._selectItem(item);\n    if (this._dialog) {\n      this._dialog.hide();\n    }\n  }\n\n  /**\n   * @param {string} query\n   */\n  setQuery(query) {\n    this._prompt.focus();\n    this._prompt.setText(query);\n    this._queryChanged();\n    this._prompt.autoCompleteSoon(true);\n    this._scheduleFilter();\n  }\n\n  /**\n   * @return {boolean}\n   */\n  _tabKeyPressed() {\n    const userEnteredText = this._prompt.text();\n    let completion;\n    for (let i = this._promptHistory.length - 1; i >= 0; i--) {\n      if (this._promptHistory[i] !== userEnteredText && this._promptHistory[i].startsWith(userEnteredText)) {\n        completion = this._promptHistory[i];\n        break;\n      }\n    }\n    if (!completion) {\n      return false;\n    }\n    this._prompt.focus();\n    this._prompt.setText(completion);\n    this._prompt.setDOMSelection(userEnteredText.length, completion.length);\n    this._scheduleFilter();\n    return true;\n  }\n\n  _itemsFilteredForTest() {\n    // Sniffed in tests.\n  }\n\n  _filterItems() {\n    this._filterTimer = 0;\n    if (this._scoringTimer) {\n      clearTimeout(this._scoringTimer);\n      this._scoringTimer = 0;\n\n      if (this._refreshListWithCurrentResult) {\n        this._refreshListWithCurrentResult();\n      }\n    }\n\n    if (!this._provider) {\n      this._bottomElementsContainer.classList.toggle('hidden', true);\n      this._itemsFilteredForTest();\n      return;\n    }\n\n    this._bottomElementsContainer.classList.toggle('hidden', false);\n\n    this._progressBarElement.style.transform = 'scaleX(0)';\n    this._progressBarElement.classList.remove('filtered-widget-progress-fade', 'hidden');\n\n    const query = this._provider.rewriteQuery(this._cleanValue());\n    this._query = query;\n\n    const filterRegex = query ? Platform.StringUtilities.filterRegex(query) : null;\n\n    /** @type {!Array<number>} */\n    const filteredItems = [];\n\n    /** @type {!Array<number>} */\n    const bestScores = [];\n    /** @type {!Array<number>} */\n    const bestItems = [];\n    const bestItemsToCollect = 100;\n    let minBestScore = 0;\n    /** @type {!Array<number>} */\n    const overflowItems = [];\n    const scoreStartTime = window.performance.now();\n\n    const maxWorkItems = Platform.NumberUtilities.clamp(10, 500, (this._provider.itemCount() / 10) | 0);\n\n    scoreItems.call(this, 0);\n\n    /**\n     * @param {number} a\n     * @param {number} b\n     * @return {number}\n     */\n    function compareIntegers(a, b) {\n      return b - a;\n    }\n\n    /**\n     * @param {number} fromIndex\n     * @this {FilteredListWidget}\n     */\n    function scoreItems(fromIndex) {\n      if (!this._provider) {\n        return;\n      }\n      this._scoringTimer = 0;\n      let workDone = 0;\n      let i;\n\n      for (i = fromIndex; i < this._provider.itemCount() && workDone < maxWorkItems; ++i) {\n        // Filter out non-matching items quickly.\n        if (filterRegex && !filterRegex.test(this._provider.itemKeyAt(i))) {\n          continue;\n        }\n\n        // Score item.\n        const score = this._provider.itemScoreAt(i, query);\n        if (query) {\n          workDone++;\n        }\n\n        // Find its index in the scores array (earlier elements have bigger scores).\n        if (score > minBestScore || bestScores.length < bestItemsToCollect) {\n          const index = Platform.ArrayUtilities.upperBound(bestScores, score, compareIntegers);\n          bestScores.splice(index, 0, score);\n          bestItems.splice(index, 0, i);\n          if (bestScores.length > bestItemsToCollect) {\n            // Best list is too large -> drop last elements.\n            const bestItemLast = bestItems[bestItems.length - 1];\n            if (bestItemLast) {\n              overflowItems.push(bestItemLast);\n            }\n            bestScores.length = bestItemsToCollect;\n            bestItems.length = bestItemsToCollect;\n          }\n          const bestScoreLast = bestScores[bestScores.length - 1];\n          if (bestScoreLast) {\n            minBestScore = bestScoreLast;\n          }\n        } else {\n          filteredItems.push(i);\n        }\n      }\n\n      this._refreshListWithCurrentResult = this._refreshList.bind(this, bestItems, overflowItems, filteredItems);\n\n      // Process everything in chunks.\n      if (i < this._provider.itemCount()) {\n        this._scoringTimer = window.setTimeout(scoreItems.bind(this, i), 0);\n        if (window.performance.now() - scoreStartTime > 50) {\n          this._progressBarElement.style.transform = 'scaleX(' + i / this._provider.itemCount() + ')';\n        }\n        return;\n      }\n      if (window.performance.now() - scoreStartTime > 100) {\n        this._progressBarElement.style.transform = 'scaleX(1)';\n        this._progressBarElement.classList.add('filtered-widget-progress-fade');\n      } else {\n        this._progressBarElement.classList.add('hidden');\n      }\n      this._refreshListWithCurrentResult();\n    }\n  }\n\n  /**\n   * @param {!Array<number>} bestItems\n   * @param {!Array<number>} overflowItems\n   * @param {!Array<number>} filteredItems\n   */\n  _refreshList(bestItems, overflowItems, filteredItems) {\n    this._refreshListWithCurrentResult = undefined;\n    filteredItems = [...bestItems, ...overflowItems, ...filteredItems];\n    this._updateNotFoundMessage(Boolean(filteredItems.length));\n    const oldHeight = this._list.element.offsetHeight;\n    this._items.replaceAll(filteredItems);\n    if (filteredItems.length) {\n      this._list.selectItem(filteredItems[0]);\n    }\n    if (this._list.element.offsetHeight !== oldHeight) {\n      this._list.viewportResized();\n    }\n    this._itemsFilteredForTest();\n  }\n\n  /**\n   * @param {boolean} hasItems\n   */\n  _updateNotFoundMessage(hasItems) {\n    this._list.element.classList.toggle('hidden', !hasItems);\n    this._notFoundElement.classList.toggle('hidden', hasItems);\n    if (!hasItems && this._provider) {\n      this._notFoundElement.textContent = this._provider.notFoundText(this._cleanValue());\n      UI.ARIAUtils.alert(this._notFoundElement.textContent, this._notFoundElement);\n    }\n  }\n\n  _onInput() {\n    this._queryChanged();\n    this._scheduleFilter();\n  }\n\n  _queryChanged() {\n    if (this._queryChangedCallback) {\n      this._queryChangedCallback(this._value());\n    }\n    if (this._provider) {\n      this._provider.queryChanged(this._cleanValue());\n    }\n  }\n\n  /**\n   * @override\n   * @param {?Element} fromElement\n   * @param {?Element} toElement\n   * @return {boolean}\n   */\n  updateSelectedItemARIA(fromElement, toElement) {\n    return false;\n  }\n\n  /**\n   * @param {!KeyboardEvent} keyboardEvent\n   */\n  _onKeyDown(keyboardEvent) {\n    let handled = false;\n    switch (keyboardEvent.key) {\n      case 'Enter':\n        this._onEnter(keyboardEvent);\n        return;\n      case 'Tab':\n        handled = this._tabKeyPressed();\n        break;\n      case 'ArrowUp':\n        handled = this._list.selectPreviousItem(true, false);\n        break;\n      case 'ArrowDown':\n        handled = this._list.selectNextItem(true, false);\n        break;\n      case 'PageUp':\n        handled = this._list.selectItemPreviousPage(false);\n        break;\n      case 'PageDown':\n        handled = this._list.selectItemNextPage(false);\n        break;\n    }\n    if (handled) {\n      keyboardEvent.consume(true);\n    }\n  }\n\n  _scheduleFilter() {\n    if (this._filterTimer) {\n      return;\n    }\n    this._filterTimer = window.setTimeout(this._filterItems.bind(this), 0);\n  }\n\n  /**\n   * @param {?number} itemIndex\n   */\n  _selectItem(itemIndex) {\n    this._promptHistory.push(this._value());\n    if (this._promptHistory.length > 100) {\n      this._promptHistory.shift();\n    }\n    if (this._provider) {\n      this._provider.selectItem(itemIndex, this._cleanValue());\n    }\n  }\n}\n\n\nexport class Provider {\n  constructor() {\n    /** @type {function():void} */\n    this._refreshCallback;\n  }\n\n  /**\n   * @param {function():void} refreshCallback\n   */\n  setRefreshCallback(refreshCallback) {\n    this._refreshCallback = refreshCallback;\n  }\n\n  attach() {\n  }\n\n  /**\n   * @return {number}\n   */\n  itemCount() {\n    return 0;\n  }\n\n  /**\n   * @param {number} itemIndex\n   * @return {string}\n   */\n  itemKeyAt(itemIndex) {\n    return '';\n  }\n\n  /**\n   * @param {number} itemIndex\n   * @param {string} query\n   * @return {number}\n   */\n  itemScoreAt(itemIndex, query) {\n    return 1;\n  }\n\n  /**\n   * @param {number} itemIndex\n   * @param {string} query\n   * @param {!Element} titleElement\n   * @param {!Element} subtitleElement\n   */\n  renderItem(itemIndex, query, titleElement, subtitleElement) {\n  }\n\n  /**\n   * @return {boolean}\n   */\n  renderAsTwoRows() {\n    return false;\n  }\n\n  /**\n   * @param {?number} itemIndex\n   * @param {string} promptValue\n   */\n  selectItem(itemIndex, promptValue) {\n  }\n\n  refresh() {\n    if (this._refreshCallback) {\n      this._refreshCallback();\n    }\n  }\n\n  /**\n   * @param {string} query\n   * @return {string}\n   */\n  rewriteQuery(query) {\n    return query;\n  }\n\n  /**\n   * @param {string} query\n   */\n  queryChanged(query) {\n  }\n\n  /**\n   * @param {string} query\n   * @return {string}\n   */\n  notFoundText(query) {\n    return Common.UIString.UIString('No results found');\n  }\n\n  detach() {\n  }\n}\n"]}