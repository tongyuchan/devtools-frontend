{"version":3,"file":"UISourceCode.js","sourceRoot":"","sources":["../../../../../front_end/workspace/UISourceCode.js"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2011 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../common/common.js';\nimport * as i18n from '../i18n/i18n.js';\nimport * as Platform from '../platform/platform.js';\nimport * as TextUtils from '../text_utils/text_utils.js';\n\nimport {Events as WorkspaceImplEvents, Project, projectTypes} from './WorkspaceImpl.js';  // eslint-disable-line no-unused-vars\n\nexport const UIStrings = {\n  /**\n  *@description Text for the index of something\n  */\n  index: '(index)',\n  /**\n  *@description Text in UISource Code of the DevTools local workspace\n  */\n  thisFileWasChangedExternally: 'This file was changed externally. Would you like to reload it?',\n};\nconst str_ = i18n.i18n.registerUIStrings('workspace/UISourceCode.js', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\n/**\n * @implements {TextUtils.ContentProvider.ContentProvider}\n */\nexport class UISourceCode extends Common.ObjectWrapper.ObjectWrapper {\n  /**\n   * @param {!Project} project\n   * @param {string} url\n   * @param {!Common.ResourceType.ResourceType} contentType\n   */\n  constructor(project, url, contentType) {\n    super();\n    this._project = project;\n    /** @type {string} */\n    this._url = url;\n\n    const parsedURL = Common.ParsedURL.ParsedURL.fromString(url);\n    if (parsedURL) {\n      this._origin = parsedURL.securityOrigin();\n      this._parentURL = this._origin + parsedURL.folderPathComponents;\n      this._name = parsedURL.lastPathComponent;\n      if (parsedURL.queryParams) {\n        this._name += '?' + parsedURL.queryParams;\n      }\n    } else {\n      this._origin = '';\n      this._parentURL = '';\n      this._name = url;\n    }\n\n    this._contentType = contentType;\n    /** @type {?Promise<!TextUtils.ContentProvider.DeferredContent>} */\n    this._requestContentPromise = null;\n    /** @type {?Platform.MapUtilities.Multimap<string, !LineMarker>} */\n    this._decorations = null;\n    this._hasCommits = false;\n    /** @type {?Set<!Message>} */\n    this._messages = null;\n    this._contentLoaded = false;\n    /** @type {?TextUtils.ContentProvider.DeferredContent} */\n    this._content = null;\n    this._forceLoadOnCheckContent = false;\n    this._checkingContent = false;\n    /** @type {?string} */\n    this._lastAcceptedContent = null;\n    /** @type {?string} */\n    this._workingCopy = null;\n    /** @type {?function() : string} */\n    this._workingCopyGetter = null;\n    this._disableEdit = false;\n  }\n\n  /**\n   * @return {!Promise<?UISourceCodeMetadata>}\n   */\n  requestMetadata() {\n    return this._project.requestMetadata(this);\n  }\n\n  /**\n   * @return {string}\n   */\n  name() {\n    return this._name;\n  }\n\n  /**\n   * @return {string}\n   */\n  mimeType() {\n    return this._project.mimeType(this);\n  }\n\n  /**\n   * @return {string}\n   */\n  url() {\n    return this._url;\n  }\n\n  /**\n   * @return {string}\n   */\n  parentURL() {\n    return this._parentURL;\n  }\n\n  /**\n   * @return {string}\n   */\n  origin() {\n    return this._origin;\n  }\n\n  /**\n   * @return {string}\n   */\n  fullDisplayName() {\n    return this._project.fullDisplayName(this);\n  }\n\n  /**\n   * @param {boolean=} skipTrim\n   * @return {string}\n   */\n  displayName(skipTrim) {\n    if (!this._name) {\n      return i18nString(UIStrings.index);\n    }\n    let name = this._name;\n    try {\n      if (this.project().type() === projectTypes.FileSystem) {\n        name = unescape(name);\n      } else {\n        name = decodeURI(name);\n      }\n    } catch (error) {\n    }\n    return skipTrim ? name : Platform.StringUtilities.trimEndWithMaxLength(name, 100);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  canRename() {\n    return this._project.canRename();\n  }\n\n  /**\n   * @param {string} newName\n   * @return {!Promise<boolean>}\n   */\n  rename(newName) {\n    /** @type {function(boolean):void} */\n    let fulfill;\n    const promise = new Promise(x => {\n      fulfill = x;\n    });\n    this._project.rename(this, newName, innerCallback.bind(this));\n    return promise;\n\n    /**\n     * @param {boolean} success\n     * @param {string=} newName\n     * @param {string=} newURL\n     * @param {!Common.ResourceType.ResourceType=} newContentType\n     * @this {UISourceCode}\n     */\n    function innerCallback(success, newName, newURL, newContentType) {\n      if (success) {\n        this._updateName(\n            /** @type {string} */ (newName), /** @type {string} */ (newURL),\n            /** @type {!Common.ResourceType.ResourceType} */ (newContentType));\n      }\n      fulfill(success);\n    }\n  }\n\n  remove() {\n    this._project.deleteFile(this);\n  }\n\n  /**\n   * @param {string} name\n   * @param {string} url\n   * @param {!Common.ResourceType.ResourceType=} contentType\n   */\n  _updateName(name, url, contentType) {\n    const oldURL = this._url;\n    this._url = this._url.substring(0, this._url.length - this._name.length) + name;\n    this._name = name;\n    if (url) {\n      this._url = url;\n    }\n    if (contentType) {\n      this._contentType = contentType;\n    }\n    this.dispatchEventToListeners(Events.TitleChanged, this);\n    this.project().workspace().dispatchEventToListeners(\n        WorkspaceImplEvents.UISourceCodeRenamed, {oldURL: oldURL, uiSourceCode: this});\n  }\n\n  /**\n   * @override\n   * @return {string}\n   */\n  contentURL() {\n    return this.url();\n  }\n\n  /**\n   * @override\n   * @return {!Common.ResourceType.ResourceType}\n   */\n  contentType() {\n    return this._contentType;\n  }\n\n  /**\n   * @override\n   * @return {!Promise<boolean>}\n   */\n  async contentEncoded() {\n    await this.requestContent();\n    return this._contentEncoded || false;\n  }\n\n  /**\n   * @return {!Project}\n   */\n  project() {\n    return this._project;\n  }\n\n  /**\n   * @override\n   * @return {!Promise<!TextUtils.ContentProvider.DeferredContent>}\n   */\n  requestContent() {\n    if (this._requestContentPromise) {\n      return this._requestContentPromise;\n    }\n\n    if (this._contentLoaded) {\n      return Promise.resolve(/** @type {!TextUtils.ContentProvider.DeferredContent} */ (this._content));\n    }\n\n\n    this._requestContentPromise = this._requestContentImpl();\n    return this._requestContentPromise;\n  }\n\n  /**\n   * @returns {!Promise<!TextUtils.ContentProvider.DeferredContent>}\n   */\n  async _requestContentImpl() {\n    try {\n      const content = await this._project.requestFileContent(this);\n      if (!this._contentLoaded) {\n        this._contentLoaded = true;\n        this._content = content;\n        this._contentEncoded = content.isEncoded;\n      }\n    } catch (err) {\n      this._contentLoaded = true;\n      this._content = {content: null, error: err ? String(err) : '', isEncoded: false};\n    }\n\n    return /** @type {!TextUtils.ContentProvider.DeferredContent} */ (this._content);\n  }\n\n  async checkContentUpdated() {\n    if (!this._contentLoaded && !this._forceLoadOnCheckContent) {\n      return;\n    }\n\n    if (!this._project.canSetFileContent() || this._checkingContent) {\n      return;\n    }\n\n    this._checkingContent = true;\n    const updatedContent = await this._project.requestFileContent(this);\n    if ('error' in updatedContent) {\n      return;\n    }\n    this._checkingContent = false;\n    if (updatedContent.content === null) {\n      const workingCopy = this.workingCopy();\n      this._contentCommitted('', false);\n      this.setWorkingCopy(workingCopy);\n      return;\n    }\n    if (this._lastAcceptedContent === updatedContent.content) {\n      return;\n    }\n\n    if (this._content && 'content' in this._content && this._content.content === updatedContent.content) {\n      this._lastAcceptedContent = null;\n      return;\n    }\n\n    if (!this.isDirty() || this._workingCopy === updatedContent.content) {\n      this._contentCommitted(/** @type {string} */ (updatedContent.content), false);\n      return;\n    }\n\n    await Common.Revealer.reveal(this);\n\n    // Make sure we are in the next frame before stopping the world with confirm\n    await new Promise(resolve => setTimeout(resolve, 0));\n\n    const shouldUpdate = window.confirm(i18nString(UIStrings.thisFileWasChangedExternally));\n    if (shouldUpdate) {\n      this._contentCommitted(/** @type {string} */ (updatedContent.content), false);\n    } else {\n      this._lastAcceptedContent = updatedContent.content;\n    }\n  }\n\n  forceLoadOnCheckContent() {\n    this._forceLoadOnCheckContent = true;\n  }\n\n  /**\n   * @param {string} content\n   */\n  _commitContent(content) {\n    if (this._project.canSetFileContent()) {\n      this._project.setFileContent(this, content, false);\n    }\n    this._contentCommitted(content, true);\n  }\n\n  /**\n   * @param {string} content\n   * @param {boolean} committedByUser\n   */\n  _contentCommitted(content, committedByUser) {\n    this._lastAcceptedContent = null;\n    this._content = {content, isEncoded: false};\n    this._contentLoaded = true;\n    this._requestContentPromise = null;\n\n    this._hasCommits = true;\n\n    this._innerResetWorkingCopy();\n    const data = {uiSourceCode: this, content, encoded: this._contentEncoded};\n    this.dispatchEventToListeners(Events.WorkingCopyCommitted, data);\n    this._project.workspace().dispatchEventToListeners(WorkspaceImplEvents.WorkingCopyCommitted, data);\n    if (committedByUser) {\n      this._project.workspace().dispatchEventToListeners(WorkspaceImplEvents.WorkingCopyCommittedByUser, data);\n    }\n  }\n\n  /**\n   * @param {string} content\n   */\n  addRevision(content) {\n    this._commitContent(content);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  hasCommits() {\n    return this._hasCommits;\n  }\n\n  /**\n   * @return {string}\n   */\n  workingCopy() {\n    if (this._workingCopyGetter) {\n      this._workingCopy = this._workingCopyGetter();\n      this._workingCopyGetter = null;\n    }\n    if (this.isDirty()) {\n      return /** @type {string} */ (this._workingCopy);\n    }\n    return (this._content && 'content' in this._content && this._content.content) || '';\n  }\n\n  resetWorkingCopy() {\n    this._innerResetWorkingCopy();\n    this._workingCopyChanged();\n  }\n\n  _innerResetWorkingCopy() {\n    this._workingCopy = null;\n    this._workingCopyGetter = null;\n  }\n\n  /**\n   * @param {string} newWorkingCopy\n   */\n  setWorkingCopy(newWorkingCopy) {\n    this._workingCopy = newWorkingCopy;\n    this._workingCopyGetter = null;\n    this._workingCopyChanged();\n  }\n\n  /**\n   * @param {string} content\n   * @param {boolean} isBase64\n   */\n  setContent(content, isBase64) {\n    this._contentEncoded = isBase64;\n    if (this._project.canSetFileContent()) {\n      this._project.setFileContent(this, content, isBase64);\n    }\n    this._contentCommitted(content, true);\n  }\n\n  /**\n  * @param {function(): string } workingCopyGetter\n  */\n  setWorkingCopyGetter(workingCopyGetter) {\n    this._workingCopyGetter = workingCopyGetter;\n    this._workingCopyChanged();\n  }\n\n  _workingCopyChanged() {\n    this._removeAllMessages();\n    this.dispatchEventToListeners(Events.WorkingCopyChanged, this);\n    this._project.workspace().dispatchEventToListeners(WorkspaceImplEvents.WorkingCopyChanged, {uiSourceCode: this});\n  }\n\n  removeWorkingCopyGetter() {\n    if (!this._workingCopyGetter) {\n      return;\n    }\n    this._workingCopy = this._workingCopyGetter();\n    this._workingCopyGetter = null;\n  }\n\n  commitWorkingCopy() {\n    if (this.isDirty()) {\n      this._commitContent(this.workingCopy());\n    }\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isDirty() {\n    return this._workingCopy !== null || this._workingCopyGetter !== null;\n  }\n\n  /**\n   * @return {string}\n   */\n  extension() {\n    return Common.ParsedURL.ParsedURL.extractExtension(this._name);\n  }\n\n  /**\n   * @return {string}\n   */\n  content() {\n    return (this._content && 'content' in this._content && this._content.content) || '';\n  }\n\n  /**\n   * @return {?string}\n   */\n  loadError() {\n    return (this._content && 'error' in this._content && this._content.error) || null;\n  }\n\n  /**\n   * @override\n   * @param {string} query\n   * @param {boolean} caseSensitive\n   * @param {boolean} isRegex\n   * @return {!Promise<!Array<!TextUtils.ContentProvider.SearchMatch>>}\n   */\n  searchInContent(query, caseSensitive, isRegex) {\n    const content = this.content();\n    if (!content) {\n      return this._project.searchInFileContent(this, query, caseSensitive, isRegex);\n    }\n    return Promise.resolve(TextUtils.TextUtils.performSearchInContent(content, query, caseSensitive, isRegex));\n  }\n\n  /**\n   * @return {boolean}\n   */\n  contentLoaded() {\n    return this._contentLoaded;\n  }\n\n  /**\n   * @param {number} lineNumber\n   * @param {number=} columnNumber\n   * @return {!UILocation}\n   */\n  uiLocation(lineNumber, columnNumber) {\n    return new UILocation(this, lineNumber, columnNumber);\n  }\n\n  /**\n   * @return {!Set<!Message>}\n   */\n  messages() {\n    return this._messages ? new Set(this._messages) : new Set();\n  }\n\n  /**\n   * @param {!Message.Level} level\n   * @param {string} text\n   * @param {number} lineNumber\n   * @param {number=} columnNumber\n   * @param {(() => void )=} clickHandler\n   * @return {!Message} message\n   */\n  addLineMessage(level, text, lineNumber, columnNumber, clickHandler) {\n    return this.addMessage(\n        level, text, new TextUtils.TextRange.TextRange(lineNumber, columnNumber || 0, lineNumber, columnNumber || 0),\n        clickHandler);\n  }\n\n  /**\n   * @param {!Message.Level} level\n   * @param {string} text\n   * @param {!TextUtils.TextRange.TextRange} range\n   * @param {(() => void )=} clickHandler\n   * @return {!Message} message\n   */\n  addMessage(level, text, range, clickHandler) {\n    const message = new Message(this, level, text, range, clickHandler);\n    if (!this._messages) {\n      this._messages = new Set();\n    }\n    this._messages.add(message);\n    this.dispatchEventToListeners(Events.MessageAdded, message);\n    return message;\n  }\n\n  /**\n   * @param {!Message} message\n   */\n  removeMessage(message) {\n    if (this._messages && this._messages.delete(message)) {\n      this.dispatchEventToListeners(Events.MessageRemoved, message);\n    }\n  }\n\n  _removeAllMessages() {\n    if (!this._messages) {\n      return;\n    }\n    for (const message of this._messages) {\n      this.dispatchEventToListeners(Events.MessageRemoved, message);\n    }\n    this._messages = null;\n  }\n\n  /**\n   * @param {number} lineNumber\n   * @param {string} type\n   * @param {?} data\n   */\n  addLineDecoration(lineNumber, type, data) {\n    this.addDecoration(TextUtils.TextRange.TextRange.createFromLocation(lineNumber, 0), type, data);\n  }\n\n  /**\n   * @param {!TextUtils.TextRange.TextRange} range\n   * @param {string} type\n   * @param {?} data\n   */\n  addDecoration(range, type, data) {\n    const marker = new LineMarker(range, type, data);\n    if (!this._decorations) {\n      this._decorations = new Platform.MapUtilities.Multimap();\n    }\n    this._decorations.set(type, marker);\n    this.dispatchEventToListeners(Events.LineDecorationAdded, marker);\n  }\n\n  /**\n   * @param {string} type\n   */\n  removeDecorationsForType(type) {\n    if (!this._decorations) {\n      return;\n    }\n    const markers = this._decorations.get(type);\n    this._decorations.deleteAll(type);\n    markers.forEach(marker => {\n      this.dispatchEventToListeners(Events.LineDecorationRemoved, marker);\n    });\n  }\n\n  /**\n   * @return {!Array<!LineMarker>}\n   */\n  allDecorations() {\n    return this._decorations ? this._decorations.valuesArray() : [];\n  }\n\n  removeAllDecorations() {\n    if (!this._decorations) {\n      return;\n    }\n    const decorationList = this._decorations.valuesArray();\n    this._decorations.clear();\n    decorationList.forEach(marker => this.dispatchEventToListeners(Events.LineDecorationRemoved, marker));\n  }\n\n  /**\n   * @param {string} type\n   * @return {?Set<!LineMarker>}\n   */\n  decorationsForType(type) {\n    return this._decorations ? this._decorations.get(type) : null;\n  }\n\n  disableEdit() {\n    this._disableEdit = true;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  editDisabled() {\n    return this._disableEdit;\n  }\n}\n\n/** @enum {symbol} */\nexport const Events = {\n  WorkingCopyChanged: Symbol('WorkingCopyChanged'),\n  WorkingCopyCommitted: Symbol('WorkingCopyCommitted'),\n  TitleChanged: Symbol('TitleChanged'),\n  MessageAdded: Symbol('MessageAdded'),\n  MessageRemoved: Symbol('MessageRemoved'),\n  LineDecorationAdded: Symbol('LineDecorationAdded'),\n  LineDecorationRemoved: Symbol('LineDecorationRemoved')\n};\n\nexport class UILocation {\n  /**\n   * @param {!UISourceCode} uiSourceCode\n   * @param {number} lineNumber\n   * @param {number=} columnNumber\n   */\n  constructor(uiSourceCode, lineNumber, columnNumber) {\n    this.uiSourceCode = uiSourceCode;\n    this.lineNumber = lineNumber;\n    this.columnNumber = columnNumber;\n  }\n\n  /**\n   * @param {boolean=} skipTrim\n   * @return {string}\n   */\n  linkText(skipTrim) {\n    let linkText = this.uiSourceCode.displayName(skipTrim);\n    if (this.uiSourceCode.mimeType() === 'application/wasm') {\n      // For WebAssembly locations, we follow the conventions described in\n      // github.com/WebAssembly/design/blob/master/Web.md#developer-facing-display-conventions\n      if (typeof this.columnNumber === 'number') {\n        linkText += `:0x${this.columnNumber.toString(16)}`;\n      }\n    } else if (typeof this.lineNumber === 'number') {\n      linkText += ':' + (this.lineNumber + 1);\n    }\n    return linkText;\n  }\n\n  /**\n   * @return {string}\n   */\n  id() {\n    if (typeof this.columnNumber === 'number') {\n      return this.uiSourceCode.project().id() + ':' + this.uiSourceCode.url() + ':' + this.lineNumber + ':' +\n          this.columnNumber;\n    }\n    return this.lineId();\n  }\n\n  /**\n   * @return {string}\n   */\n  lineId() {\n    return this.uiSourceCode.project().id() + ':' + this.uiSourceCode.url() + ':' + this.lineNumber;\n  }\n\n  /**\n   * @return {string}\n   */\n  toUIString() {\n    return this.uiSourceCode.url() + ':' + (this.lineNumber + 1);\n  }\n\n  /**\n   * @param {!UILocation} location1\n   * @param {!UILocation} location2\n   * @return {number}\n   */\n  static comparator(location1, location2) {\n    return location1.compareTo(location2);\n  }\n\n  /**\n   * @param {!UILocation} other\n   * @return {number}\n   */\n  compareTo(other) {\n    if (this.uiSourceCode.url() !== other.uiSourceCode.url()) {\n      return this.uiSourceCode.url() > other.uiSourceCode.url() ? 1 : -1;\n    }\n    if (this.lineNumber !== other.lineNumber) {\n      return this.lineNumber - other.lineNumber;\n    }\n    // We consider `undefined` less than an actual column number, since\n    // UI location without a column number corresponds to the whole line.\n    if (this.columnNumber === other.columnNumber) {\n      return 0;\n    }\n    if (typeof this.columnNumber !== 'number') {\n      return -1;\n    }\n    if (typeof other.columnNumber !== 'number') {\n      return 1;\n    }\n    return this.columnNumber - other.columnNumber;\n  }\n}\n\nexport class Message {\n  /**\n   * @param {!UISourceCode} uiSourceCode\n   * @param {!Message.Level} level\n   * @param {string} text\n   * @param {!TextUtils.TextRange.TextRange} range\n   * @param {(() => void )=} clickHandler\n   */\n  constructor(uiSourceCode, level, text, range, clickHandler) {\n    this._uiSourceCode = uiSourceCode;\n    this._level = level;\n    this._text = text;\n    this._range = range;\n    this._clickHandler = clickHandler;\n  }\n\n  /**\n   * @return {!UISourceCode}\n   */\n  uiSourceCode() {\n    return this._uiSourceCode;\n  }\n\n  /**\n   * @return {!Message.Level}\n   */\n  level() {\n    return this._level;\n  }\n\n  /**\n   * @return {string}\n   */\n  text() {\n    return this._text;\n  }\n\n  /**\n   * @return {!TextUtils.TextRange.TextRange}\n   */\n  range() {\n    return this._range;\n  }\n\n  /**\n   * @return {(() => void ) | undefined}\n   */\n  clickHandler() {\n    return this._clickHandler;\n  }\n\n  /**\n   * @return {number}\n   */\n  lineNumber() {\n    return this._range.startLine;\n  }\n\n  /**\n   * @return {(number|undefined)}\n   */\n  columnNumber() {\n    return this._range.startColumn;\n  }\n\n  /**\n   * @param {!Message} another\n   * @return {boolean}\n   */\n  isEqual(another) {\n    return this._uiSourceCode === another._uiSourceCode && this.text() === another.text() &&\n        this.level() === another.level() && this.range().equal(another.range());\n  }\n\n  remove() {\n    this._uiSourceCode.removeMessage(this);\n  }\n}\n\n/**\n * @enum {string}\n */\nMessage.Level = {\n  Error: 'Error',\n  Issue: 'Issue',\n  Warning: 'Warning'\n};\n\nexport class LineMarker {\n  /**\n   * @param {!TextUtils.TextRange.TextRange} range\n   * @param {string} type\n   * @param {?} data\n   */\n  constructor(range, type, data) {\n    this._range = range;\n    this._type = type;\n    this._data = data;\n  }\n\n  /**\n   * @return {!TextUtils.TextRange.TextRange}\n   */\n  range() {\n    return this._range;\n  }\n\n  /**\n   * @return {string}\n   */\n  type() {\n    return this._type;\n  }\n\n  /**\n   * @return {*}\n   */\n  data() {\n    return this._data;\n  }\n}\n\nexport class UISourceCodeMetadata {\n  /**\n   * @param {?Date} modificationTime\n   * @param {?number} contentSize\n   */\n  constructor(modificationTime, contentSize) {\n    this.modificationTime = modificationTime;\n    this.contentSize = contentSize;\n  }\n}\n"]}