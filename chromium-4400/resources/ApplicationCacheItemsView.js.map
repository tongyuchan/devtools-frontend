{"version":3,"file":"ApplicationCacheItemsView.js","sourceRoot":"","sources":["../../../../../front_end/resources/ApplicationCacheItemsView.js"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2010 Apple Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n * 1. Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE INC. AND ITS CONTRIBUTORS ``AS IS''\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\n * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL APPLE INC. OR ITS CONTRIBUTORS\n * BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF\n * THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../common/common.js';\nimport * as DataGrid from '../data_grid/data_grid.js';\nimport * as Platform from '../platform/platform.js';\nimport {ls} from '../platform/platform.js';\nimport * as UI from '../ui/ui.js';\n\nimport {ApplicationCacheModel, CHECKING, DOWNLOADING, IDLE, OBSOLETE, UNCACHED, UPDATEREADY} from './ApplicationCacheModel.js';  // eslint-disable-line no-unused-vars\n\nexport class ApplicationCacheItemsView extends UI.View.SimpleView {\n  /**\n   * @param {!ApplicationCacheModel} model\n   * @param {!Protocol.Page.FrameId} frameId\n   */\n  constructor(model, frameId) {\n    super(Common.UIString.UIString('AppCache'));\n\n    this._model = model;\n\n    this.element.classList.add('storage-view', 'table');\n\n    this._deleteButton = new UI.Toolbar.ToolbarButton(Common.UIString.UIString('Delete'), 'largeicon-delete');\n    this._deleteButton.setVisible(false);\n    this._deleteButton.addEventListener(UI.Toolbar.ToolbarButton.Events.Click, this._deleteButtonClicked, this);\n\n    this._connectivityIcon =\n        /** @type {!UI.UIUtils.DevToolsIconLabel} */ (document.createElement('span', {is: 'dt-icon-label'}));\n    this._connectivityIcon.style.margin = '0 2px 0 5px';\n    this._statusIcon =\n        /** @type {!UI.UIUtils.DevToolsIconLabel} */ (document.createElement('span', {is: 'dt-icon-label'}));\n    this._statusIcon.style.margin = '0 2px 0 5px';\n\n    this._frameId = frameId;\n\n    this._emptyWidget =\n        new UI.EmptyWidget.EmptyWidget(Common.UIString.UIString('No Application Cache information available.'));\n    this._emptyWidget.show(this.element);\n\n    this._markDirty();\n\n    const status = this._model.frameManifestStatus(frameId);\n    this.updateStatus(status);\n    this.updateNetworkState(this._model.onLine);\n\n    // FIXME: Status bar items don't work well enough yet, so they are being hidden.\n    // http://webkit.org/b/41637 Web Inspector: Give Semantics to \"Refresh\" and \"Delete\" Buttons in ApplicationCache DataGrid\n    (/** @type {!HTMLElement} */ (this._deleteButton.element)).style.display = 'none';\n\n    /** @type {!WeakMap<!DataGrid.DataGrid.DataGridNode<*>, !Protocol.ApplicationCache.ApplicationCacheResource>} */\n    this._nodeResources = new WeakMap();\n  }\n\n  /**\n   * @override\n   * @return {!Promise<!Array.<!UI.Toolbar.ToolbarItem>>}\n   */\n  async toolbarItems() {\n    return [\n      this._deleteButton, new UI.Toolbar.ToolbarItem(this._connectivityIcon), new UI.Toolbar.ToolbarSeparator(),\n      new UI.Toolbar.ToolbarItem(this._statusIcon)\n    ];\n  }\n\n  /**\n   * @override\n   */\n  wasShown() {\n    this._maybeUpdate();\n  }\n\n  /**\n   * @override\n   */\n  willHide() {\n    this._deleteButton.setVisible(false);\n  }\n\n  _maybeUpdate() {\n    if (!this.isShowing() || !this._viewDirty) {\n      return;\n    }\n\n    this._update();\n    this._viewDirty = false;\n  }\n\n  _markDirty() {\n    this._viewDirty = true;\n  }\n\n  /**\n   * @param {number} status\n   */\n  updateStatus(status) {\n    const oldStatus = this._status;\n    this._status = status;\n\n    const statusInformation = new Map([\n      // We should never have UNCACHED status, since we remove frames with UNCACHED application cache status from the tree.\n      [UNCACHED, {type: 'smallicon-red-ball', text: 'UNCACHED'}],\n      [IDLE, {type: 'smallicon-green-ball', text: 'IDLE'}],\n      [CHECKING, {type: 'smallicon-orange-ball', text: 'CHECKING'}],\n      [DOWNLOADING, {type: 'smallicon-orange-ball', text: 'DOWNLOADING'}],\n      [UPDATEREADY, {type: 'smallicon-green-ball', text: 'UPDATEREADY'}],\n      [OBSOLETE, {type: 'smallicon-red-ball', text: 'OBSOLETE'}],\n    ]);\n    const info = statusInformation.get(status) || statusInformation.get(UNCACHED);\n    if (info) {\n      this._statusIcon.type = info.type;\n      this._statusIcon.textContent = info.text;\n    }\n\n    if (this.isShowing() && this._status === IDLE && (oldStatus === UPDATEREADY || !this._resources)) {\n      this._markDirty();\n    }\n    this._maybeUpdate();\n  }\n\n  /**\n   * @param {boolean} isNowOnline\n   */\n  updateNetworkState(isNowOnline) {\n    if (isNowOnline) {\n      this._connectivityIcon.type = 'smallicon-green-ball';\n      this._connectivityIcon.textContent = Common.UIString.UIString('Online');\n    } else {\n      this._connectivityIcon.type = 'smallicon-red-ball';\n      this._connectivityIcon.textContent = Common.UIString.UIString('Offline');\n    }\n  }\n\n  async _update() {\n    const applicationCache = await this._model.requestApplicationCache(this._frameId);\n\n    if (!applicationCache || !applicationCache.manifestURL) {\n      delete this._manifest;\n      delete this._creationTime;\n      delete this._updateTime;\n      delete this._size;\n      delete this._resources;\n\n      this._emptyWidget.show(this.element);\n      this._deleteButton.setVisible(false);\n      if (this._dataGrid) {\n        this._dataGrid.element.classList.add('hidden');\n      }\n      return;\n    }\n    // FIXME: are these variables needed anywhere else?\n    this._manifest = applicationCache.manifestURL;\n    this._creationTime = applicationCache.creationTime;\n    this._updateTime = applicationCache.updateTime;\n    this._size = applicationCache.size;\n    this._resources = applicationCache.resources;\n\n    if (!this._dataGrid) {\n      this._createDataGrid();\n    }\n\n    this._populateDataGrid();\n    if (this._dataGrid) {\n      this._dataGrid.autoSizeColumns(20, 80);\n      this._dataGrid.element.classList.remove('hidden');\n    }\n    this._emptyWidget.detach();\n    this._deleteButton.setVisible(true);\n\n    // FIXME: For Chrome, put creationTime and updateTime somewhere.\n    // NOTE: localizedString has not yet been added.\n    // Common.UIString.UIString(\"(%s) Created: %s Updated: %s\", this._size, this._creationTime, this._updateTime);\n  }\n\n  _createDataGrid() {\n    const columns = /** @type {!Array<!DataGrid.DataGrid.ColumnDescriptor>} */ ([\n      {\n        id: 'resource',\n        title: Common.UIString.UIString('Resource'),\n        sort: DataGrid.DataGrid.Order.Ascending,\n        sortable: true\n      },\n      {id: 'type', title: Common.UIString.UIString('Type'), sortable: true},\n      {id: 'size', title: Common.UIString.UIString('Size'), align: DataGrid.DataGrid.Align.Right, sortable: true}\n    ]);\n    /** @type {!DataGrid.DataGrid.Parameters} */\n    const parameters = {\n      displayName: ls`Application Cache`,\n      columns,\n      editCallback: undefined,\n      deleteCallback: undefined,\n      refreshCallback: undefined\n    };\n    this._dataGrid = new DataGrid.DataGrid.DataGridImpl(parameters);\n    this._dataGrid.setStriped(true);\n    this._dataGrid.asWidget().show(this.element);\n    this._dataGrid.addEventListener(DataGrid.DataGrid.Events.SortingChanged, this._populateDataGrid, this);\n  }\n\n  _populateDataGrid() {\n    if (!this._dataGrid) {\n      return;\n    }\n    /** @type {?Protocol.ApplicationCache.ApplicationCacheResource} */\n    const selectedResource =\n        (this._dataGrid.selectedNode ? this._nodeResources.get(this._dataGrid.selectedNode) : null) || null;\n    const sortDirection = this._dataGrid.isSortOrderAscending() ? 1 : -1;\n\n    /**\n     * @param {string} field\n     * @param {!Protocol.ApplicationCache.ApplicationCacheResource} resource1\n     * @param {!Protocol.ApplicationCache.ApplicationCacheResource} resource2\n     */\n    function numberCompare(field, resource1, resource2) {\n      return sortDirection * (/** @type {*} */ (resource1)[field] - /** @type {*} */ (resource2)[field]);\n    }\n\n    /**\n     * @param {string} field\n     * @param {!Protocol.ApplicationCache.ApplicationCacheResource} resource1\n     * @param {!Protocol.ApplicationCache.ApplicationCacheResource} resource2\n     */\n    function localeCompare(field, resource1, resource2) {\n      return sortDirection *\n          String(/** @type {*} */ (resource1)[field]).localeCompare(String(/** @type {*} */ (resource2)[field]));\n    }\n\n    let comparator;\n    switch (this._dataGrid.sortColumnId()) {\n      case 'resource':\n        comparator = localeCompare.bind(null, 'url');\n        break;\n      case 'type':\n        comparator = localeCompare.bind(null, 'type');\n        break;\n      case 'size':\n        comparator = numberCompare.bind(null, 'size');\n        break;\n      default:\n        localeCompare.bind(null, 'resource');  // FIXME: comparator = ?\n    }\n\n    this._dataGrid.rootNode().removeChildren();\n    if (!this._resources) {\n      return;\n    }\n    this._resources.sort(comparator);\n\n    let nodeToSelect;\n    for (let i = 0; i < this._resources.length; ++i) {\n      const data = {};\n      const resource = this._resources[i];\n      data.resource = resource.url;\n      data.type = resource.type;\n      data.size = Platform.NumberUtilities.bytesToString(resource.size);\n      const node = new DataGrid.DataGrid.DataGridNode(data);\n      this._nodeResources.set(node, resource);\n      node.selectable = true;\n      this._dataGrid.rootNode().appendChild(node);\n      if (resource === selectedResource) {\n        nodeToSelect = node;\n        nodeToSelect.selected = true;\n      }\n    }\n\n    if (!nodeToSelect && this._dataGrid.rootNode().children.length) {\n      this._dataGrid.rootNode().children[0].selected = true;\n    }\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _deleteButtonClicked(event) {\n    if (!this._dataGrid || !this._dataGrid.selectedNode) {\n      return;\n    }\n\n    // FIXME: Delete Button semantics are not yet defined. (Delete a single, or all?)\n    this._deleteCallback(this._dataGrid.selectedNode);\n  }\n\n  /**\n   * @param {!DataGrid.DataGrid.DataGridNode<*>} node\n   */\n  _deleteCallback(node) {\n    // FIXME: Should we delete a single (selected) resource or all resources?\n    // ProtocolClient.inspectorBackend.deleteCachedResource(...)\n    // this._update();\n  }\n}\n"]}