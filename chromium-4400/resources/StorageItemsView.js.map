{"version":3,"file":"StorageItemsView.js","sourceRoot":"","sources":["../../../../../front_end/resources/StorageItemsView.js"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2017 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../common/common.js';\nimport * as Platform from '../platform/platform.js';\nimport * as UI from '../ui/ui.js';\n\nexport class StorageItemsView extends UI.Widget.VBox {\n  /**\n   * @param {string} title\n   * @param {string} filterName\n   */\n  constructor(title, filterName) {\n    super(false);\n    /** @type {?RegExp} */\n    this._filterRegex = null;\n\n    this._refreshButton = this._addButton(Common.UIString.UIString('Refresh'), 'largeicon-refresh', this.refreshItems);\n\n    this._mainToolbar = new UI.Toolbar.Toolbar('top-resources-toolbar', this.element);\n\n    this._filterItem = new UI.Toolbar.ToolbarInput(Common.UIString.UIString('Filter'), '', 0.4);\n    this._filterItem.addEventListener(UI.Toolbar.ToolbarInput.Event.TextChanged, this._filterChanged, this);\n\n    const toolbarSeparator = new UI.Toolbar.ToolbarSeparator();\n    this._deleteAllButton =\n        this._addButton(Common.UIString.UIString('Clear All'), 'largeicon-clear', this.deleteAllItems);\n    this._deleteSelectedButton =\n        this._addButton(Common.UIString.UIString('Delete Selected'), 'largeicon-delete', this.deleteSelectedItem);\n    this._deleteAllButton.element.id = 'storage-items-delete-all';\n\n    const toolbarItems =\n        [this._refreshButton, this._filterItem, toolbarSeparator, this._deleteAllButton, this._deleteSelectedButton];\n    for (const item of toolbarItems) {\n      this._mainToolbar.appendToolbarItem(item);\n    }\n  }\n\n  /**\n   * @param {string} title\n   */\n  setDeleteAllTitle(title) {\n    this._deleteAllButton.setTitle(title);\n  }\n\n  /**\n   * @param {string} glyph\n   */\n  setDeleteAllGlyph(glyph) {\n    this._deleteAllButton.setGlyph(glyph);\n  }\n\n  /**\n   * @param {!UI.Toolbar.ToolbarItem} item\n   */\n  appendToolbarItem(item) {\n    this._mainToolbar.appendToolbarItem(item);\n  }\n\n  /**\n   * @param {string} label\n   * @param {string} glyph\n   * @param {function(!Common.EventTarget.EventTargetEvent):void} callback\n   * @return {!UI.Toolbar.ToolbarButton}\n   */\n  _addButton(label, glyph, callback) {\n    const button = new UI.Toolbar.ToolbarButton(label, glyph);\n    button.addEventListener(UI.Toolbar.ToolbarButton.Events.Click, callback, this);\n    return button;\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _filterChanged(event) {\n    const text = /** @type {?string} */ (event.data);\n    this._filterRegex = text ? new RegExp(Platform.StringUtilities.escapeForRegExp(text), 'i') : null;\n    this.refreshItems();\n  }\n\n  /**\n   * @template T\n   * @param {!Array<!T>} items\n   * @param {function(!T): string} keyFunction\n   * @return {!Array<!T>}\n   * @protected\n   */\n  filter(items, keyFunction) {\n    if (this._filterRegex) {\n      const regExp = this._filterRegex;\n      return items.filter(item => regExp.test(keyFunction(item)));\n    }\n    return items;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  hasFilter() {\n    return Boolean(this._filterRegex);\n  }\n\n  /**\n   * @override\n   */\n  wasShown() {\n    this.refreshItems();\n  }\n\n  /**\n   * @param {boolean} enabled\n   * @protected\n   */\n  setCanDeleteAll(enabled) {\n    this._deleteAllButton.setEnabled(enabled);\n  }\n\n  /**\n   * @param {boolean} enabled\n   * @protected\n   */\n  setCanDeleteSelected(enabled) {\n    this._deleteSelectedButton.setEnabled(enabled);\n  }\n\n  /**\n   * @param {boolean} enabled\n   * @protected\n   */\n  setCanRefresh(enabled) {\n    this._refreshButton.setEnabled(enabled);\n  }\n\n  /**\n   * @param {boolean} enabled\n   * @protected\n   */\n  setCanFilter(enabled) {\n    this._filterItem.setEnabled(enabled);\n  }\n\n  deleteAllItems() {\n  }\n\n  deleteSelectedItem() {\n  }\n\n  refreshItems() {\n  }\n}\n"]}