{"version":3,"file":"Toolbar.js","sourceRoot":"","sources":["../../../../../front_end/ui/Toolbar.js"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2009 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../common/common.js';\nimport * as Host from '../host/host.js';\nimport * as Root from '../root/root.js';\n\nimport {Action, Events as ActionEvents} from './ActionRegistration.js';  // eslint-disable-line no-unused-vars\nimport {ActionRegistry} from './ActionRegistry.js';\nimport * as ARIAUtils from './ARIAUtils.js';\nimport {ContextMenu} from './ContextMenu.js';\nimport {GlassPane, PointerEventsBehavior} from './GlassPane.js';\nimport {Icon} from './Icon.js';\nimport {bindCheckbox} from './SettingsUI.js';\nimport {Suggestions} from './SuggestBox.js';  // eslint-disable-line no-unused-vars\nimport {Events as TextPromptEvents, TextPrompt} from './TextPrompt.js';\nimport {Tooltip} from './Tooltip.js';\nimport {CheckboxLabel, LongClickController} from './UIUtils.js';\nimport {createShadowRootWithCoreStyles} from './utils/create-shadow-root-with-core-styles.js';\n\nexport class Toolbar {\n  /**\n   * @param {string} className\n   * @param {!Element=} parentElement\n   */\n  constructor(className, parentElement) {\n    /** @type {!Array.<!ToolbarItem>} */\n    this._items = [];\n    /** @type {!HTMLElement} */\n    this.element =\n        /** @type {!HTMLElement} */ (parentElement ? parentElement.createChild('div') : document.createElement('div'));\n    this.element.className = className;\n    this.element.classList.add('toolbar');\n    this._enabled = true;\n    this._shadowRoot = createShadowRootWithCoreStyles(\n        this.element, {cssFile: 'ui/toolbar.css', enableLegacyPatching: true, delegatesFocus: undefined});\n    this._contentElement = this._shadowRoot.createChild('div', 'toolbar-shadow');\n    this._insertionPoint = this._contentElement.createChild('slot');\n  }\n\n  /**\n   * @param {!Action} action\n   * @param {!Array<!ToolbarButton>} toggledOptions\n   * @param {!Array<!ToolbarButton>} untoggledOptions\n   * @return {!ToolbarButton}\n   */\n  static createLongPressActionButton(action, toggledOptions, untoggledOptions) {\n    const button = Toolbar.createActionButton(action);\n    const mainButtonClone = Toolbar.createActionButton(action);\n\n    /** @type {?LongClickController} */\n    let longClickController = null;\n    /** @type {?Array<!ToolbarButton>} */\n    let longClickButtons = null;\n    /** @type {?Element} */\n    let longClickGlyph = null;\n\n    action.addEventListener(ActionEvents.Toggled, updateOptions);\n    updateOptions();\n    return button;\n\n    function updateOptions() {\n      const buttons = action.toggled() ? (toggledOptions || null) : (untoggledOptions || null);\n\n      if (buttons && buttons.length) {\n        if (!longClickController) {\n          longClickController = new LongClickController(button.element, showOptions);\n          longClickGlyph = Icon.create('largeicon-longclick-triangle', 'long-click-glyph');\n          button.element.appendChild(longClickGlyph);\n          longClickButtons = buttons;\n        }\n      } else {\n        if (longClickController) {\n          longClickController.dispose();\n          longClickController = null;\n          if (longClickGlyph) {\n            longClickGlyph.remove();\n          }\n          longClickGlyph = null;\n          longClickButtons = null;\n        }\n      }\n    }\n\n    function showOptions() {\n      let buttons = longClickButtons ? longClickButtons.slice() : [];\n      buttons.push(mainButtonClone);\n\n      const document = button.element.ownerDocument;\n      document.documentElement.addEventListener('mouseup', mouseUp, false);\n\n      const optionsGlassPane = new GlassPane();\n      optionsGlassPane.setPointerEventsBehavior(PointerEventsBehavior.BlockedByGlassPane);\n      optionsGlassPane.show(document);\n      const optionsBar = new Toolbar('fill', optionsGlassPane.contentElement);\n      optionsBar._contentElement.classList.add('floating');\n      const buttonHeight = 26;\n\n      const hostButtonPosition = button.element.boxInWindow().relativeToElement(GlassPane.container(document));\n\n      const topNotBottom = hostButtonPosition.y + buttonHeight * buttons.length < document.documentElement.offsetHeight;\n\n      if (topNotBottom) {\n        buttons = buttons.reverse();\n      }\n\n      optionsBar.element.style.height = (buttonHeight * buttons.length) + 'px';\n      if (topNotBottom) {\n        optionsBar.element.style.top = (hostButtonPosition.y - 5) + 'px';\n      } else {\n        optionsBar.element.style.top = (hostButtonPosition.y - (buttonHeight * (buttons.length - 1)) - 6) + 'px';\n      }\n      optionsBar.element.style.left = (hostButtonPosition.x - 5) + 'px';\n\n      for (let i = 0; i < buttons.length; ++i) {\n        buttons[i].element.addEventListener('mousemove', mouseOver, false);\n        buttons[i].element.addEventListener('mouseout', mouseOut, false);\n        optionsBar.appendToolbarItem(buttons[i]);\n      }\n      const hostButtonIndex = topNotBottom ? 0 : buttons.length - 1;\n      buttons[hostButtonIndex].element.classList.add('emulate-active');\n\n      /** @param {!Event} e */\n      function mouseOver(e) {\n        if (/** @type {!MouseEvent} */ (e).which !== 1) {\n          return;\n        }\n        if (e.target instanceof HTMLElement) {\n          const buttonElement = e.target.enclosingNodeOrSelfWithClass('toolbar-item');\n          buttonElement.classList.add('emulate-active');\n        }\n      }\n\n      /** @param {!Event} e */\n      function mouseOut(e) {\n        if (/** @type {!MouseEvent} */ (e).which !== 1) {\n          return;\n        }\n        if (e.target instanceof HTMLElement) {\n          const buttonElement = e.target.enclosingNodeOrSelfWithClass('toolbar-item');\n          buttonElement.classList.remove('emulate-active');\n        }\n      }\n\n      /** @param {!Event} e */\n      function mouseUp(e) {\n        if (/** @type {!MouseEvent} */ (e).which !== 1) {\n          return;\n        }\n        optionsGlassPane.hide();\n        document.documentElement.removeEventListener('mouseup', mouseUp, false);\n\n        for (let i = 0; i < buttons.length; ++i) {\n          if (buttons[i].element.classList.contains('emulate-active')) {\n            buttons[i].element.classList.remove('emulate-active');\n            buttons[i]._clicked(e);\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {!Action} action\n   * @param {!ToolbarButtonOptions=} options\n   * @return {!ToolbarButton}\n   */\n  static createActionButton(action, options = TOOLBAR_BUTTON_DEFAULT_OPTIONS) {\n    const button = action.toggleable() ? makeToggle() : makeButton();\n\n    if (options.showLabel) {\n      button.setText(action.title());\n    }\n\n    /** @param {!{data: *}} event */\n    let handler = event => {\n      action.execute();\n    };\n    if (options.userActionCode) {\n      const actionCode = options.userActionCode;\n      handler = () => {\n        Host.userMetrics.actionTaken(actionCode);\n        action.execute();\n      };\n    }\n    button.addEventListener(ToolbarButton.Events.Click, handler, action);\n    action.addEventListener(ActionEvents.Enabled, enabledChanged);\n    button.setEnabled(action.enabled());\n    return button;\n\n    /**\n     * @return {!ToolbarButton}\n     */\n\n    function makeButton() {\n      const button = new ToolbarButton(action.title(), action.icon());\n      if (action.title()) {\n        Tooltip.install(button.element, action.title(), action.id(), {\n          anchorTooltipAtElement: true,\n        });\n      }\n      return button;\n    }\n\n    /**\n     * @return {!ToolbarToggle}\n     */\n    function makeToggle() {\n      const toggleButton = new ToolbarToggle(action.title(), action.icon(), action.toggledIcon());\n      toggleButton.setToggleWithRedColor(action.toggleWithRedColor());\n      action.addEventListener(ActionEvents.Toggled, toggled);\n      toggled();\n      return toggleButton;\n\n      function toggled() {\n        toggleButton.setToggled(action.toggled());\n        if (action.title()) {\n          toggleButton.setTitle(action.title());\n          Tooltip.install(toggleButton.element, action.title(), action.id(), {\n            anchorTooltipAtElement: true,\n          });\n        }\n      }\n    }\n\n    /**\n     * @param {!Common.EventTarget.EventTargetEvent} event\n     */\n    function enabledChanged(event) {\n      button.setEnabled(/** @type {boolean} */ (event.data));\n    }\n  }\n\n  /**\n   * @param {string} actionId\n   * @param {!ToolbarButtonOptions=} options\n   * @return {!ToolbarButton}\n   */\n  static createActionButtonForId(actionId, options = TOOLBAR_BUTTON_DEFAULT_OPTIONS) {\n    const action = ActionRegistry.instance().action(actionId);\n    return Toolbar.createActionButton(/** @type {!Action} */ (action), options);\n  }\n\n  /**\n   * @return {!Element}\n   */\n  gripElementForResize() {\n    return this._contentElement;\n  }\n\n  /**\n   * @param {boolean=} growVertically\n   */\n  makeWrappable(growVertically) {\n    this._contentElement.classList.add('wrappable');\n    if (growVertically) {\n      this._contentElement.classList.add('toolbar-grow-vertical');\n    }\n  }\n\n  makeVertical() {\n    this._contentElement.classList.add('vertical');\n  }\n\n  makeBlueOnHover() {\n    this._contentElement.classList.add('toolbar-blue-on-hover');\n  }\n\n  makeToggledGray() {\n    this._contentElement.classList.add('toolbar-toggled-gray');\n  }\n\n  renderAsLinks() {\n    this._contentElement.classList.add('toolbar-render-as-links');\n  }\n\n  /**\n   * @return {boolean}\n   */\n  empty() {\n    return !this._items.length;\n  }\n\n  /**\n   * @param {boolean} enabled\n   */\n  setEnabled(enabled) {\n    this._enabled = enabled;\n    for (const item of this._items) {\n      item._applyEnabledState(this._enabled && item._enabled);\n    }\n  }\n\n  /**\n   * @param {!ToolbarItem} item\n   */\n  appendToolbarItem(item) {\n    this._items.push(item);\n    item.toolbar = this;\n    if (!this._enabled) {\n      item._applyEnabledState(false);\n    }\n    this._contentElement.insertBefore(item.element, this._insertionPoint);\n    this._hideSeparatorDupes();\n  }\n\n  appendSeparator() {\n    this.appendToolbarItem(new ToolbarSeparator());\n  }\n\n  appendSpacer() {\n    this.appendToolbarItem(new ToolbarSeparator(true));\n  }\n\n  /**\n   * @param {string} text\n   */\n  appendText(text) {\n    this.appendToolbarItem(new ToolbarText(text));\n  }\n\n  removeToolbarItems() {\n    for (const item of this._items) {\n      item.toolbar = null;\n    }\n    this._items = [];\n    this._contentElement.removeChildren();\n    this._insertionPoint = this._contentElement.createChild('slot');\n  }\n\n  /**\n   * @param {string} color\n   */\n  setColor(color) {\n    const style = document.createElement('style');\n    style.textContent = '.toolbar-glyph { background-color: ' + color + ' !important }';\n    this._shadowRoot.appendChild(style);\n  }\n\n  /**\n   * @param {string} color\n   */\n  setToggledColor(color) {\n    const style = document.createElement('style');\n    style.textContent =\n        '.toolbar-button.toolbar-state-on .toolbar-glyph { background-color: ' + color + ' !important }';\n    this._shadowRoot.appendChild(style);\n  }\n\n  _hideSeparatorDupes() {\n    if (!this._items.length) {\n      return;\n    }\n    // Don't hide first and last separators if they were added explicitly.\n    let previousIsSeparator = false;\n    let lastSeparator;\n    let nonSeparatorVisible = false;\n    for (let i = 0; i < this._items.length; ++i) {\n      if (this._items[i] instanceof ToolbarSeparator) {\n        this._items[i].setVisible(!previousIsSeparator);\n        previousIsSeparator = true;\n        lastSeparator = this._items[i];\n        continue;\n      }\n      if (this._items[i].visible()) {\n        previousIsSeparator = false;\n        lastSeparator = null;\n        nonSeparatorVisible = true;\n      }\n    }\n    if (lastSeparator && lastSeparator !== this._items[this._items.length - 1]) {\n      lastSeparator.setVisible(false);\n    }\n\n    this.element.classList.toggle(\n        'hidden',\n        lastSeparator !== null && lastSeparator !== undefined && lastSeparator.visible() && !nonSeparatorVisible);\n  }\n\n  /**\n   * @param {string} location\n   * @return {!Promise<void>}\n   */\n  async appendItemsAtLocation(location) {\n    const extensions = Root.Runtime.Runtime.instance().extensions(Provider);\n    const filtered = extensions.filter(e => e.descriptor()['location'] === location);\n    const items = await Promise.all(filtered.map(extension => {\n      const descriptor = extension.descriptor();\n      if (/** @type {*} */ (descriptor)['separator']) {\n        return new ToolbarSeparator();\n      }\n      if (descriptor['actionId']) {\n        return Toolbar.createActionButtonForId(\n            descriptor['actionId'], {showLabel: /** @type {*} */ (descriptor)['showLabel'], userActionCode: undefined});\n      }\n      return extension.instance().then(p => /** @type {!Provider} */ (p).item());\n    }));\n\n    for (const item of items) {\n      if (item) {\n        this.appendToolbarItem(item);\n      }\n    }\n  }\n}\n\n/**\n * @typedef {{\n  *    showLabel: boolean,\n  *    userActionCode: (!Host.UserMetrics.Action|undefined)\n  * }}\n  */\n// @ts-ignore typedef\nexport let ToolbarButtonOptions;\n\n/** @type {!ToolbarButtonOptions} */\nconst TOOLBAR_BUTTON_DEFAULT_OPTIONS = {\n  showLabel: false,\n  userActionCode: undefined\n};\n\nexport class ToolbarItem extends Common.ObjectWrapper.ObjectWrapper {\n  /**\n   * @param {!Element} element\n   */\n  constructor(element) {\n    super();\n    /** @type {!HTMLElement} */\n    this.element = /** @type {!HTMLElement} */ (element);\n    this.element.classList.add('toolbar-item');\n    this._visible = true;\n    this._enabled = true;\n\n    /**\n     * Set by the parent toolbar during appending.\n     * @type {?Toolbar}\n     */\n    this.toolbar = null;\n  }\n\n  /**\n   * @param {string} title\n   * @param {string | undefined} actionId\n   */\n  setTitle(title, actionId = undefined) {\n    if (this._title === title) {\n      return;\n    }\n    /** @type {string|undefined} */\n    this._title = title;\n    ARIAUtils.setAccessibleName(this.element, title);\n    Tooltip.install(this.element, title, actionId, {\n      anchorTooltipAtElement: true,\n    });\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setEnabled(value) {\n    if (this._enabled === value) {\n      return;\n    }\n    this._enabled = value;\n    this._applyEnabledState(this._enabled && (!this.toolbar || this.toolbar._enabled));\n  }\n\n  /**\n   * @param {boolean} enabled\n   */\n  _applyEnabledState(enabled) {\n    // @ts-ignore: Ignoring in favor of an `instanceof` check for all the different\n    //             kind of HTMLElement classes that have a disabled attribute.\n    this.element.disabled = !enabled;\n  }\n\n  /**\n   * @return {boolean} x\n   */\n  visible() {\n    return this._visible;\n  }\n\n  /**\n   * @param {boolean} x\n   */\n  setVisible(x) {\n    if (this._visible === x) {\n      return;\n    }\n    this.element.classList.toggle('hidden', !x);\n    this._visible = x;\n    if (this.toolbar && !(this instanceof ToolbarSeparator)) {\n      this.toolbar._hideSeparatorDupes();\n    }\n  }\n\n  /** @param {boolean} alignRight */\n  setRightAligned(alignRight) {\n    this.element.classList.toggle('toolbar-item-right-aligned', alignRight);\n  }\n}\n\nexport class ToolbarText extends ToolbarItem {\n  /**\n   * @param {string=} text\n   */\n  constructor(text) {\n    const element = document.createElement('div');\n    element.classList.add('toolbar-text');\n    super(element);\n    this.element.classList.add('toolbar-text');\n    this.setText(text || '');\n  }\n\n  /**\n   * @return {string}\n   */\n  text() {\n    return this.element.textContent || '';\n  }\n\n  /**\n   * @param {string} text\n   */\n  setText(text) {\n    this.element.textContent = text;\n  }\n}\n\nexport class ToolbarButton extends ToolbarItem {\n  /**\n   * @param {string} title\n   * @param {string=} glyph\n   * @param {string=} text\n   */\n  constructor(title, glyph, text) {\n    const element = document.createElement('button');\n    element.classList.add('toolbar-button');\n    super(element);\n    this.element.addEventListener('click', this._clicked.bind(this), false);\n    this.element.addEventListener('mousedown', this._mouseDown.bind(this), false);\n\n    this._glyphElement = Icon.create('', 'toolbar-glyph hidden');\n    this.element.appendChild(this._glyphElement);\n    this._textElement = this.element.createChild('div', 'toolbar-text hidden');\n\n    this.setTitle(title);\n    if (glyph) {\n      this.setGlyph(glyph);\n    }\n    this.setText(text || '');\n    this._title = '';\n  }\n\n  focus() {\n    this.element.focus();\n  }\n\n  /**\n   * @param {string} text\n   */\n  setText(text) {\n    if (this._text === text) {\n      return;\n    }\n    this._textElement.textContent = text;\n    this._textElement.classList.toggle('hidden', !text);\n    /** @type {string|undefined} */\n    this._text = text;\n  }\n\n  /**\n   * @param {string} glyph\n   */\n  setGlyph(glyph) {\n    if (this._glyph === glyph) {\n      return;\n    }\n    this._glyphElement.setIconType(glyph);\n    this._glyphElement.classList.toggle('hidden', !glyph);\n    this.element.classList.toggle('toolbar-has-glyph', Boolean(glyph));\n    /** @type {string|undefined} */\n    this._glyph = glyph;\n  }\n\n  /**\n   * @param {string} iconURL\n   */\n  setBackgroundImage(iconURL) {\n    this.element.style.backgroundImage = 'url(' + iconURL + ')';\n  }\n\n  setSecondary() {\n    this.element.classList.add('toolbar-button-secondary');\n  }\n\n  setDarkText() {\n    this.element.classList.add('dark-text');\n  }\n\n  /**\n   * @param {boolean=} shrinkable\n   */\n  turnIntoSelect(shrinkable = false) {\n    this.element.classList.add('toolbar-has-dropdown');\n    if (shrinkable) {\n      this.element.classList.add('toolbar-has-dropdown-shrinkable');\n    }\n    const dropdownArrowIcon = Icon.create('smallicon-triangle-down', 'toolbar-dropdown-arrow');\n    this.element.appendChild(dropdownArrowIcon);\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _clicked(event) {\n    if (!this._enabled) {\n      return;\n    }\n    this.dispatchEventToListeners(ToolbarButton.Events.Click, event);\n    event.consume();\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _mouseDown(event) {\n    if (!this._enabled) {\n      return;\n    }\n    this.dispatchEventToListeners(ToolbarButton.Events.MouseDown, event);\n  }\n}\n\nToolbarButton.Events = {\n  Click: Symbol('Click'),\n  MouseDown: Symbol('MouseDown')\n};\n\nexport class ToolbarInput extends ToolbarItem {\n  /**\n   * @param {string} placeholder\n   * @param {string=} accessiblePlaceholder\n   * @param {number=} growFactor\n   * @param {number=} shrinkFactor\n   * @param {string=} tooltip\n   * @param {(function(string, string, boolean=):!Promise<!Suggestions>)=} completions\n   * @param {boolean=} dynamicCompletions\n   */\n  constructor(placeholder, accessiblePlaceholder, growFactor, shrinkFactor, tooltip, completions, dynamicCompletions) {\n    const element = document.createElement('div');\n    element.classList.add('toolbar-input');\n    super(element);\n\n    const internalPromptElement = this.element.createChild('div', 'toolbar-input-prompt');\n    internalPromptElement.addEventListener('focus', () => this.element.classList.add('focused'));\n    internalPromptElement.addEventListener('blur', () => this.element.classList.remove('focused'));\n    ARIAUtils.markAsHidden(internalPromptElement);\n\n    this._prompt = new TextPrompt();\n    this._proxyElement = this._prompt.attach(internalPromptElement);\n    this._proxyElement.classList.add('toolbar-prompt-proxy');\n    this._proxyElement.addEventListener(\n        'keydown', /** @param {!Event} event */ event => this._onKeydownCallback(event));\n    this._prompt.initialize(completions || (() => Promise.resolve([])), ' ', dynamicCompletions);\n    if (tooltip) {\n      this._prompt.setTitle(tooltip);\n    }\n    this._prompt.setPlaceholder(placeholder, accessiblePlaceholder);\n    this._prompt.addEventListener(TextPromptEvents.TextChanged, this._onChangeCallback.bind(this));\n\n    if (growFactor) {\n      this.element.style.flexGrow = String(growFactor);\n    }\n    if (shrinkFactor) {\n      this.element.style.flexShrink = String(shrinkFactor);\n    }\n\n    const clearButton = this.element.createChild('div', 'toolbar-input-clear-button');\n    clearButton.appendChild(Icon.create('mediumicon-gray-cross-hover', 'search-cancel-button'));\n    clearButton.addEventListener('click', () => {\n      this.setValue('', true);\n      this._prompt.focus();\n    });\n\n    this._updateEmptyStyles();\n  }\n\n  /**\n   * @override\n   * @param {boolean} enabled\n   */\n  _applyEnabledState(enabled) {\n    this._prompt.setEnabled(enabled);\n  }\n\n  /**\n   * @param {string} value\n   * @param {boolean=} notify\n   */\n  setValue(value, notify) {\n    this._prompt.setText(value);\n    if (notify) {\n      this._onChangeCallback();\n    }\n    this._updateEmptyStyles();\n  }\n\n  /**\n   * @return {string}\n   */\n  value() {\n    return this._prompt.textWithCurrentSuggestion();\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _onKeydownCallback(event) {\n    if (!isEscKey(event) || !this._prompt.text()) {\n      return;\n    }\n    this.setValue('', true);\n    event.consume(true);\n  }\n\n  _onChangeCallback() {\n    this._updateEmptyStyles();\n    this.dispatchEventToListeners(ToolbarInput.Event.TextChanged, this._prompt.text());\n  }\n\n  _updateEmptyStyles() {\n    this.element.classList.toggle('toolbar-input-empty', !this._prompt.text());\n  }\n}\n\nToolbarInput.Event = {\n  TextChanged: Symbol('TextChanged')\n};\n\nexport class ToolbarToggle extends ToolbarButton {\n  /**\n   * @param {string} title\n   * @param {string=} glyph\n   * @param {string=} toggledGlyph\n   */\n  constructor(title, glyph, toggledGlyph) {\n    super(title, glyph, '');\n    this._toggled = false;\n    this._untoggledGlyph = glyph;\n    this._toggledGlyph = toggledGlyph;\n    this.element.classList.add('toolbar-state-off');\n    ARIAUtils.setPressed(this.element, false);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  toggled() {\n    return this._toggled;\n  }\n\n  /**\n   * @param {boolean} toggled\n   */\n  setToggled(toggled) {\n    if (this._toggled === toggled) {\n      return;\n    }\n    this._toggled = toggled;\n    this.element.classList.toggle('toolbar-state-on', toggled);\n    this.element.classList.toggle('toolbar-state-off', !toggled);\n    ARIAUtils.setPressed(this.element, toggled);\n    if (this._toggledGlyph && this._untoggledGlyph) {\n      this.setGlyph(toggled ? this._toggledGlyph : this._untoggledGlyph);\n    }\n  }\n\n  /**\n   * @param {boolean} withRedColor\n   */\n  setDefaultWithRedColor(withRedColor) {\n    this.element.classList.toggle('toolbar-default-with-red-color', withRedColor);\n  }\n\n  /**\n   * @param {boolean} toggleWithRedColor\n   */\n  setToggleWithRedColor(toggleWithRedColor) {\n    this.element.classList.toggle('toolbar-toggle-with-red-color', toggleWithRedColor);\n  }\n}\n\n\nexport class ToolbarMenuButton extends ToolbarButton {\n  /**\n   * @param {function(!ContextMenu):void} contextMenuHandler\n   * @param {boolean=} useSoftMenu\n   */\n  constructor(contextMenuHandler, useSoftMenu) {\n    super('', 'largeicon-menu');\n    this._contextMenuHandler = contextMenuHandler;\n    this._useSoftMenu = Boolean(useSoftMenu);\n    ARIAUtils.markAsMenuButton(this.element);\n  }\n\n  /**\n   * @override\n   * @param {!Event} event\n   */\n  _mouseDown(event) {\n    if (/** @type {!MouseEvent} */ (event).buttons !== 1) {\n      super._mouseDown(event);\n      return;\n    }\n\n    if (!this._triggerTimeout) {\n      this._triggerTimeout = setTimeout(this._trigger.bind(this, event), 200);\n    }\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _trigger(event) {\n    delete this._triggerTimeout;\n\n    // Throttling avoids entering a bad state on Macs when rapidly triggering context menus just\n    // after the window gains focus. See crbug.com/655556\n    if (this._lastTriggerTime && Date.now() - this._lastTriggerTime < 300) {\n      return;\n    }\n    const contextMenu = new ContextMenu(\n        event, this._useSoftMenu, this.element.totalOffsetLeft(),\n        this.element.totalOffsetTop() + this.element.offsetHeight);\n    this._contextMenuHandler(contextMenu);\n    contextMenu.show();\n    this._lastTriggerTime = Date.now();\n  }\n\n  /**\n   * @override\n   * @param {!Event} event\n   */\n  _clicked(event) {\n    if (this._triggerTimeout) {\n      clearTimeout(this._triggerTimeout);\n    }\n    this._trigger(event);\n  }\n}\n\nexport class ToolbarSettingToggle extends ToolbarToggle {\n  /**\n   * @param {!Common.Settings.Setting<boolean>} setting\n   * @param {string} glyph\n   * @param {string} title\n   */\n  constructor(setting, glyph, title) {\n    super(title, glyph);\n    this._defaultTitle = title;\n    this._setting = setting;\n    this._settingChanged();\n    this._setting.addChangeListener(this._settingChanged, this);\n  }\n\n  _settingChanged() {\n    const toggled = this._setting.get();\n    this.setToggled(toggled);\n    this.setTitle(this._defaultTitle);\n  }\n\n  /**\n   * @override\n   * @param {!Event} event\n   */\n  _clicked(event) {\n    this._setting.set(!this.toggled());\n    super._clicked(event);\n  }\n}\n\nexport class ToolbarSeparator extends ToolbarItem {\n  /**\n   * @param {boolean=} spacer\n   */\n  constructor(spacer) {\n    const element = document.createElement('div');\n    element.classList.add(spacer ? 'toolbar-spacer' : 'toolbar-divider');\n    super(element);\n  }\n}\n\n/**\n * @interface\n */\nexport class Provider {\n  /**\n   * @return {?ToolbarItem}\n   */\n  item() {\n    throw new Error('not implemented');\n  }\n}\n\n/**\n * @interface\n */\nexport class ItemsProvider {\n  /**\n   * @return {!Array<!ToolbarItem>}\n   */\n  toolbarItems() {\n    throw new Error('not implemented');\n  }\n}\n\nexport class ToolbarComboBox extends ToolbarItem {\n  /**\n   * @param {?function(!Event):void} changeHandler\n   * @param {string} title\n   * @param {string=} className\n   */\n  constructor(changeHandler, title, className) {\n    const element = document.createElement('span');\n    element.classList.add('toolbar-select-container');\n    super(element);\n\n    /** @type {!HTMLSelectElement} */\n    this._selectElement = /** @type {!HTMLSelectElement} */ (this.element.createChild('select', 'toolbar-item'));\n    const dropdownArrowIcon = Icon.create('smallicon-triangle-down', 'toolbar-dropdown-arrow');\n    this.element.appendChild(dropdownArrowIcon);\n    if (changeHandler) {\n      this._selectElement.addEventListener('change', changeHandler, false);\n    }\n    ARIAUtils.setAccessibleName(this._selectElement, title);\n    super.setTitle(title);\n    if (className) {\n      this._selectElement.classList.add(className);\n    }\n  }\n\n  /**\n   * @return {!HTMLSelectElement}\n   */\n  selectElement() {\n    return this._selectElement;\n  }\n\n  /**\n   * @return {number}\n   */\n  size() {\n    return this._selectElement.childElementCount;\n  }\n\n  /**\n   * @return {!Array.<!HTMLOptionElement>}\n   */\n  options() {\n    return Array.prototype.slice.call(this._selectElement.children, 0);\n  }\n\n  /**\n   * @param {!Element} option\n   */\n  addOption(option) {\n    this._selectElement.appendChild(option);\n  }\n\n  /**\n   * @param {string} label\n   * @param {string=} value\n   * @return {!Element}\n   */\n  createOption(label, value) {\n    /** @type {!HTMLOptionElement} */\n    const option = /** @type {!HTMLOptionElement} */ (this._selectElement.createChild('option'));\n    option.text = label;\n    if (typeof value !== 'undefined') {\n      option.value = value;\n    }\n    return option;\n  }\n\n  /**\n   * @override\n   * @param {boolean} enabled\n   */\n  _applyEnabledState(enabled) {\n    super._applyEnabledState(enabled);\n    this._selectElement.disabled = !enabled;\n  }\n\n  /**\n   * @param {!Element} option\n   */\n  removeOption(option) {\n    this._selectElement.removeChild(option);\n  }\n\n  removeOptions() {\n    this._selectElement.removeChildren();\n  }\n\n  /**\n   * @return {?HTMLOptionElement}\n   */\n  selectedOption() {\n    if (this._selectElement.selectedIndex >= 0) {\n      return /** @type {!HTMLOptionElement} */ (this._selectElement[this._selectElement.selectedIndex]);\n    }\n    return null;\n  }\n\n  /**\n   * @param {!Element} option\n   */\n  select(option) {\n    this._selectElement.selectedIndex = Array.prototype.indexOf.call(/** @type {?} */ (this._selectElement), option);\n  }\n\n  /**\n   * @param {number} index\n   */\n  setSelectedIndex(index) {\n    this._selectElement.selectedIndex = index;\n  }\n\n  /**\n   * @return {number}\n   */\n  selectedIndex() {\n    return this._selectElement.selectedIndex;\n  }\n\n  /**\n   * @param {number} width\n   */\n  setMaxWidth(width) {\n    this._selectElement.style.maxWidth = width + 'px';\n  }\n\n  /**\n   * @param {number} width\n   */\n  setMinWidth(width) {\n    this._selectElement.style.minWidth = width + 'px';\n  }\n}\n\nexport class ToolbarSettingComboBox extends ToolbarComboBox {\n  /**\n   * @param {!Array<!{value: string, label: string}>} options\n   * @param {!Common.Settings.Setting<*>} setting\n   * @param {string} accessibleName\n   */\n  constructor(options, setting, accessibleName) {\n    super(null, accessibleName);\n    this._options = options;\n    this._setting = setting;\n    this._selectElement.addEventListener('change', this._valueChanged.bind(this), false);\n    this.setOptions(options);\n    setting.addChangeListener(this._settingChanged, this);\n  }\n\n  /**\n   * @param {!Array<!{value: string, label: string}>} options\n   */\n  setOptions(options) {\n    this._options = options;\n    this._selectElement.removeChildren();\n    for (let i = 0; i < options.length; ++i) {\n      const dataOption = options[i];\n      const option = this.createOption(dataOption.label, dataOption.value);\n      this._selectElement.appendChild(option);\n      if (this._setting.get() === dataOption.value) {\n        this.setSelectedIndex(i);\n      }\n    }\n  }\n\n  /**\n   * @return {string}\n   */\n  value() {\n    return this._options[this.selectedIndex()].value;\n  }\n\n  _settingChanged() {\n    if (this._muteSettingListener) {\n      return;\n    }\n\n    const value = this._setting.get();\n    for (let i = 0; i < this._options.length; ++i) {\n      if (value === this._options[i].value) {\n        this.setSelectedIndex(i);\n        break;\n      }\n    }\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _valueChanged(event) {\n    const option = this._options[this.selectedIndex()];\n    this._muteSettingListener = true;\n    this._setting.set(option.value);\n    this._muteSettingListener = false;\n  }\n}\n\nexport class ToolbarCheckbox extends ToolbarItem {\n  /**\n   * @param {string} text\n   * @param {string=} tooltip\n   * @param {function():void=} listener\n   */\n  constructor(text, tooltip, listener) {\n    super(CheckboxLabel.create(text));\n    this.element.classList.add('checkbox');\n    this.inputElement = /** @type {!CheckboxLabel} */ (this.element).checkboxElement;\n    if (tooltip) {\n      // install on the checkbox\n      Tooltip.install(this.inputElement, tooltip, undefined, {\n        anchorTooltipAtElement: true,\n      });\n      // install on the checkbox label\n      Tooltip.install(/** @type {!CheckboxLabel} */ (this.element).textElement, tooltip, undefined, {\n        anchorTooltipAtElement: true,\n      });\n    }\n    if (listener) {\n      this.inputElement.addEventListener('click', listener, false);\n    }\n  }\n\n  /**\n   * @return {boolean}\n   */\n  checked() {\n    return this.inputElement.checked;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setChecked(value) {\n    this.inputElement.checked = value;\n  }\n\n  /**\n   * @override\n   * @param {boolean} enabled\n   */\n  _applyEnabledState(enabled) {\n    super._applyEnabledState(enabled);\n    this.inputElement.disabled = !enabled;\n  }\n}\n\nexport class ToolbarSettingCheckbox extends ToolbarCheckbox {\n  /**\n   * @param {!Common.Settings.Setting<boolean>} setting\n   * @param {string=} tooltip\n   * @param {string=} alternateTitle\n   */\n  constructor(setting, tooltip, alternateTitle) {\n    super(alternateTitle || setting.title() || '', tooltip);\n    bindCheckbox(this.inputElement, setting);\n  }\n}\n"]}