{"version":3,"file":"ReportView.js","sourceRoot":"","sources":["../../../../../front_end/ui/ReportView.js"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) 2016 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as ARIAUtils from './ARIAUtils.js';\nimport {Toolbar} from './Toolbar.js';\nimport {Tooltip} from './Tooltip.js';\nimport {VBox} from './Widget.js';\n\n/**\n * @deprecated Please consider using the web component version of this widget\n *             (`ui/components/ReportView.ts`) for new code.\n */\nexport class ReportView extends VBox {\n  /**\n   * @param {string=} title\n   */\n  constructor(title) {\n    super(true);\n    this.registerRequiredCSS('ui/reportView.css', {enableLegacyPatching: false});\n\n    this._contentBox = this.contentElement.createChild('div', 'report-content-box');\n    this._headerElement = this._contentBox.createChild('div', 'report-header vbox');\n    this._titleElement = this._headerElement.createChild('div', 'report-title');\n    if (title) {\n      this._titleElement.textContent = title;\n    }\n    ARIAUtils.markAsHeading(this._titleElement, 1);\n\n    this._sectionList = this._contentBox.createChild('div', 'vbox');\n  }\n\n  /**\n   * @param {string} title\n   */\n  setTitle(title) {\n    if (this._titleElement.textContent === title) {\n      return;\n    }\n    this._titleElement.textContent = title;\n  }\n\n  /**\n   * @param {string} subtitle\n   */\n  setSubtitle(subtitle) {\n    if (this._subtitleElement && this._subtitleElement.textContent === subtitle) {\n      return;\n    }\n    if (!this._subtitleElement) {\n      this._subtitleElement = this._headerElement.createChild('div', 'report-subtitle');\n    }\n    this._subtitleElement.textContent = subtitle;\n  }\n\n  /**\n   * @param {?Element} link\n   */\n  setURL(link) {\n    if (!this._urlElement) {\n      this._urlElement = this._headerElement.createChild('div', 'report-url link');\n    }\n    this._urlElement.removeChildren();\n    if (link) {\n      this._urlElement.appendChild(link);\n    }\n  }\n\n  /**\n   * @return {!Toolbar}\n   */\n  createToolbar() {\n    const toolbar = new Toolbar('');\n    this._headerElement.appendChild(toolbar.element);\n    return toolbar;\n  }\n\n  /**\n   * @param {string} title\n   * @param {string=} className\n   * @return {!Section}\n   */\n  appendSection(title, className) {\n    const section = new Section(title, className);\n    section.show(this._sectionList);\n    return section;\n  }\n\n  /**\n   * @param {function(!Section, !Section): number} comparator\n   */\n  sortSections(comparator) {\n    const sections = /** @type {!Array<!Section>} */ (this.children().slice());\n    const sorted = sections.every((e, i, a) => !i || comparator(a[i - 1], a[i]) <= 0);\n    if (sorted) {\n      return;\n    }\n\n    this.detachChildWidgets();\n    sections.sort(comparator);\n    for (const section of sections) {\n      section.show(this._sectionList);\n    }\n  }\n\n  /**\n   * @param {boolean} visible\n   */\n  setHeaderVisible(visible) {\n    this._headerElement.classList.toggle('hidden', !visible);\n  }\n\n  /**\n   * @param {boolean} scrollable\n   */\n  setBodyScrollable(scrollable) {\n    this._contentBox.classList.toggle('no-scroll', !scrollable);\n  }\n}\n\n\nexport class Section extends VBox {\n  /**\n   * @param {string} title\n   * @param {string=} className\n   */\n  constructor(title, className) {\n    super();\n    this.element.classList.add('report-section');\n    if (className) {\n      this.element.classList.add(className);\n    }\n    this._headerElement = this.element.createChild('div', 'report-section-header');\n    this._titleElement = this._headerElement.createChild('div', 'report-section-title');\n    this.setTitle(title);\n    ARIAUtils.markAsHeading(this._titleElement, 2);\n    this._fieldList = this.element.createChild('div', 'vbox');\n    /** @type {!Map.<string, !Element>} */\n    this._fieldMap = new Map();\n  }\n\n  /**\n   * @return {string}\n   */\n  title() {\n    return this._titleElement.textContent || '';\n  }\n\n  /**\n   * @param {string} title\n   * @param {string=} tooltip\n   */\n  setTitle(title, tooltip) {\n    if (this._titleElement.textContent !== title) {\n      this._titleElement.textContent = title;\n    }\n    Tooltip.install(this._titleElement, tooltip || '');\n    this._titleElement.classList.toggle('hidden', !this._titleElement.textContent);\n  }\n\n  /**\n   * Declares the overall container to be a group and assigns a title.\n   * @param {string} groupTitle\n   */\n  setUiGroupTitle(groupTitle) {\n    ARIAUtils.markAsGroup(this.element);\n    ARIAUtils.setAccessibleName(this.element, groupTitle);\n  }\n\n  /**\n   * @return {!Toolbar}\n   */\n  createToolbar() {\n    const toolbar = new Toolbar('');\n    this._headerElement.appendChild(toolbar.element);\n    return toolbar;\n  }\n\n  /**\n   * @param {string} title\n   * @param {string=} textValue\n   * @return {!HTMLElement}\n   */\n  appendField(title, textValue) {\n    let row = this._fieldMap.get(title);\n    if (!row) {\n      row = this._fieldList.createChild('div', 'report-field');\n      row.createChild('div', 'report-field-name').textContent = title;\n      this._fieldMap.set(title, row);\n      row.createChild('div', 'report-field-value');\n    }\n    if (textValue && row.lastElementChild) {\n      row.lastElementChild.textContent = textValue;\n    }\n    return /** @type {!HTMLElement} */ (row.lastElementChild);\n  }\n\n  /**\n  * @param {string} title\n  * @param {string=} textValue\n  * @return {!Element}\n  */\n  appendFlexedField(title, textValue) {\n    const field = this.appendField(title, textValue);\n    field.classList.add('report-field-value-is-flexed');\n    return field;\n  }\n\n  /**\n   * @param {string} title\n   */\n  removeField(title) {\n    const row = this._fieldMap.get(title);\n    if (row) {\n      row.remove();\n    }\n    this._fieldMap.delete(title);\n  }\n\n  /**\n   * @param {string} title\n   * @param {boolean} visible\n   */\n  setFieldVisible(title, visible) {\n    const row = this._fieldMap.get(title);\n    if (row) {\n      row.classList.toggle('hidden', !visible);\n    }\n  }\n\n  /**\n   * @param {string} title\n   * @return {?Element}\n   */\n  fieldValue(title) {\n    const row = this._fieldMap.get(title);\n    return row ? row.lastElementChild : null;\n  }\n\n  /**\n   * @return {!HTMLElement}\n   */\n  appendRow() {\n    return /** @type {!HTMLElement} */ (this._fieldList.createChild('div', 'report-row'));\n  }\n\n  /**\n   * @return {!HTMLElement}\n   */\n  appendSelectableRow() {\n    return /** @type {!HTMLElement} */ (this._fieldList.createChild('div', 'report-row report-row-selectable'));\n  }\n\n  clearContent() {\n    this._fieldList.removeChildren();\n    this._fieldMap.clear();\n  }\n\n  markFieldListAsGroup() {\n    ARIAUtils.markAsGroup(this._fieldList);\n    ARIAUtils.setAccessibleName(this._fieldList, this.title());\n  }\n\n  /**\n   * @param {boolean} masked\n   */\n  setIconMasked(masked) {\n    this.element.classList.toggle('show-mask', masked);\n  }\n}\n"]}