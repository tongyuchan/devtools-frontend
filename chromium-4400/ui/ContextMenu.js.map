{"version":3,"file":"ContextMenu.js","sourceRoot":"","sources":["../../../../../front_end/ui/ContextMenu.js"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2009 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../common/common.js';  // eslint-disable-line no-unused-vars\nimport * as Host from '../host/host.js';\nimport * as Root from '../root/root.js';\n\nimport {ActionRegistry} from './ActionRegistry.js';\nimport {ShortcutRegistry} from './ShortcutRegistry.js';\nimport {SoftContextMenu, SoftContextMenuDescriptor} from './SoftContextMenu.js';  // eslint-disable-line no-unused-vars\nimport {deepElementFromEvent} from './UIUtils.js';\n\nexport class Item {\n  /**\n   * @param {?ContextMenu} contextMenu\n   * @param {string} type\n   * @param {string=} label\n   * @param {boolean=} disabled\n   * @param {boolean=} checked\n   */\n  constructor(contextMenu, type, label, disabled, checked) {\n    this._type = type;\n    this._label = label;\n    this._disabled = disabled;\n    this._checked = checked;\n    this._contextMenu = contextMenu;\n    this._id = undefined;\n    if (type === 'item' || type === 'checkbox') {\n      this._id = contextMenu ? contextMenu._nextId() : 0;\n    }\n\n    /** @type {*} */\n    this._customElement;\n  }\n\n  /**\n   * @return {number}\n   */\n  id() {\n    if (this._id === undefined) {\n      throw new Error('Tried to access a ContextMenu Item ID but none was set.');\n    }\n    return this._id;\n  }\n\n  /**\n   * @return {string}\n   */\n  type() {\n    return this._type;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isEnabled() {\n    return !this._disabled;\n  }\n\n  /**\n   * @param {boolean} enabled\n   */\n  setEnabled(enabled) {\n    this._disabled = !enabled;\n  }\n\n  /**\n   * @return {!Host.InspectorFrontendHostAPI.ContextMenuDescriptor|!SoftContextMenuDescriptor}\n   */\n  _buildDescriptor() {\n    switch (this._type) {\n      case 'item': {\n        const result = {\n          type: 'item',\n          id: this._id,\n          label: this._label,\n          enabled: !this._disabled,\n          checked: undefined,\n          subItems: undefined\n        };\n        if (this._customElement) {\n          const resultAsSoftContextMenuItem = /** @type {!SoftContextMenuDescriptor} */ (result);\n          resultAsSoftContextMenuItem.element = /** @type {!Element} */ (this._customElement);\n        }\n        if (this._shortcut) {\n          const resultAsSoftContextMenuItem = /** @type {!SoftContextMenuDescriptor} */ (result);\n          resultAsSoftContextMenuItem.shortcut = this._shortcut;\n        }\n        return result;\n      }\n      case 'separator': {\n        return {\n          type: 'separator',\n          id: undefined,\n          label: undefined,\n          enabled: undefined,\n          checked: undefined,\n          subItems: undefined\n        };\n      }\n      case 'checkbox': {\n        return {\n          type: 'checkbox',\n          id: this._id,\n          label: this._label,\n          checked: Boolean(this._checked),\n          enabled: !this._disabled,\n          subItems: undefined\n        };\n      }\n    }\n    throw new Error('Invalid item type:' + this._type);\n  }\n\n  /**\n   * @param {string} shortcut\n   */\n  setShortcut(shortcut) {\n    this._shortcut = shortcut;\n  }\n}\n\n\nexport class Section {\n  /**\n   * @param {?ContextMenu} contextMenu\n   */\n  constructor(contextMenu) {\n    this._contextMenu = contextMenu;\n    /** @type {!Array<!Item>} */\n    this._items = [];\n  }\n\n  /**\n   * @param {string} label\n   * @param {function():*} handler\n   * @param {boolean=} disabled\n   * @return {!Item}\n   */\n  appendItem(label, handler, disabled) {\n    const item = new Item(this._contextMenu, 'item', label, disabled);\n    this._items.push(item);\n    if (this._contextMenu) {\n      this._contextMenu._setHandler(item.id(), handler);\n    }\n    return item;\n  }\n\n  /**\n   * @param {!Element} element\n   * @return {!Item}\n   */\n  appendCustomItem(element) {\n    const item = new Item(this._contextMenu, 'item', '<custom>');\n    item._customElement = element;\n    this._items.push(item);\n    return item;\n  }\n\n  /**\n   * @return {!Item}\n   */\n  appendSeparator() {\n    const item = new Item(this._contextMenu, 'separator');\n    this._items.push(item);\n    return item;\n  }\n\n  /**\n   * @param {string} actionId\n   * @param {string=} label\n   * @param {boolean=} optional\n   */\n  appendAction(actionId, label, optional) {\n    const action = ActionRegistry.instance().action(actionId);\n    if (!action) {\n      if (!optional) {\n        console.error(`Action ${actionId} was not defined`);\n      }\n      return;\n    }\n    if (!label) {\n      label = action.title();\n    }\n    const result = this.appendItem(label, action.execute.bind(action));\n    const shortcut = ShortcutRegistry.instance().shortcutTitleForAction(actionId);\n    if (shortcut) {\n      result.setShortcut(shortcut);\n    }\n  }\n\n  /**\n   * @param {string} label\n   * @param {boolean=} disabled\n   * @return {!SubMenu}\n   */\n  appendSubMenuItem(label, disabled) {\n    const item = new SubMenu(this._contextMenu, label, disabled);\n    item._init();\n    this._items.push(item);\n    return item;\n  }\n\n  /**\n   * @param {string} label\n   * @param {function():*} handler\n   * @param {boolean=} checked\n   * @param {boolean=} disabled\n   * @return {!Item}\n   */\n  appendCheckboxItem(label, handler, checked, disabled) {\n    const item = new Item(this._contextMenu, 'checkbox', label, disabled, checked);\n    this._items.push(item);\n    if (this._contextMenu) {\n      this._contextMenu._setHandler(item.id(), handler);\n    }\n    return item;\n  }\n}\n\n\nexport class SubMenu extends Item {\n  /**\n   * @param {?ContextMenu} contextMenu\n   * @param {string=} label\n   * @param {boolean=} disabled\n   */\n  constructor(contextMenu, label, disabled) {\n    super(contextMenu, 'subMenu', label, disabled);\n    /** @type {!Map<string, !Section>} */\n    this._sections = new Map();\n    /** @type {!Array<!Section>} */\n    this._sectionList = [];\n  }\n\n  _init() {\n    _groupWeights.forEach(name => this.section(name));\n  }\n\n  /**\n   * @param {string=} name\n   * @return {!Section}\n   */\n  section(name) {\n    let section = name ? this._sections.get(name) : null;\n    if (!section) {\n      section = new Section(this._contextMenu);\n      if (name) {\n        this._sections.set(name, section);\n        this._sectionList.push(section);\n      } else {\n        this._sectionList.splice(ContextMenu._groupWeights.indexOf('default'), 0, section);\n      }\n    }\n    return section;\n  }\n\n  /**\n   * @return {!Section}\n   */\n  headerSection() {\n    return this.section('header');\n  }\n\n  /**\n   * @return {!Section}\n   */\n  newSection() {\n    return this.section('new');\n  }\n\n  /**\n   * @return {!Section}\n   */\n  revealSection() {\n    return this.section('reveal');\n  }\n\n  /**\n   * @return {!Section}\n   */\n  clipboardSection() {\n    return this.section('clipboard');\n  }\n\n  /**\n   * @return {!Section}\n   */\n  editSection() {\n    return this.section('edit');\n  }\n\n  /**\n   * @return {!Section}\n   */\n  debugSection() {\n    return this.section('debug');\n  }\n\n  /**\n   * @return {!Section}\n   */\n  viewSection() {\n    return this.section('view');\n  }\n\n  /**\n   * @return {!Section}\n   */\n  defaultSection() {\n    return this.section('default');\n  }\n\n  /**\n   * @return {!Section}\n   */\n  saveSection() {\n    return this.section('save');\n  }\n\n  /**\n   * @return {!Section}\n   */\n  footerSection() {\n    return this.section('footer');\n  }\n\n  /**\n   * @override\n   * @return {!Host.InspectorFrontendHostAPI.ContextMenuDescriptor|!SoftContextMenuDescriptor}\n   */\n  _buildDescriptor() {\n    /** @type {!Host.InspectorFrontendHostAPI.ContextMenuDescriptor|!SoftContextMenuDescriptor} */\n    const result = {\n      type: 'subMenu',\n      label: this._label,\n      enabled: !this._disabled,\n      subItems: [],\n      id: undefined,\n      checked: undefined\n    };\n\n    const nonEmptySections = this._sectionList.filter(section => Boolean(section._items.length));\n    for (const section of nonEmptySections) {\n      for (const item of section._items) {\n        if (!result.subItems) {\n          result.subItems = [];\n        }\n        result.subItems.push(item._buildDescriptor());\n      }\n      if (section !== nonEmptySections[nonEmptySections.length - 1]) {\n        if (!result.subItems) {\n          result.subItems = [];\n        }\n        result.subItems.push({\n          type: 'separator',\n          id: undefined,\n          subItems: undefined,\n          checked: undefined,\n          enabled: undefined,\n          label: undefined\n        });\n      }\n    }\n    return result;\n  }\n\n  /**\n   * @param {string} location\n   */\n  appendItemsAtLocation(location) {\n    for (const extension of Root.Runtime.Runtime.instance().extensions('context-menu-item')) {\n      const itemLocation = extension.descriptor()['location'] || '';\n      if (!itemLocation.startsWith(location + '/')) {\n        continue;\n      }\n\n      const section = itemLocation.substr(location.length + 1);\n      if (!section || section.includes('/')) {\n        continue;\n      }\n\n      const actionId = extension.descriptor().actionId;\n      if (actionId) {\n        this.section(section).appendAction(actionId);\n      }\n    }\n  }\n}\n\nItem._uniqueSectionName = 0;\n\nexport class ContextMenu extends SubMenu {\n  /**\n   * @param {!Event} event\n   * @param {boolean=} useSoftMenu\n   * @param {number=} x\n   * @param {number=} y\n   */\n  constructor(event, useSoftMenu, x, y) {\n    super(null);\n    const mouseEvent = /** @type {!MouseEvent} */ (event);\n    this._contextMenu = this;\n    super._init();\n    this._defaultSection = this.defaultSection();\n    /** @type {!Array.<!Promise.<!Array.<!Provider>>>} */\n    this._pendingPromises = [];\n    /** @type {!Array<!Object>} */\n    this._pendingTargets = [];\n    /** @type {!MouseEvent} */\n    this._event = mouseEvent;\n    this._useSoftMenu = Boolean(useSoftMenu);\n    this._x = x === undefined ? mouseEvent.x : x;\n    this._y = y === undefined ? mouseEvent.y : y;\n    /** @type {!Map<number, function():*>} */\n    this._handlers = new Map();\n    this._id = 0;\n\n    const target = deepElementFromEvent(event);\n    if (target) {\n      this.appendApplicableItems(/** @type {!Object} */ (target));\n    }\n  }\n\n  static initialize() {\n    Host.InspectorFrontendHost.InspectorFrontendHostInstance.events.addEventListener(\n        Host.InspectorFrontendHostAPI.Events.SetUseSoftMenu, setUseSoftMenu);\n    /**\n     * @param {!Common.EventTarget.EventTargetEvent} event\n     */\n    function setUseSoftMenu(event) {\n      ContextMenu._useSoftMenu = /** @type {boolean} */ (event.data);\n    }\n  }\n\n  /**\n   * @param {!Document} doc\n   */\n  static installHandler(doc) {\n    doc.body.addEventListener('contextmenu', handler, false);\n\n    /**\n     * @param {!Event} event\n     */\n    function handler(event) {\n      const contextMenu = new ContextMenu(event);\n      contextMenu.show();\n    }\n  }\n\n  /**\n   * @return {number}\n   */\n  _nextId() {\n    return this._id++;\n  }\n\n  async show() {\n    ContextMenu._pendingMenu = this;\n    this._event.consume(true);\n    /** @type {!Array<!Array<!Provider>>} */\n    const loadedProviders = await Promise.all(this._pendingPromises);\n\n    // After loading all providers, the contextmenu might be hidden again, so bail out.\n    if (ContextMenu._pendingMenu !== this) {\n      return;\n    }\n    ContextMenu._pendingMenu = null;\n\n    for (let i = 0; i < loadedProviders.length; ++i) {\n      const providers = loadedProviders[i];\n      const target = this._pendingTargets[i];\n\n      for (const provider of providers) {\n        provider.appendApplicableItems(this._event, this, target);\n      }\n    }\n\n    this._pendingPromises = [];\n    this._pendingTargets = [];\n\n    this._innerShow();\n  }\n\n  discard() {\n    if (this._softMenu) {\n      this._softMenu.discard();\n    }\n  }\n\n  _innerShow() {\n    const menuObject = this._buildMenuDescriptors();\n    const eventTarget = this._event.target;\n    if (!eventTarget) {\n      return;\n    }\n    const ownerDocument = /** @type {!HTMLElement} */ (eventTarget).ownerDocument;\n    if (this._useSoftMenu || ContextMenu._useSoftMenu ||\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.isHostedMode()) {\n      this._softMenu = new SoftContextMenu(\n          /** @type {!Array<!SoftContextMenuDescriptor>} */ (menuObject), this._itemSelected.bind(this));\n      this._softMenu.show(/** @type {!Document} */ (ownerDocument), new AnchorBox(this._x, this._y, 0, 0));\n    } else {\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.showContextMenuAtPoint(\n          this._x, this._y, menuObject, /** @type {!Document}*/ (ownerDocument));\n\n      /**\n       * @this {ContextMenu}\n       */\n      function listenToEvents() {\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.events.addEventListener(\n            Host.InspectorFrontendHostAPI.Events.ContextMenuCleared, this._menuCleared, this);\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance.events.addEventListener(\n            Host.InspectorFrontendHostAPI.Events.ContextMenuItemSelected, this._onItemSelected, this);\n      }\n\n      // showContextMenuAtPoint call above synchronously issues a clear event for previous context menu (if any),\n      // so we skip it before subscribing to the clear event.\n      queueMicrotask(listenToEvents.bind(this));\n    }\n  }\n\n  /**\n   * @param {number} x\n   */\n  setX(x) {\n    this._x = x;\n  }\n\n  /**\n   * @param {number} y\n   */\n  setY(y) {\n    this._y = y;\n  }\n\n  /**\n   * @param {number} id\n   * @param {function():*} handler\n   */\n  _setHandler(id, handler) {\n    if (handler) {\n      this._handlers.set(id, handler);\n    }\n  }\n\n  /**\n   * @return {!Array.<!Host.InspectorFrontendHostAPI.ContextMenuDescriptor|!SoftContextMenuDescriptor>}\n   */\n  _buildMenuDescriptors() {\n    return /** @type {!Array.<!Host.InspectorFrontendHostAPI.ContextMenuDescriptor|!SoftContextMenuDescriptor>} */ (\n        super._buildDescriptor().subItems);\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _onItemSelected(event) {\n    this._itemSelected(/** @type {number} */ (event.data));\n  }\n\n  /**\n   * @param {number} id\n   */\n  _itemSelected(id) {\n    const handler = this._handlers.get(id);\n    if (handler) {\n      handler.call(this);\n    }\n    this._menuCleared();\n  }\n\n  _menuCleared() {\n    Host.InspectorFrontendHost.InspectorFrontendHostInstance.events.removeEventListener(\n        Host.InspectorFrontendHostAPI.Events.ContextMenuCleared, this._menuCleared, this);\n    Host.InspectorFrontendHost.InspectorFrontendHostInstance.events.removeEventListener(\n        Host.InspectorFrontendHostAPI.Events.ContextMenuItemSelected, this._onItemSelected, this);\n  }\n\n  /**\n   * @param {!Object} target\n   * @return {boolean}\n   */\n  containsTarget(target) {\n    return this._pendingTargets.indexOf(target) >= 0;\n  }\n\n  /**\n   * @param {!Object} target\n   */\n  appendApplicableItems(target) {\n    const allInstances =\n        /** @type {!Promise<!Array<!Provider>>}*/ (Root.Runtime.Runtime.instance().allInstances(Provider, target));\n    this._pendingPromises.push(allInstances);\n    this._pendingTargets.push(target);\n    // We need to duplicate the registered providers into the pending promises,\n    // since an array of providers is related to a particular target. Since both\n    // `allInstances` and `loadRegisteredProviders` return a Promise of an array,\n    // we can't unroll these promises at this point. Thus, we can't concatenate\n    // both arrays right now and we have to do that *after* resolving their\n    // promises. Since the `_pendingTargets` array requires each of its indices\n    // to have a matching array of providers, we need to duplicate the target\n    // in that array as well.\n    this._pendingPromises.push(loadRegisteredProviders());\n    this._pendingTargets.push(target);\n  }\n}\n\nContextMenu._useSoftMenu = false;\n/** @type {?ContextMenu} */\nContextMenu._pendingMenu = null;\n\nexport const _groupWeights =\n    ['header', 'new', 'reveal', 'edit', 'clipboard', 'debug', 'view', 'default', 'save', 'footer'];\n\n/**\n * @interface\n */\nexport class Provider {\n  /**\n   * @param {!Event} event\n   * @param {!ContextMenu} contextMenu\n   * @param {!Object} target\n   */\n  appendApplicableItems(event, contextMenu, target) {}\n}\n\n/** @type {!Array<!ProviderRegistration>} */\nconst registeredProviders = [];\n\n/**\n * @param {!ProviderRegistration} registration\n */\nexport function registerProvider(registration) {\n  registeredProviders.push(registration);\n}\n\nasync function loadRegisteredProviders() {\n  return Promise.all(registeredProviders.map(registration => registration.loadProvider()));\n}\n\n/**\n * @typedef {{\n *   loadProvider: function(): !Promise<!Provider>\n * }} */\n// @ts-ignore typedef\nexport let ProviderRegistration;\n\nContextMenu._groupWeights = _groupWeights;\n"]}