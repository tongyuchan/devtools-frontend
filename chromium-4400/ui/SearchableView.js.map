{"version":3,"file":"SearchableView.js","sourceRoot":"","sources":["../../../../../front_end/ui/SearchableView.js"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2006, 2007, 2008 Apple Inc.  All rights reserved.\n * Copyright (C) 2007 Matt Lilek (pewtermoose@gmail.com).\n * Copyright (C) 2009 Joseph Pecoraro\n * Copyright (C) 2011 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * 1.  Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n * 2.  Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n * 3.  Neither the name of Apple Computer, Inc. (\"Apple\") nor the names of\n *     its contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../common/common.js';\n\nimport * as ARIAUtils from './ARIAUtils.js';\nimport {HistoryInput} from './HistoryInput.js';\nimport {InspectorView} from './InspectorView.js';\nimport {Toolbar, ToolbarButton, ToolbarToggle} from './Toolbar.js';\nimport {Tooltip} from './Tooltip.js';\nimport {createTextButton} from './UIUtils.js';\nimport {VBox} from './Widget.js';\n\nexport class SearchableView extends VBox {\n  /**\n   * @param {!Searchable} searchable\n   * @param {?Replaceable} replaceable\n   * @param {string=} settingName\n   */\n  constructor(searchable, replaceable, settingName) {\n    super(true);\n    this.registerRequiredCSS('ui/searchableView.css', {enableLegacyPatching: true});\n    searchableViewsByElement.set(this.element, this);\n\n    this._searchProvider = searchable;\n    this._replaceProvider = replaceable;\n    this._setting = settingName ? Common.Settings.Settings.instance().createSetting(settingName, {}) : null;\n    this._replaceable = false;\n\n    this.contentElement.createChild('slot');\n    this._footerElementContainer = this.contentElement.createChild('div', 'search-bar hidden');\n    this._footerElementContainer.style.order = '100';\n    this._footerElement = this._footerElementContainer.createChild('div', 'toolbar-search');\n\n    const replaceToggleToolbar = new Toolbar('replace-toggle-toolbar', this._footerElement);\n    this._replaceToggleButton = new ToolbarToggle(Common.UIString.UIString('Replace'), 'mediumicon-replace');\n    this._replaceToggleButton.addEventListener(ToolbarButton.Events.Click, this._toggleReplace, this);\n    replaceToggleToolbar.appendToolbarItem(this._replaceToggleButton);\n\n    const searchInputElements = this._footerElement.createChild('div', 'toolbar-search-inputs');\n    const searchControlElement = searchInputElements.createChild('div', 'toolbar-search-control');\n\n    this._searchInputElement = HistoryInput.create();\n    this._searchInputElement.type = 'search';\n    this._searchInputElement.classList.add('search-replace', 'custom-search-input');\n    this._searchInputElement.id = 'search-input-field';\n    this._searchInputElement.placeholder = Common.UIString.UIString('Find');\n    searchControlElement.appendChild(this._searchInputElement);\n\n    this._matchesElement = searchControlElement.createChild('label', 'search-results-matches');\n    this._matchesElement.setAttribute('for', 'search-input-field');\n\n    const searchNavigationElement = searchControlElement.createChild('div', 'toolbar-search-navigation-controls');\n\n    this._searchNavigationPrevElement =\n        searchNavigationElement.createChild('div', 'toolbar-search-navigation toolbar-search-navigation-prev');\n    this._searchNavigationPrevElement.addEventListener('click', this._onPrevButtonSearch.bind(this), false);\n    Tooltip.install(this._searchNavigationPrevElement, Common.UIString.UIString('Search previous'));\n    ARIAUtils.setAccessibleName(this._searchNavigationPrevElement, Common.UIString.UIString('Search previous'));\n\n    this._searchNavigationNextElement =\n        searchNavigationElement.createChild('div', 'toolbar-search-navigation toolbar-search-navigation-next');\n    this._searchNavigationNextElement.addEventListener('click', this._onNextButtonSearch.bind(this), false);\n    Tooltip.install(this._searchNavigationNextElement, Common.UIString.UIString('Search next'));\n    ARIAUtils.setAccessibleName(this._searchNavigationNextElement, Common.UIString.UIString('Search next'));\n\n    this._searchInputElement.addEventListener('keydown', this._onSearchKeyDown.bind(this), true);\n    this._searchInputElement.addEventListener('input', this._onInput.bind(this), false);\n\n    /** @type {!HTMLInputElement} */\n    this._replaceInputElement =\n        /** @type {!HTMLInputElement} */ (\n            searchInputElements.createChild('input', 'search-replace toolbar-replace-control hidden'));\n    this._replaceInputElement.addEventListener('keydown', this._onReplaceKeyDown.bind(this), true);\n    this._replaceInputElement.placeholder = Common.UIString.UIString('Replace');\n\n    this._buttonsContainer = this._footerElement.createChild('div', 'toolbar-search-buttons');\n    const firstRowButtons = this._buttonsContainer.createChild('div', 'first-row-buttons');\n\n    const toolbar = new Toolbar('toolbar-search-options', firstRowButtons);\n\n    if (this._searchProvider.supportsCaseSensitiveSearch()) {\n      this._caseSensitiveButton = new ToolbarToggle(Common.UIString.UIString('Match Case'));\n      this._caseSensitiveButton.setText('Aa');\n      this._caseSensitiveButton.addEventListener(ToolbarButton.Events.Click, this._toggleCaseSensitiveSearch, this);\n      toolbar.appendToolbarItem(this._caseSensitiveButton);\n    }\n\n    if (this._searchProvider.supportsRegexSearch()) {\n      this._regexButton = new ToolbarToggle(Common.UIString.UIString('Use Regular Expression'));\n      this._regexButton.setText('.*');\n      this._regexButton.addEventListener(ToolbarButton.Events.Click, this._toggleRegexSearch, this);\n      toolbar.appendToolbarItem(this._regexButton);\n    }\n\n    const cancelButtonElement =\n        createTextButton(Common.UIString.UIString('Cancel'), this.closeSearch.bind(this), 'search-action-button');\n    firstRowButtons.appendChild(cancelButtonElement);\n\n    this._secondRowButtons = this._buttonsContainer.createChild('div', 'second-row-buttons hidden');\n\n    this._replaceButtonElement =\n        createTextButton(Common.UIString.UIString('Replace'), this._replace.bind(this), 'search-action-button');\n    this._replaceButtonElement.disabled = true;\n    this._secondRowButtons.appendChild(this._replaceButtonElement);\n\n    this._replaceAllButtonElement =\n        createTextButton(Common.UIString.UIString('Replace all'), this._replaceAll.bind(this), 'search-action-button');\n    this._secondRowButtons.appendChild(this._replaceAllButtonElement);\n    this._replaceAllButtonElement.disabled = true;\n\n    this._minimalSearchQuerySize = 3;\n    this._loadSetting();\n  }\n\n  /**\n   * @param {?Element} element\n   * @return {?SearchableView}\n   */\n  static fromElement(element) {\n    /** @type {?SearchableView} */\n    let view = null;\n    while (element && !view) {\n      view = searchableViewsByElement.get(element) || null;\n      element = element.parentElementOrShadowHost();\n    }\n    return view;\n  }\n\n  _toggleCaseSensitiveSearch() {\n    if (this._caseSensitiveButton) {\n      this._caseSensitiveButton.setToggled(!this._caseSensitiveButton.toggled());\n    }\n    this._saveSetting();\n    this._performSearch(false, true);\n  }\n\n  _toggleRegexSearch() {\n    if (this._regexButton) {\n      this._regexButton.setToggled(!this._regexButton.toggled());\n    }\n    this._saveSetting();\n    this._performSearch(false, true);\n  }\n\n  _toggleReplace() {\n    this._replaceToggleButton.setToggled(!this._replaceToggleButton.toggled());\n    this._updateSecondRowVisibility();\n  }\n\n  _saveSetting() {\n    if (!this._setting) {\n      return;\n    }\n    const settingValue = this._setting.get() || {};\n    if (this._caseSensitiveButton) {\n      settingValue.caseSensitive = this._caseSensitiveButton.toggled();\n    }\n    if (this._regexButton) {\n      settingValue.isRegex = this._regexButton.toggled();\n    }\n    this._setting.set(settingValue);\n  }\n\n  _loadSetting() {\n    const settingValue = this._setting ? (this._setting.get() || {}) : {};\n    if (this._searchProvider.supportsCaseSensitiveSearch() && this._caseSensitiveButton) {\n      this._caseSensitiveButton.setToggled(Boolean(settingValue.caseSensitive));\n    }\n    if (this._searchProvider.supportsRegexSearch() && this._regexButton) {\n      this._regexButton.setToggled(Boolean(settingValue.isRegex));\n    }\n  }\n\n  /**\n   * @param {number} minimalSearchQuerySize\n   */\n  setMinimalSearchQuerySize(minimalSearchQuerySize) {\n    this._minimalSearchQuerySize = minimalSearchQuerySize;\n  }\n\n  /**\n   * @param {string} placeholder\n   * @param {string=} ariaLabel\n   */\n  setPlaceholder(placeholder, ariaLabel) {\n    this._searchInputElement.placeholder = placeholder;\n    if (ariaLabel) {\n      ARIAUtils.setAccessibleName(this._searchInputElement, ariaLabel);\n    }\n  }\n\n  /**\n   * @param {boolean} replaceable\n   */\n  setReplaceable(replaceable) {\n    this._replaceable = replaceable;\n  }\n\n  /**\n   * @param {number} matches\n   */\n  updateSearchMatchesCount(matches) {\n    const untypedSearchProvider = /** @type {*} */ (this._searchProvider);\n    if (untypedSearchProvider.currentSearchMatches === matches) {\n      return;\n    }\n    untypedSearchProvider.currentSearchMatches = matches;\n    this._updateSearchMatchesCountAndCurrentMatchIndex(untypedSearchProvider.currentQuery ? matches : 0, -1);\n  }\n\n  /**\n   * @param {number} currentMatchIndex\n   */\n  updateCurrentMatchIndex(currentMatchIndex) {\n    const untypedSearchProvider = /** @type {*} */ (this._searchProvider);\n    this._updateSearchMatchesCountAndCurrentMatchIndex(untypedSearchProvider.currentSearchMatches, currentMatchIndex);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isSearchVisible() {\n    return Boolean(this._searchIsVisible);\n  }\n\n  closeSearch() {\n    this.cancelSearch();\n    if (this._footerElementContainer.hasFocus()) {\n      this.focus();\n    }\n  }\n\n  /** @param {boolean} toggled */\n  _toggleSearchBar(toggled) {\n    this._footerElementContainer.classList.toggle('hidden', !toggled);\n    this.doResize();\n  }\n\n  cancelSearch() {\n    if (!this._searchIsVisible) {\n      return;\n    }\n    this.resetSearch();\n    delete this._searchIsVisible;\n    this._toggleSearchBar(false);\n  }\n\n  resetSearch() {\n    this._clearSearch();\n    this._updateReplaceVisibility();\n    this._matchesElement.textContent = '';\n  }\n\n  refreshSearch() {\n    if (!this._searchIsVisible) {\n      return;\n    }\n    this.resetSearch();\n    this._performSearch(false, false);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  handleFindNextShortcut() {\n    if (!this._searchIsVisible) {\n      return false;\n    }\n    this._searchProvider.jumpToNextSearchResult();\n    return true;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  handleFindPreviousShortcut() {\n    if (!this._searchIsVisible) {\n      return false;\n    }\n    this._searchProvider.jumpToPreviousSearchResult();\n    return true;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  handleFindShortcut() {\n    this.showSearchField();\n    return true;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  handleCancelSearchShortcut() {\n    if (!this._searchIsVisible) {\n      return false;\n    }\n    this.closeSearch();\n    return true;\n  }\n\n  /**\n   * @param {boolean} enabled\n   */\n  _updateSearchNavigationButtonState(enabled) {\n    this._replaceButtonElement.disabled = !enabled;\n    this._replaceAllButtonElement.disabled = !enabled;\n    this._searchNavigationPrevElement.classList.toggle('enabled', enabled);\n    this._searchNavigationNextElement.classList.toggle('enabled', enabled);\n  }\n\n  /**\n   * @param {number} matches\n   * @param {number} currentMatchIndex\n   */\n  _updateSearchMatchesCountAndCurrentMatchIndex(matches, currentMatchIndex) {\n    if (!this._currentQuery) {\n      this._matchesElement.textContent = '';\n    } else if (matches === 0 || currentMatchIndex >= 0) {\n      this._matchesElement.textContent = Common.UIString.UIString('%d of %d', currentMatchIndex + 1, matches);\n    } else if (matches === 1) {\n      this._matchesElement.textContent = Common.UIString.UIString('1 match');\n    } else {\n      this._matchesElement.textContent = Common.UIString.UIString('%d matches', matches);\n    }\n    this._updateSearchNavigationButtonState(matches > 0);\n  }\n\n  showSearchField() {\n    if (this._searchIsVisible) {\n      this.cancelSearch();\n    }\n\n    let queryCandidate;\n    if (!this._searchInputElement.hasFocus()) {\n      const selection = InspectorView.instance().element.window().getSelection();\n      if (selection && selection.rangeCount) {\n        queryCandidate = selection.toString().replace(/\\r?\\n.*/, '');\n      }\n    }\n\n    this._toggleSearchBar(true);\n    this._updateReplaceVisibility();\n    if (queryCandidate) {\n      this._searchInputElement.value = queryCandidate;\n    }\n    this._performSearch(false, false);\n    this._searchInputElement.focus();\n    this._searchInputElement.select();\n    this._searchIsVisible = true;\n  }\n\n  _updateReplaceVisibility() {\n    this._replaceToggleButton.setVisible(this._replaceable);\n    if (!this._replaceable) {\n      this._replaceToggleButton.setToggled(false);\n      this._updateSecondRowVisibility();\n    }\n  }\n\n  /**\n   * @param {!Event} ev\n   */\n  _onSearchKeyDown(ev) {\n    const event = /** @type {!KeyboardEvent} */ (ev);\n    if (isEscKey(event)) {\n      this.closeSearch();\n      event.consume(true);\n      return;\n    }\n    if (!(event.key === 'Enter')) {\n      return;\n    }\n\n    if (!this._currentQuery) {\n      this._performSearch(true, true, event.shiftKey);\n    } else {\n      this._jumpToNextSearchResult(event.shiftKey);\n    }\n  }\n\n  /**\n   * @param {!KeyboardEvent} event\n   */\n  _onReplaceKeyDown(event) {\n    if (event.key === 'Enter') {\n      this._replace();\n    }\n  }\n\n  /**\n   * @param {boolean=} isBackwardSearch\n   */\n  _jumpToNextSearchResult(isBackwardSearch) {\n    if (!this._currentQuery) {\n      return;\n    }\n\n    if (isBackwardSearch) {\n      this._searchProvider.jumpToPreviousSearchResult();\n    } else {\n      this._searchProvider.jumpToNextSearchResult();\n    }\n  }\n\n  /** @param {!Event} event */\n  _onNextButtonSearch(event) {\n    if (!this._searchNavigationNextElement.classList.contains('enabled')) {\n      return;\n    }\n    this._jumpToNextSearchResult();\n    this._searchInputElement.focus();\n  }\n\n  /** @param {!Event} event */\n  _onPrevButtonSearch(event) {\n    if (!this._searchNavigationPrevElement.classList.contains('enabled')) {\n      return;\n    }\n    this._jumpToNextSearchResult(true);\n    this._searchInputElement.focus();\n  }\n\n  /** @param {!Event} event */\n  _onFindClick(event) {\n    if (!this._currentQuery) {\n      this._performSearch(true, true);\n    } else {\n      this._jumpToNextSearchResult();\n    }\n    this._searchInputElement.focus();\n  }\n\n  /** @param {!Event} event */\n  _onPreviousClick(event) {\n    if (!this._currentQuery) {\n      this._performSearch(true, true, true);\n    } else {\n      this._jumpToNextSearchResult(true);\n    }\n    this._searchInputElement.focus();\n  }\n\n  _clearSearch() {\n    const untypedSearchProvider = /** @type {*} */ (this._searchProvider);\n    delete this._currentQuery;\n    if (Boolean(untypedSearchProvider.currentQuery)) {\n      delete untypedSearchProvider.currentQuery;\n      this._searchProvider.searchCanceled();\n    }\n    this._updateSearchMatchesCountAndCurrentMatchIndex(0, -1);\n  }\n\n  /**\n   * @param {boolean} forceSearch\n   * @param {boolean} shouldJump\n   * @param {boolean=} jumpBackwards\n   */\n  _performSearch(forceSearch, shouldJump, jumpBackwards) {\n    const query = this._searchInputElement.value;\n    if (!query || (!forceSearch && query.length < this._minimalSearchQuerySize && !this._currentQuery)) {\n      this._clearSearch();\n      return;\n    }\n\n    this._currentQuery = query;\n    /** @type {*} */ (this._searchProvider).currentQuery = query;\n\n    const searchConfig = this._currentSearchConfig();\n    this._searchProvider.performSearch(searchConfig, shouldJump, jumpBackwards);\n  }\n\n  /**\n   * @return {!SearchConfig}\n   */\n  _currentSearchConfig() {\n    const query = this._searchInputElement.value;\n    const caseSensitive = this._caseSensitiveButton ? this._caseSensitiveButton.toggled() : false;\n    const isRegex = this._regexButton ? this._regexButton.toggled() : false;\n    return new SearchConfig(query, caseSensitive, isRegex);\n  }\n\n  _updateSecondRowVisibility() {\n    const secondRowVisible = this._replaceToggleButton.toggled();\n    this._footerElementContainer.classList.toggle('replaceable', secondRowVisible);\n    this._secondRowButtons.classList.toggle('hidden', !secondRowVisible);\n    this._replaceInputElement.classList.toggle('hidden', !secondRowVisible);\n\n    if (secondRowVisible) {\n      this._replaceInputElement.focus();\n    } else {\n      this._searchInputElement.focus();\n    }\n    this.doResize();\n  }\n\n  _replace() {\n    if (!this._replaceProvider) {\n      throw new Error('No \\'replacable\\' provided to SearchableView!');\n    }\n    const searchConfig = this._currentSearchConfig();\n    this._replaceProvider.replaceSelectionWith(searchConfig, this._replaceInputElement.value);\n    delete this._currentQuery;\n    this._performSearch(true, true);\n  }\n\n  _replaceAll() {\n    if (!this._replaceProvider) {\n      throw new Error('No \\'replacable\\' provided to SearchableView!');\n    }\n    const searchConfig = this._currentSearchConfig();\n    this._replaceProvider.replaceAllWith(searchConfig, this._replaceInputElement.value);\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _onInput(event) {\n    if (this._valueChangedTimeoutId) {\n      clearTimeout(this._valueChangedTimeoutId);\n    }\n    const timeout = this._searchInputElement.value.length < 3 ? 200 : 0;\n    this._valueChangedTimeoutId = setTimeout(this._onValueChanged.bind(this), timeout);\n  }\n\n  _onValueChanged() {\n    if (!this._searchIsVisible) {\n      return;\n    }\n    delete this._valueChangedTimeoutId;\n    this._performSearch(false, true);\n  }\n}\n\nexport const _symbol = Symbol('searchableView');\n\n/** @type {!WeakMap<!Element, !SearchableView>} */\nconst searchableViewsByElement = new WeakMap();\n\n/**\n * @interface\n */\nexport class Searchable {\n  searchCanceled() {\n  }\n\n  /**\n   * @param {!SearchConfig} searchConfig\n   * @param {boolean} shouldJump\n   * @param {boolean=} jumpBackwards\n   */\n  performSearch(searchConfig, shouldJump, jumpBackwards) {\n  }\n\n  jumpToNextSearchResult() {\n  }\n\n  jumpToPreviousSearchResult() {\n  }\n\n  /**\n   * @return {boolean}\n   */\n  supportsCaseSensitiveSearch() {\n    throw new Error('not implemented yet');\n  }\n\n  /**\n   * @return {boolean}\n   */\n  supportsRegexSearch() {\n    throw new Error('not implemented yet');\n  }\n}\n\n/**\n * @interface\n */\nexport class Replaceable {\n  /**\n   * @param {!SearchConfig} searchConfig\n   * @param {string} replacement\n   */\n  replaceSelectionWith(searchConfig, replacement) {\n  }\n\n  /**\n   * @param {!SearchConfig} searchConfig\n   * @param {string} replacement\n   */\n  replaceAllWith(searchConfig, replacement) {}\n}\n\nexport class SearchConfig {\n  /**\n   * @param {string} query\n   * @param {boolean} caseSensitive\n   * @param {boolean} isRegex\n   */\n  constructor(query, caseSensitive, isRegex) {\n    this.query = query;\n    this.caseSensitive = caseSensitive;\n    this.isRegex = isRegex;\n  }\n\n  /**\n   * @param {boolean=} global\n   * @return {!RegExp}\n   */\n  toSearchRegex(global) {\n    let modifiers = this.caseSensitive ? '' : 'i';\n    if (global) {\n      modifiers += 'g';\n    }\n    const query = this.isRegex ? '/' + this.query + '/' : this.query;\n\n    let regex;\n\n    // First try creating regex if user knows the / / hint.\n    try {\n      if (/^\\/.+\\/$/.test(query)) {\n        regex = new RegExp(query.substring(1, query.length - 1), modifiers);\n        regex.__fromRegExpQuery = true;\n      }\n    } catch (e) {\n      // Silent catch.\n    }\n\n    // Otherwise just do a plain text search.\n    if (!regex) {\n      regex = createPlainTextSearchRegex(query, modifiers);\n    }\n\n    return regex;\n  }\n}\n"]}