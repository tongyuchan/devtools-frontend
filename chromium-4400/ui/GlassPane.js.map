{"version":3,"file":"GlassPane.js","sourceRoot":"","sources":["../../../../../front_end/ui/GlassPane.js"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2017 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../common/common.js';\nimport * as Platform from '../platform/platform.js';\n\nimport {Size} from './Geometry.js';  // eslint-disable-line no-unused-vars\nimport {Icon} from './Icon.js';\nimport {deepElementFromEvent} from './UIUtils.js';\nimport {measuredScrollbarWidth} from './utils/measured-scrollbar-width.js';\nimport {Widget} from './Widget.js';\n\nexport class GlassPane extends Common.ObjectWrapper.ObjectWrapper {\n  constructor() {\n    super();\n    this._widget = new Widget(true);\n    this._widget.markAsRoot();\n    this.element = this._widget.element;\n    this.contentElement = this._widget.contentElement;\n    this._arrowElement = Icon.create('', 'arrow hidden');\n    if (this.element.shadowRoot) {\n      this.element.shadowRoot.appendChild(this._arrowElement);\n    }\n\n    this.registerRequiredCSS('ui/glassPane.css', {enableLegacyPatching: true});\n    this.setPointerEventsBehavior(PointerEventsBehavior.PierceGlassPane);\n\n    this._onMouseDownBound = this._onMouseDown.bind(this);\n    /** @type {?function(!Event):void} */\n    this._onClickOutsideCallback = null;\n    /** @type {?Size} */\n    this._maxSize = null;\n    /** @type {?number} */\n    this._positionX = null;\n    /** @type {?number} */\n    this._positionY = null;\n    /** @type {?AnchorBox} */\n    this._anchorBox = null;\n    this._anchorBehavior = AnchorBehavior.PreferTop;\n    this._sizeBehavior = SizeBehavior.SetExactSize;\n    this._marginBehavior = MarginBehavior.DefaultMargin;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isShowing() {\n    return this._widget.isShowing();\n  }\n\n  /**\n   * @param {string} cssFile\n  * @param {!{enableLegacyPatching:boolean}} options\n   */\n  registerRequiredCSS(cssFile, options) {\n    this._widget.registerRequiredCSS(cssFile, options);\n  }\n\n  /**\n   * @param {?Element} element\n   */\n  setDefaultFocusedElement(element) {\n    this._widget.setDefaultFocusedElement(element);\n  }\n\n  /**\n   * @param {boolean} dimmed\n   */\n  setDimmed(dimmed) {\n    this.element.classList.toggle('dimmed-pane', dimmed);\n  }\n\n  /**\n   * @param {!PointerEventsBehavior} pointerEventsBehavior\n   */\n  setPointerEventsBehavior(pointerEventsBehavior) {\n    this.element.classList.toggle(\n        'no-pointer-events', pointerEventsBehavior !== PointerEventsBehavior.BlockedByGlassPane);\n    this.contentElement.classList.toggle(\n        'no-pointer-events', pointerEventsBehavior === PointerEventsBehavior.PierceContents);\n  }\n\n  /**\n   * @param {?function(!Event):void} callback\n   */\n  setOutsideClickCallback(callback) {\n    this._onClickOutsideCallback = callback;\n  }\n\n  /**\n   * @param {?Size} size\n   */\n  setMaxContentSize(size) {\n    this._maxSize = size;\n    this.positionContent();\n  }\n\n  /**\n   * @param {!SizeBehavior} sizeBehavior\n   */\n  setSizeBehavior(sizeBehavior) {\n    this._sizeBehavior = sizeBehavior;\n    this.positionContent();\n  }\n\n  /**\n   * @param {?number} x\n   * @param {?number} y\n   * Position is relative to root element.\n   */\n  setContentPosition(x, y) {\n    this._positionX = x;\n    this._positionY = y;\n    this.positionContent();\n  }\n\n  /**\n   * @param {?AnchorBox} anchorBox\n   * Anchor box is relative to the document.\n   */\n  setContentAnchorBox(anchorBox) {\n    this._anchorBox = anchorBox;\n    this.positionContent();\n  }\n\n  /**\n   * @param {!AnchorBehavior} behavior\n   */\n  setAnchorBehavior(behavior) {\n    this._anchorBehavior = behavior;\n  }\n\n  /**\n   * @param {!MarginBehavior} behavior\n   */\n  setMarginBehavior(behavior) {\n    this._marginBehavior = behavior;\n    this._arrowElement.classList.toggle('hidden', behavior !== MarginBehavior.Arrow);\n  }\n\n  /**\n   * @param {!Document} document\n   */\n  show(document) {\n    if (this.isShowing()) {\n      return;\n    }\n    // TODO(crbug.com/1006759): Extract the magic number\n    // Deliberately starts with 3000 to hide other z-indexed elements below.\n    this.element.style.zIndex = `${3000 + 1000 * _panes.size}`;\n    document.body.addEventListener('mousedown', this._onMouseDownBound, true);\n    this._widget.show(document.body);\n    _panes.add(this);\n    this.positionContent();\n  }\n\n  hide() {\n    if (!this.isShowing()) {\n      return;\n    }\n    _panes.delete(this);\n    this.element.ownerDocument.body.removeEventListener('mousedown', this._onMouseDownBound, true);\n    this._widget.detach();\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _onMouseDown(event) {\n    if (!this._onClickOutsideCallback) {\n      return;\n    }\n    const node = deepElementFromEvent(event);\n    if (!node || this.contentElement.isSelfOrAncestor(node)) {\n      return;\n    }\n    this._onClickOutsideCallback.call(null, event);\n  }\n\n  positionContent() {\n    if (!this.isShowing()) {\n      return;\n    }\n\n    const showArrow = this._marginBehavior === MarginBehavior.Arrow;\n    const gutterSize = showArrow ? 8 : (this._marginBehavior === MarginBehavior.NoMargin ? 0 : 3);\n    const scrollbarSize = measuredScrollbarWidth(this.element.ownerDocument);\n    const arrowSize = 10;\n\n    const container =\n        /** @type {!HTMLElement} */ (_containers.get(/** @type {!Document} */ (this.element.ownerDocument)));\n    if (this._sizeBehavior === SizeBehavior.MeasureContent) {\n      this.contentElement.positionAt(0, 0);\n      this.contentElement.style.width = '';\n      this.contentElement.style.maxWidth = '';\n      this.contentElement.style.height = '';\n      this.contentElement.style.maxHeight = '';\n    }\n\n    const containerWidth = container.offsetWidth;\n    const containerHeight = container.offsetHeight;\n\n    let width = containerWidth - gutterSize * 2;\n    let height = containerHeight - gutterSize * 2;\n    let positionX = gutterSize;\n    let positionY = gutterSize;\n\n    if (this._maxSize) {\n      width = Math.min(width, this._maxSize.width);\n      height = Math.min(height, this._maxSize.height);\n    }\n\n    if (this._sizeBehavior === SizeBehavior.MeasureContent) {\n      const measuredRect = this.contentElement.getBoundingClientRect();\n      const widthOverflow = height < measuredRect.height ? scrollbarSize : 0;\n      const heightOverflow = width < measuredRect.width ? scrollbarSize : 0;\n      width = Math.min(width, measuredRect.width + widthOverflow);\n      height = Math.min(height, measuredRect.height + heightOverflow);\n    }\n\n    if (this._anchorBox) {\n      const anchorBox = this._anchorBox.relativeToElement(container);\n      let behavior = this._anchorBehavior;\n      this._arrowElement.classList.remove('arrow-none', 'arrow-top', 'arrow-bottom', 'arrow-left', 'arrow-right');\n\n      if (behavior === AnchorBehavior.PreferTop || behavior === AnchorBehavior.PreferBottom) {\n        const top = anchorBox.y - 2 * gutterSize;\n        const bottom = containerHeight - anchorBox.y - anchorBox.height - 2 * gutterSize;\n        if (behavior === AnchorBehavior.PreferTop && top < height && bottom > top) {\n          behavior = AnchorBehavior.PreferBottom;\n        }\n        if (behavior === AnchorBehavior.PreferBottom && bottom < height && top > bottom) {\n          behavior = AnchorBehavior.PreferTop;\n        }\n\n        let arrowY;\n        let enoughHeight = true;\n        if (behavior === AnchorBehavior.PreferTop) {\n          positionY = Math.max(gutterSize, anchorBox.y - height - gutterSize);\n          const spaceTop = anchorBox.y - positionY - gutterSize;\n          if (this._sizeBehavior === SizeBehavior.MeasureContent) {\n            if (height > spaceTop) {\n              this._arrowElement.classList.add('arrow-none');\n              enoughHeight = false;\n            }\n          } else {\n            height = Math.min(height, spaceTop);\n          }\n          this._arrowElement.setIconType('mediumicon-arrow-bottom');\n          this._arrowElement.classList.add('arrow-bottom');\n          arrowY = anchorBox.y - gutterSize;\n        } else {\n          positionY = anchorBox.y + anchorBox.height + gutterSize;\n          const spaceBottom = containerHeight - positionY - gutterSize;\n          if (this._sizeBehavior === SizeBehavior.MeasureContent) {\n            if (height > spaceBottom) {\n              this._arrowElement.classList.add('arrow-none');\n              positionY = containerHeight - gutterSize - height;\n              enoughHeight = false;\n            }\n          } else {\n            height = Math.min(height, spaceBottom);\n          }\n          this._arrowElement.setIconType('mediumicon-arrow-top');\n          this._arrowElement.classList.add('arrow-top');\n          arrowY = anchorBox.y + anchorBox.height + gutterSize;\n        }\n\n        positionX = Math.max(gutterSize, Math.min(anchorBox.x, containerWidth - width - gutterSize));\n        if (!enoughHeight) {\n          positionX = Math.min(positionX + arrowSize, containerWidth - width - gutterSize);\n        } else if (showArrow && positionX - arrowSize >= gutterSize) {\n          positionX -= arrowSize;\n        }\n        width = Math.min(width, containerWidth - positionX - gutterSize);\n        if (2 * arrowSize >= width) {\n          this._arrowElement.classList.add('arrow-none');\n        } else {\n          let arrowX = anchorBox.x + Math.min(50, Math.floor(anchorBox.width / 2));\n          arrowX = Platform.NumberUtilities.clamp(arrowX, positionX + arrowSize, positionX + width - arrowSize);\n          this._arrowElement.positionAt(arrowX, arrowY, container);\n        }\n      } else {\n        const left = anchorBox.x - 2 * gutterSize;\n        const right = containerWidth - anchorBox.x - anchorBox.width - 2 * gutterSize;\n        if (behavior === AnchorBehavior.PreferLeft && left < width && right > left) {\n          behavior = AnchorBehavior.PreferRight;\n        }\n        if (behavior === AnchorBehavior.PreferRight && right < width && left > right) {\n          behavior = AnchorBehavior.PreferLeft;\n        }\n\n        let arrowX;\n        let enoughWidth = true;\n        if (behavior === AnchorBehavior.PreferLeft) {\n          positionX = Math.max(gutterSize, anchorBox.x - width - gutterSize);\n          const spaceLeft = anchorBox.x - positionX - gutterSize;\n          if (this._sizeBehavior === SizeBehavior.MeasureContent) {\n            if (width > spaceLeft) {\n              this._arrowElement.classList.add('arrow-none');\n              enoughWidth = false;\n            }\n          } else {\n            width = Math.min(width, spaceLeft);\n          }\n          this._arrowElement.setIconType('mediumicon-arrow-right');\n          this._arrowElement.classList.add('arrow-right');\n          arrowX = anchorBox.x - gutterSize;\n        } else {\n          positionX = anchorBox.x + anchorBox.width + gutterSize;\n          const spaceRight = containerWidth - positionX - gutterSize;\n          if (this._sizeBehavior === SizeBehavior.MeasureContent) {\n            if (width > spaceRight) {\n              this._arrowElement.classList.add('arrow-none');\n              positionX = containerWidth - gutterSize - width;\n              enoughWidth = false;\n            }\n          } else {\n            width = Math.min(width, spaceRight);\n          }\n          this._arrowElement.setIconType('mediumicon-arrow-left');\n          this._arrowElement.classList.add('arrow-left');\n          arrowX = anchorBox.x + anchorBox.width + gutterSize;\n        }\n\n        positionY = Math.max(gutterSize, Math.min(anchorBox.y, containerHeight - height - gutterSize));\n        if (!enoughWidth) {\n          positionY = Math.min(positionY + arrowSize, containerHeight - height - gutterSize);\n        } else if (showArrow && positionY - arrowSize >= gutterSize) {\n          positionY -= arrowSize;\n        }\n        height = Math.min(height, containerHeight - positionY - gutterSize);\n        if (2 * arrowSize >= height) {\n          this._arrowElement.classList.add('arrow-none');\n        } else {\n          let arrowY = anchorBox.y + Math.min(50, Math.floor(anchorBox.height / 2));\n          arrowY = Platform.NumberUtilities.clamp(arrowY, positionY + arrowSize, positionY + height - arrowSize);\n          this._arrowElement.positionAt(arrowX, arrowY, container);\n        }\n      }\n    } else {\n      positionX = this._positionX !== null ? this._positionX : (containerWidth - width) / 2;\n      positionY = this._positionY !== null ? this._positionY : (containerHeight - height) / 2;\n      width = Math.min(width, containerWidth - positionX - gutterSize);\n      height = Math.min(height, containerHeight - positionY - gutterSize);\n      this._arrowElement.classList.add('arrow-none');\n    }\n\n    this.contentElement.style.width = width + 'px';\n    if (this._sizeBehavior === SizeBehavior.SetExactWidthMaxHeight) {\n      this.contentElement.style.maxHeight = height + 'px';\n    } else {\n      this.contentElement.style.height = height + 'px';\n    }\n\n    this.contentElement.positionAt(positionX, positionY, container);\n    this._widget.doResize();\n  }\n\n  /**\n   * @protected\n   * @return {!Widget}\n   */\n  widget() {\n    return this._widget;\n  }\n\n  /**\n   * @param {!Element} element\n   */\n  static setContainer(element) {\n    _containers.set(/** @type {!Document} */ (element.ownerDocument), element);\n    GlassPane.containerMoved(element);\n  }\n\n  /**\n   * @param {!Document} document\n   * @return {!Element}\n   */\n  static container(document) {\n    return /** @type {!Element} */ (_containers.get(document));\n  }\n\n  /**\n   * @param {!Element} element\n   */\n  static containerMoved(element) {\n    for (const pane of _panes) {\n      if (pane.isShowing() && pane.element.ownerDocument === element.ownerDocument) {\n        pane.positionContent();\n      }\n    }\n  }\n}\n\n/** @enum {symbol} */\nexport const PointerEventsBehavior = {\n  BlockedByGlassPane: Symbol('BlockedByGlassPane'),\n  PierceGlassPane: Symbol('PierceGlassPane'),\n  PierceContents: Symbol('PierceContents')\n};\n\n/** @enum {symbol} */\nexport const AnchorBehavior = {\n  PreferTop: Symbol('PreferTop'),\n  PreferBottom: Symbol('PreferBottom'),\n  PreferLeft: Symbol('PreferLeft'),\n  PreferRight: Symbol('PreferRight'),\n};\n\n/** @enum {symbol} */\nexport const SizeBehavior = {\n  SetExactSize: Symbol('SetExactSize'),\n  SetExactWidthMaxHeight: Symbol('SetExactWidthMaxHeight'),\n  MeasureContent: Symbol('MeasureContent')\n};\n\n/** @enum {symbol} */\nexport const MarginBehavior = {\n  Arrow: Symbol('Arrow'),\n  DefaultMargin: Symbol('DefaultMargin'),\n  NoMargin: Symbol('NoMargin')\n};\n\n/** @type {!Map<!Document, !Element>} */\nconst _containers = new Map();\n\n/** @type {!Set<!GlassPane>} */\nconst _panes = new Set();\n\n// Exported for layout tests.\nexport const GlassPanePanes = _panes;\n"]}