{"version":3,"file":"append-style.js","sourceRoot":"","sources":["../../../../../../front_end/ui/utils/append-style.js"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,IAAI,MAAM,oBAAoB,CAAC;AAC3C,OAAO,KAAK,YAAY,MAAM,sCAAsC,CAAC;AAErE;;;;GAIG;AACH,MAAM,UAAU,WAAW,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,GAAG;IACnD,oBAAoB,EAAE,KAAK;CAC5B;IACC,MAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IAChE,IAAI,CAAC,OAAO,EAAE;QACZ,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,mCAAmC,CAAC,CAAC;KAC9D;IACD,IAAI,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;IACnD,YAAY,CAAC,WAAW,GAAG,OAAO,CAAC;IACnC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;IAE/B;;;OAGG;IACH,IAAI,OAAO,CAAC,oBAAoB,EAAE;QAChC,MAAM,eAAe,GAAG,YAAY,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,eAAe,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QAC/F,IAAI,eAAe,EAAE;YACnB,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAC/C,YAAY,CAAC,WAAW,GAAG,eAAe,GAAG,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,GAAG,QAAQ,CAAC,CAAC;YAC9G,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;SAChC;KACF;AACH,CAAC","sourcesContent":["// Copyright 2019 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Root from '../../root/root.js';\nimport * as ThemeSupport from '../../theme_support/theme_support.js';\n\n/**\n * @param {!Node} node\n * @param {string} cssFile\n * @param {!{enableLegacyPatching:boolean}} options\n */\nexport function appendStyle(node, cssFile, options = {\n  enableLegacyPatching: false\n}) {\n  const content = Root.Runtime.cachedResources.get(cssFile) || '';\n  if (!content) {\n    console.error(cssFile + ' not preloaded. Check module.json');\n  }\n  let styleElement = document.createElement('style');\n  styleElement.textContent = content;\n  node.appendChild(styleElement);\n\n  /**\n   * We are incrementally removing patching support in favour of CSS variables for supporting dark mode.\n   * See https://docs.google.com/document/d/1QrSSRsJRzaQBY3zz73ZL84bTcFUV60yMtE5cuu6ED14 for details.\n   */\n  if (options.enableLegacyPatching) {\n    const themeStyleSheet = ThemeSupport.ThemeSupport.instance().themeStyleSheet(cssFile, content);\n    if (themeStyleSheet) {\n      styleElement = document.createElement('style');\n      styleElement.textContent = themeStyleSheet + '\\n' + Root.Runtime.Runtime.resolveSourceURL(cssFile + '.theme');\n      node.appendChild(styleElement);\n    }\n  }\n}\n"]}