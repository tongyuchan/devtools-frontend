{"version":3,"file":"focus-changed.js","sourceRoot":"","sources":["../../../../../../front_end/ui/utils/focus-changed.js"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B;;GAEG;AACH,SAAS,wBAAwB,CAAC,IAAI;IACpC,OAAO,IAAI,EAAE;QACX,KAAI,gBAAiB,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE;YACpC,MAAM;SACP;QACD,IAAI,GAAG,IAAI,CAAC,sBAAsB,EAAE,CAAC;KACtC;IACD,IAAI,CAAC,IAAI,EAAE;QACT,OAAO;KACR;IAED,IAAI,MAAM,GAAG,gBAAgB,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC;IAC9C,OAAO,MAAM,CAAC,aAAa,EAAE;QAC3B,MAAM,CAAC,aAAa,CAAC,oBAAoB,GAAG,MAAM,CAAC;QACnD,MAAM,GAAG,MAAM,CAAC,aAAa,CAAC;KAC/B;AACH,CAAC;AAED;;GAEG;AACH,SAAS,yBAAyB,CAAC,IAAI;IACrC,IAAI,GAAG,IAAI,IAAI,IAAI,CAAC,sBAAsB,EAAE,CAAC;IAC7C,MAAM,WAAW,GAAG,cAAc,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IACnD,IAAI,MAAM,GAAG,IAAI,CAAC;IAClB,OAAO,IAAI,EAAE;QACX,IAAI,IAAI,YAAY,WAAW,EAAE;YAC/B,IAAI,MAAM,EAAE;gBACV,gBAAgB,CAAC,CAAC,IAAI,CAAC,CAAC,sBAAsB,GAAG,MAAM,CAAC;aACzD;YACD,MAAM,GAAG,IAAI,CAAC;SACf;QACD,IAAI,GAAG,IAAI,CAAC,sBAAsB,EAAE,CAAC;KACtC;AACH,CAAC;AAED;;GAEG;AACH,MAAM,UAAU,YAAY,CAAC,KAAK;IAChC,MAAM,MAAM,GAAG,2BAA2B,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAC1D,MAAM,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC;IACtD,MAAM,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;IAC/D,wBAAwB,CAAC,OAAO,CAAC,CAAC;IAClC,yBAAyB,CAAC,OAAO,CAAC,CAAC;AACrC,CAAC","sourcesContent":["// Copyright 2019 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/**\n * @param {?Node} node\n */\nfunction WidgetfocusWidgetForNode(node) {\n  while (node) {\n    if (/** @type {?} */ (node).__widget) {\n      break;\n    }\n    node = node.parentNodeOrShadowHost();\n  }\n  if (!node) {\n    return;\n  }\n\n  let widget = /** @type {?} */ (node).__widget;\n  while (widget._parentWidget) {\n    widget._parentWidget._defaultFocusedChild = widget;\n    widget = widget._parentWidget;\n  }\n}\n\n/**\n * @param {?Node} node\n */\nfunction XWidgetfocusWidgetForNode(node) {\n  node = node && node.parentNodeOrShadowHost();\n  const XWidgetCtor = customElements.get('x-widget');\n  let widget = null;\n  while (node) {\n    if (node instanceof XWidgetCtor) {\n      if (widget) {\n        /** @type {?} */ (node)._defaultFocusedElement = widget;\n      }\n      widget = node;\n    }\n    node = node.parentNodeOrShadowHost();\n  }\n}\n\n/**\n * @param {!Event} event\n */\nexport function focusChanged(event) {\n  const target = /** @type {!HTMLElement} */ (event.target);\n  const document = target ? target.ownerDocument : null;\n  const element = document ? document.deepActiveElement() : null;\n  WidgetfocusWidgetForNode(element);\n  XWidgetfocusWidgetForNode(element);\n}\n"]}