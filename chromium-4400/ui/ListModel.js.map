{"version":3,"file":"ListModel.js","sourceRoot":"","sources":["../../../../../front_end/ui/ListModel.js"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2017 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../common/common.js';\nimport * as Platform from '../platform/platform.js';\n\n/**\n * @implements {Iterable<T>}\n * @template T\n */\nexport class ListModel extends Common.ObjectWrapper.ObjectWrapper {\n  /**\n   * @param {!Array<T>=} items\n   */\n  constructor(items) {\n    super();\n    /** @type {!Array<T>} */\n    this._items = items || [];\n  }\n\n  /**\n   * @return {!Iterator<T>}\n   */\n  [Symbol.iterator]() {\n    return this._items[Symbol.iterator]();\n  }\n\n  /**\n   * @return {number}\n   */\n  get length() {\n    return this._items.length;\n  }\n\n  /**\n   * @param {number} index\n   * @return {T}\n   */\n  at(index) {\n    return this._items[index];\n  }\n\n  /**\n   * @param {function(T):boolean} callback\n   * @return {boolean}\n   */\n  every(callback) {\n    return this._items.every(callback);\n  }\n\n  /**\n   * @param {function(T):boolean} callback\n   * @return {!Array<T>}\n   */\n  filter(callback) {\n    return this._items.filter(callback);\n  }\n\n  /**\n   * @param {function(T):boolean} callback\n   * @return {T|undefined}\n   */\n  find(callback) {\n    return this._items.find(callback);\n  }\n\n  /**\n   * @param {function(T):boolean} callback\n   * @return {number}\n   */\n  findIndex(callback) {\n    return this._items.findIndex(callback);\n  }\n\n  /**\n   * @param {T} value\n   * @param {number=} fromIndex\n   * @return {number}\n   */\n  indexOf(value, fromIndex) {\n    return this._items.indexOf(value, fromIndex);\n  }\n\n  /**\n   * @param {number} index\n   * @param {T} value\n   */\n  insert(index, value) {\n    this._items.splice(index, 0, value);\n    this._replaced(index, [], 1);\n  }\n\n  /**\n   * @param {T} value\n   * @param {function(T, T):number} comparator\n   */\n  insertWithComparator(value, comparator) {\n    this.insert(Platform.ArrayUtilities.lowerBound(this._items, value, comparator), value);\n  }\n\n  /**\n   * @param {string=} separator\n   * @return {string}\n   */\n  join(separator) {\n    return this._items.join(separator);\n  }\n\n  /**\n   * @param {number} index\n   * @return {T}\n   */\n  remove(index) {\n    const result = this._items[index];\n    this._items.splice(index, 1);\n    this._replaced(index, [result], 0);\n    return result;\n  }\n\n  /**\n   * @param {number} index\n   * @param {T} value\n   * @param {boolean=} keepSelectedIndex\n   * @return {T}\n   */\n  replace(index, value, keepSelectedIndex) {\n    const oldValue = this._items[index];\n    this._items[index] = value;\n    this._replaced(index, [oldValue], 1, keepSelectedIndex);\n    return oldValue;\n  }\n\n  /**\n   * @param {number} from\n   * @param {number} to\n   * @param {!Array<T>} items\n   * @return {!Array<T>} removed\n   */\n  replaceRange(from, to, items) {\n    let removed;\n    if (items.length < 10000) {\n      removed = this._items.splice(from, to - from, ...items);\n    } else {\n      removed = this._items.slice(from, to);\n      // Splice may fail with too many arguments.\n      const before = this._items.slice(0, from);\n      const after = this._items.slice(to);\n      this._items = [...before, ...items, ...after];\n    }\n    this._replaced(from, removed, items.length);\n    return removed;\n  }\n\n  /**\n   * @param {!Array<T>} items\n   * @return {!Array<T>}\n   */\n  replaceAll(items) {\n    const oldItems = this._items.slice();\n    this._items = items;\n    this._replaced(0, oldItems, items.length);\n    return oldItems;\n  }\n\n  /**\n   * @param {number=} from\n   * @param {number=} to\n   * @return {!Array<T>}\n   */\n  slice(from, to) {\n    return this._items.slice(from, to);\n  }\n\n  /**\n   * @param {function(T):boolean} callback\n   * @return {boolean}\n   */\n  some(callback) {\n    return this._items.some(callback);\n  }\n\n  /**\n   * @param {number} index\n   * @param {!Array<T>} removed\n   * @param {number} inserted\n   * @param {boolean=} keepSelectedIndex\n   */\n  _replaced(index, removed, inserted, keepSelectedIndex) {\n    this.dispatchEventToListeners(Events.ItemsReplaced, {index, removed, inserted, keepSelectedIndex});\n  }\n}\n\n/** @enum {symbol} */\nexport const Events = {\n  ItemsReplaced: Symbol('ItemsReplaced'),\n};\n"]}