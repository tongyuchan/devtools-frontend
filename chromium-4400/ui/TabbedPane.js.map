{"version":3,"file":"TabbedPane.js","sourceRoot":"","sources":["../../../../../front_end/ui/TabbedPane.js"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2010 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../common/common.js';\nimport * as Platform from '../platform/platform.js';\nimport {ls} from '../platform/platform.js';\n\nimport * as ARIAUtils from './ARIAUtils.js';\nimport {ContextMenu} from './ContextMenu.js';\nimport {Constraints, Size} from './Geometry.js';\nimport {Icon} from './Icon.js';\nimport {Toolbar} from './Toolbar.js';\nimport {Tooltip} from './Tooltip.js';\nimport {installDragHandle, invokeOnceAfterBatchUpdate} from './UIUtils.js';\nimport {VBox, Widget} from './Widget.js';  // eslint-disable-line no-unused-vars\nimport {Events as ZoomManagerEvents, ZoomManager} from './ZoomManager.js';\n\nexport class TabbedPane extends VBox {\n  constructor() {\n    super(true);\n    this.registerRequiredCSS('ui/tabbedPane.css', {enableLegacyPatching: true});\n    this.element.classList.add('tabbed-pane');\n    this.contentElement.classList.add('tabbed-pane-shadow');\n    this.contentElement.tabIndex = -1;\n    this.setDefaultFocusedElement(this.contentElement);\n    this._headerElement = this.contentElement.createChild('div', 'tabbed-pane-header');\n    this._headerContentsElement = this._headerElement.createChild('div', 'tabbed-pane-header-contents');\n    this._tabSlider = document.createElement('div');\n    this._tabSlider.classList.add('tabbed-pane-tab-slider');\n    this._tabsElement = this._headerContentsElement.createChild('div', 'tabbed-pane-header-tabs');\n    this._tabsElement.setAttribute('role', 'tablist');\n    this._tabsElement.addEventListener('keydown', this._keyDown.bind(this), false);\n    this._contentElement = this.contentElement.createChild('div', 'tabbed-pane-content');\n    this._contentElement.createChild('slot');\n    /** @type {!Array.<!TabbedPaneTab>} */\n    this._tabs = [];\n    /** @type {!Array.<!TabbedPaneTab>} */\n    this._tabsHistory = [];\n    /** @type {!Map<string, !TabbedPaneTab>} */\n    this._tabsById = new Map();\n    this._currentTabLocked = false;\n    this._autoSelectFirstItemOnShow = true;\n\n    this._triggerDropDownTimeout = null;\n    this._dropDownButton = this._createDropDownButton();\n    this._currentDevicePixelRatio = window.devicePixelRatio;\n    ZoomManager.instance().addEventListener(ZoomManagerEvents.ZoomChanged, this._zoomChanged, this);\n    this.makeTabSlider();\n  }\n\n  /**\n   * @param {string} name\n   */\n  setAccessibleName(name) {\n    ARIAUtils.setAccessibleName(this._tabsElement, name);\n  }\n\n  /**\n   * @param {boolean} locked\n   */\n  setCurrentTabLocked(locked) {\n    this._currentTabLocked = locked;\n    this._headerElement.classList.toggle('locked', this._currentTabLocked);\n  }\n\n  /**\n   * @param {boolean} autoSelect\n   */\n  setAutoSelectFirstItemOnShow(autoSelect) {\n    this._autoSelectFirstItemOnShow = autoSelect;\n  }\n\n  /**\n   * @return {?Widget}\n   */\n  get visibleView() {\n    return this._currentTab ? this._currentTab.view : null;\n  }\n\n  /**\n   * @return {!Array.<string>}\n   */\n  tabIds() {\n    return this._tabs.map(tab => tab._id);\n  }\n\n  /**\n   * @param {string} tabId\n   * @return {number}\n   */\n  tabIndex(tabId) {\n    return this._tabs.findIndex(tab => tab.id === tabId);\n  }\n\n  /**\n   * @return {!Array.<!Widget>}\n   */\n  tabViews() {\n    return this._tabs.map(tab => tab.view);\n  }\n\n  /**\n   * @param {string} tabId\n   * @return {?Widget}\n   */\n  tabView(tabId) {\n    const tab = this._tabsById.get(tabId);\n    return tab ? tab.view : null;\n  }\n\n  /**\n   * @return {?string}\n   */\n  get selectedTabId() {\n    return this._currentTab ? this._currentTab.id : null;\n  }\n\n  /**\n   * @param {boolean} shrinkableTabs\n   */\n  setShrinkableTabs(shrinkableTabs) {\n    this._shrinkableTabs = shrinkableTabs;\n  }\n\n  makeVerticalTabLayout() {\n    this._verticalTabLayout = true;\n    this._setTabSlider(false);\n    this.contentElement.classList.add('vertical-tab-layout');\n    this.invalidateConstraints();\n  }\n\n  /**\n   * @param {boolean} closeableTabs\n   */\n  setCloseableTabs(closeableTabs) {\n    this._closeableTabs = closeableTabs;\n  }\n\n  /**\n   * @override\n   */\n  focus() {\n    if (this.visibleView) {\n      this.visibleView.focus();\n    } else {\n      this.contentElement.focus();\n    }\n  }\n\n  focusSelectedTabHeader() {\n    const selectedTab = this._currentTab;\n    if (selectedTab) {\n      selectedTab.tabElement.focus();\n    }\n  }\n\n  /**\n   * @return {!Element}\n   */\n  headerElement() {\n    return this._headerElement;\n  }\n\n  /**\n   * @param {string} id\n   * @return {boolean}\n   */\n  isTabCloseable(id) {\n    const tab = this._tabsById.get(id);\n    return tab ? tab.isCloseable() : false;\n  }\n\n  /**\n   * @param {!TabbedPaneTabDelegate} delegate\n   */\n  setTabDelegate(delegate) {\n    const tabs = this._tabs.slice();\n    for (let i = 0; i < tabs.length; ++i) {\n      tabs[i].setDelegate(delegate);\n    }\n    this._delegate = delegate;\n  }\n\n  /**\n   * @param {string} id\n   * @param {string} tabTitle\n   * @param {!Widget} view\n   * @param {string=} tabTooltip\n   * @param {boolean=} userGesture\n   * @param {boolean=} isCloseable\n   * @param {number=} index\n   */\n  appendTab(id, tabTitle, view, tabTooltip, userGesture, isCloseable, index) {\n    const closeable = typeof isCloseable === 'boolean' ? isCloseable : Boolean(this._closeableTabs);\n    const tab = new TabbedPaneTab(this, id, tabTitle, closeable, view, tabTooltip);\n    tab.setDelegate(/** @type {!TabbedPaneTabDelegate} */ (this._delegate));\n    console.assert(!this._tabsById.has(id), `Tabbed pane already contains a tab with id '${id}'`);\n    this._tabsById.set(id, tab);\n    if (index !== undefined) {\n      this._tabs.splice(index, 0, tab);\n    } else {\n      this._tabs.push(tab);\n    }\n    this._tabsHistory.push(tab);\n    if (this._tabsHistory[0] === tab && this.isShowing()) {\n      this.selectTab(tab.id, userGesture);\n    }\n    this._updateTabElements();\n  }\n\n  /**\n   * @param {string} id\n   * @param {boolean=} userGesture\n   */\n  closeTab(id, userGesture) {\n    this.closeTabs([id], userGesture);\n  }\n\n\n  /**\n   * @param {!Array.<string>} ids\n   * @param {boolean=} userGesture\n   */\n  closeTabs(ids, userGesture) {\n    const focused = this.hasFocus();\n    for (let i = 0; i < ids.length; ++i) {\n      this._innerCloseTab(ids[i], userGesture);\n    }\n    this._updateTabElements();\n    if (this._tabsHistory.length) {\n      this.selectTab(this._tabsHistory[0].id, false);\n    }\n    if (focused) {\n      this.focus();\n    }\n  }\n\n  /**\n   * @param {string} id\n   * @param {boolean=} userGesture\n   */\n  _innerCloseTab(id, userGesture) {\n    const tab = this._tabsById.get(id);\n    if (!tab) {\n      return;\n    }\n    if (userGesture && !tab._closeable) {\n      return;\n    }\n    if (this._currentTab && this._currentTab.id === id) {\n      this._hideCurrentTab();\n    }\n\n    this._tabsById.delete(id);\n\n    this._tabsHistory.splice(this._tabsHistory.indexOf(tab), 1);\n    this._tabs.splice(this._tabs.indexOf(tab), 1);\n    if (tab._shown) {\n      this._hideTabElement(tab);\n    }\n\n    /** @type {!EventData} */\n    const eventData = {prevTabId: undefined, tabId: id, view: tab.view, isUserGesture: userGesture};\n    this.dispatchEventToListeners(Events.TabClosed, eventData);\n    return true;\n  }\n\n  /**\n   * @param {string} tabId\n   * @return {boolean}\n   */\n  hasTab(tabId) {\n    return this._tabsById.has(tabId);\n  }\n\n  /**\n   * @param {string} id\n   * @return {!Array.<string>}\n   */\n  otherTabs(id) {\n    const result = [];\n    for (let i = 0; i < this._tabs.length; ++i) {\n      if (this._tabs[i].id !== id) {\n        result.push(this._tabs[i].id);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * @param {string} id\n   * @return {!Array.<string>}\n   */\n  _tabsToTheRight(id) {\n    let index = -1;\n    for (let i = 0; i < this._tabs.length; ++i) {\n      if (this._tabs[i].id === id) {\n        index = i;\n        break;\n      }\n    }\n    if (index === -1) {\n      return [];\n    }\n    return this._tabs.slice(index + 1).map(function(tab) {\n      return tab.id;\n    });\n  }\n\n  _viewHasFocus() {\n    if (this.visibleView && this.visibleView.hasFocus()) {\n      return true;\n    }\n    const root = this.contentElement.getComponentRoot();\n    return root instanceof Document && this.contentElement === root.activeElement;\n  }\n\n  /**\n   * @param {string} id\n   * @param {boolean=} userGesture\n   * @param {boolean=} forceFocus\n   * @return {boolean}\n   */\n  selectTab(id, userGesture, forceFocus) {\n    if (this._currentTabLocked) {\n      return false;\n    }\n    const focused = this._viewHasFocus();\n    const tab = this._tabsById.get(id);\n    if (!tab) {\n      return false;\n    }\n\n    /** @type {!EventData} */\n    const eventData = {\n      prevTabId: this._currentTab ? this._currentTab.id : undefined,\n      tabId: id,\n      view: tab.view,\n      isUserGesture: userGesture,\n    };\n    this.dispatchEventToListeners(Events.TabInvoked, eventData);\n    if (this._currentTab && this._currentTab.id === id) {\n      return true;\n    }\n\n    this.suspendInvalidations();\n    this._hideCurrentTab();\n    this._showTab(tab);\n    this.resumeInvalidations();\n    this._currentTab = tab;\n\n    this._tabsHistory.splice(this._tabsHistory.indexOf(tab), 1);\n    this._tabsHistory.splice(0, 0, tab);\n\n    this._updateTabElements();\n    if (focused || forceFocus) {\n      this.focus();\n    }\n\n    this.dispatchEventToListeners(Events.TabSelected, eventData);\n    return true;\n  }\n\n  selectNextTab() {\n    const index = this._tabs.indexOf(/** @type {!TabbedPaneTab} */ (this._currentTab));\n    const nextIndex = Platform.NumberUtilities.mod(index + 1, this._tabs.length);\n    this.selectTab(this._tabs[nextIndex].id, true);\n  }\n\n  selectPrevTab() {\n    const index = this._tabs.indexOf(/** @type {!TabbedPaneTab} */ (this._currentTab));\n    const nextIndex = Platform.NumberUtilities.mod(index - 1, this._tabs.length);\n    this.selectTab(this._tabs[nextIndex].id, true);\n  }\n\n  /**\n   * @param {number} tabsCount\n   * @return {!Array.<string>}\n   */\n  lastOpenedTabIds(tabsCount) {\n    /** @param {!TabbedPaneTab} tab */\n    function tabToTabId(tab) {\n      return tab.id;\n    }\n\n    return this._tabsHistory.slice(0, tabsCount).map(tabToTabId);\n  }\n\n  /**\n   * @param {string} id\n   * @param {?Icon} icon\n   */\n  setTabIcon(id, icon) {\n    const tab = this._tabsById.get(id);\n    if (!tab) {\n      return;\n    }\n    tab._setIcon(icon);\n    this._updateTabElements();\n  }\n\n  /**\n   * @param {string} id\n   * @param {boolean} enabled\n   */\n  setTabEnabled(id, enabled) {\n    const tab = this._tabsById.get(id);\n    if (tab) {\n      tab.tabElement.classList.toggle('disabled', !enabled);\n    }\n  }\n\n  /**\n   * @param {string} id\n   * @param {string} className\n   * @param {boolean=} force\n   */\n  toggleTabClass(id, className, force) {\n    const tab = this._tabsById.get(id);\n    if (tab && tab._toggleClass(className, force)) {\n      this._updateTabElements();\n    }\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _zoomChanged(event) {\n    this._clearMeasuredWidths();\n    if (this.isShowing()) {\n      this._updateTabElements();\n    }\n  }\n\n  _clearMeasuredWidths() {\n    for (let i = 0; i < this._tabs.length; ++i) {\n      delete this._tabs[i]._measuredWidth;\n    }\n  }\n\n  /**\n   * @param {string} id\n   * @param {string} tabTitle\n   * @param {string=} tabTooltip\n   */\n  changeTabTitle(id, tabTitle, tabTooltip) {\n    const tab = this._tabsById.get(id);\n    if (tab && tabTooltip !== undefined) {\n      tab.tooltip = tabTooltip;\n    }\n    if (tab && tab.title !== tabTitle) {\n      tab.title = tabTitle;\n      ARIAUtils.setAccessibleName(tab.tabElement, tabTitle);\n      this._updateTabElements();\n    }\n  }\n\n  /**\n   * @param {string} id\n   * @param {!Widget} view\n   */\n  changeTabView(id, view) {\n    const tab = this._tabsById.get(id);\n    if (!tab || tab.view === view) {\n      return;\n    }\n\n    this.suspendInvalidations();\n    const isSelected = this._currentTab && this._currentTab.id === id;\n    const shouldFocus = tab.view.hasFocus();\n    if (isSelected) {\n      this._hideTab(tab);\n    }\n    tab.view = view;\n    if (isSelected) {\n      this._showTab(tab);\n    }\n    if (shouldFocus) {\n      tab.view.focus();\n    }\n    this.resumeInvalidations();\n  }\n\n  /**\n   * @override\n   */\n  onResize() {\n    if (this._currentDevicePixelRatio !== window.devicePixelRatio) {\n      // Force recalculation of all tab widths on a DPI change\n      this._clearMeasuredWidths();\n      this._currentDevicePixelRatio = window.devicePixelRatio;\n    }\n    this._updateTabElements();\n  }\n\n  headerResized() {\n    this._updateTabElements();\n  }\n\n  /**\n   * @override\n   */\n  wasShown() {\n    const effectiveTab = this._currentTab || this._tabsHistory[0];\n    if (effectiveTab && this._autoSelectFirstItemOnShow) {\n      this.selectTab(effectiveTab.id);\n    }\n  }\n\n  makeTabSlider() {\n    if (this._verticalTabLayout) {\n      return;\n    }\n    this._setTabSlider(true);\n  }\n\n  /**\n   * @param {boolean} enable\n   */\n  _setTabSlider(enable) {\n    this._sliderEnabled = enable;\n    this._tabSlider.classList.toggle('enabled', enable);\n  }\n\n  /**\n   * @override\n   * @return {!Constraints}\n   */\n  calculateConstraints() {\n    let constraints = super.calculateConstraints();\n    const minContentConstraints = new Constraints(new Size(0, 0), new Size(50, 50));\n    constraints = constraints.widthToMax(minContentConstraints).heightToMax(minContentConstraints);\n    if (this._verticalTabLayout) {\n      constraints = constraints.addWidth(new Constraints(new Size(120, 0)));\n    } else {\n      constraints = constraints.addHeight(new Constraints(new Size(0, 30)));\n    }\n    return constraints;\n  }\n\n  _updateTabElements() {\n    invokeOnceAfterBatchUpdate(this, this._innerUpdateTabElements);\n  }\n\n  /**\n   * @param {!Element} element\n   * @param {!Element=} focusedElement\n   */\n  setPlaceholderElement(element, focusedElement) {\n    this._placeholderElement = element;\n    if (focusedElement) {\n      this._focusedPlaceholderElement = focusedElement;\n    }\n    if (this._placeholderContainerElement) {\n      this._placeholderContainerElement.removeChildren();\n      this._placeholderContainerElement.appendChild(element);\n    }\n  }\n\n  async waitForTabElementUpdate() {\n    this._innerUpdateTabElements();\n  }\n\n  _innerUpdateTabElements() {\n    if (!this.isShowing()) {\n      return;\n    }\n\n    if (!this._tabs.length) {\n      this._contentElement.classList.add('has-no-tabs');\n      if (this._placeholderElement && !this._placeholderContainerElement) {\n        this._placeholderContainerElement = this._contentElement.createChild('div', 'tabbed-pane-placeholder fill');\n        this._placeholderContainerElement.appendChild(this._placeholderElement);\n        if (this._focusedPlaceholderElement) {\n          this.setDefaultFocusedElement(this._focusedPlaceholderElement);\n        }\n      }\n    } else {\n      this._contentElement.classList.remove('has-no-tabs');\n      if (this._placeholderContainerElement) {\n        this._placeholderContainerElement.remove();\n        this.setDefaultFocusedElement(this.contentElement);\n        delete this._placeholderContainerElement;\n      }\n    }\n\n    this._measureDropDownButton();\n    this._updateWidths();\n    this._updateTabsDropDown();\n    this._updateTabSlider();\n  }\n\n  /**\n   * @param {number} index\n   * @param {!TabbedPaneTab} tab\n   */\n  _showTabElement(index, tab) {\n    if (index >= this._tabsElement.children.length) {\n      this._tabsElement.appendChild(tab.tabElement);\n    } else {\n      this._tabsElement.insertBefore(tab.tabElement, this._tabsElement.children[index]);\n    }\n    tab._shown = true;\n  }\n\n  /**\n   * @param {!TabbedPaneTab} tab\n   */\n  _hideTabElement(tab) {\n    this._tabsElement.removeChild(tab.tabElement);\n    tab._shown = false;\n  }\n\n  _createDropDownButton() {\n    const dropDownContainer = document.createElement('div');\n    dropDownContainer.classList.add('tabbed-pane-header-tabs-drop-down-container');\n    const chevronIcon = Icon.create('largeicon-chevron', 'chevron-icon');\n    ARIAUtils.markAsMenuButton(dropDownContainer);\n    ARIAUtils.setAccessibleName(dropDownContainer, ls`More tabs`);\n    dropDownContainer.tabIndex = 0;\n    dropDownContainer.appendChild(chevronIcon);\n    dropDownContainer.addEventListener('click', this._dropDownClicked.bind(this));\n    dropDownContainer.addEventListener('keydown', this._dropDownKeydown.bind(this));\n    dropDownContainer.addEventListener('mousedown', event => {\n      if (event.which !== 1 || this._triggerDropDownTimeout) {\n        return;\n      }\n      this._triggerDropDownTimeout = setTimeout(this._dropDownClicked.bind(this, event), 200);\n    });\n    return dropDownContainer;\n  }\n\n  /**\n   * @param {!Event} ev\n   */\n  _dropDownClicked(ev) {\n    const event = /** @type {!MouseEvent} */ (ev);\n    if (event.which !== 1) {\n      return;\n    }\n    if (this._triggerDropDownTimeout) {\n      clearTimeout(this._triggerDropDownTimeout);\n      this._triggerDropDownTimeout = null;\n    }\n    const rect = this._dropDownButton.getBoundingClientRect();\n    const menu = new ContextMenu(event, false, rect.left, rect.bottom);\n    for (const tab of this._tabs) {\n      if (tab._shown) {\n        continue;\n      }\n      if (this._numberOfTabsShown() === 0 && this._tabsHistory[0] === tab) {\n        menu.defaultSection().appendCheckboxItem(\n            tab.title, this._dropDownMenuItemSelected.bind(this, tab), /* checked */ true);\n      } else {\n        menu.defaultSection().appendItem(tab.title, this._dropDownMenuItemSelected.bind(this, tab));\n      }\n    }\n    menu.show();\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _dropDownKeydown(event) {\n    if (isEnterOrSpaceKey(event)) {\n      this._dropDownButton.click();\n      event.consume(true);\n    }\n  }\n\n  /**\n   * @param {!TabbedPaneTab} tab\n   */\n  _dropDownMenuItemSelected(tab) {\n    this._lastSelectedOverflowTab = tab;\n    this.selectTab(tab.id, true, true);\n  }\n\n  _totalWidth() {\n    return this._headerContentsElement.getBoundingClientRect().width;\n  }\n\n  /**\n   * @return {number}\n   */\n  _numberOfTabsShown() {\n    let numTabsShown = 0;\n    for (const tab of this._tabs) {\n      if (tab._shown) {\n        numTabsShown++;\n      }\n    }\n    return numTabsShown;\n  }\n\n  disableOverflowMenu() {\n    this._overflowDisabled = true;\n  }\n\n  _updateTabsDropDown() {\n    const tabsToShowIndexes = this._tabsToShowIndexes(\n        this._tabs, this._tabsHistory, this._totalWidth(), this._measuredDropDownButtonWidth || 0);\n    if (this._lastSelectedOverflowTab && this._numberOfTabsShown() !== tabsToShowIndexes.length) {\n      delete this._lastSelectedOverflowTab;\n      this._updateTabsDropDown();\n      return;\n    }\n\n    for (let i = 0; i < this._tabs.length; ++i) {\n      if (this._tabs[i]._shown && tabsToShowIndexes.indexOf(i) === -1) {\n        this._hideTabElement(this._tabs[i]);\n      }\n    }\n    for (let i = 0; i < tabsToShowIndexes.length; ++i) {\n      const tab = this._tabs[tabsToShowIndexes[i]];\n      if (!tab._shown) {\n        this._showTabElement(i, tab);\n      }\n    }\n\n    if (!this._overflowDisabled) {\n      this._maybeShowDropDown(tabsToShowIndexes.length !== this._tabs.length);\n    }\n  }\n\n  /**\n   * @param {boolean} hasMoreTabs\n   */\n  _maybeShowDropDown(hasMoreTabs) {\n    if (hasMoreTabs && !this._dropDownButton.parentElement) {\n      this._headerContentsElement.appendChild(this._dropDownButton);\n    } else if (!hasMoreTabs && this._dropDownButton.parentElement) {\n      this._headerContentsElement.removeChild(this._dropDownButton);\n    }\n  }\n\n  _measureDropDownButton() {\n    if (this._overflowDisabled || this._measuredDropDownButtonWidth) {\n      return;\n    }\n    this._dropDownButton.classList.add('measuring');\n    this._headerContentsElement.appendChild(this._dropDownButton);\n    this._measuredDropDownButtonWidth = this._dropDownButton.getBoundingClientRect().width;\n    this._headerContentsElement.removeChild(this._dropDownButton);\n    this._dropDownButton.classList.remove('measuring');\n  }\n\n  _updateWidths() {\n    const measuredWidths = this._measureWidths();\n    const maxWidth =\n        this._shrinkableTabs ? this._calculateMaxWidth(measuredWidths.slice(), this._totalWidth()) : Number.MAX_VALUE;\n\n    let i = 0;\n    for (const tab of this._tabs) {\n      tab.setWidth(this._verticalTabLayout ? -1 : Math.min(maxWidth, measuredWidths[i++]));\n    }\n  }\n\n  _measureWidths() {\n    // Add all elements to measure into this._tabsElement\n    this._tabsElement.style.setProperty('width', '2000px');\n    /** @type {!Map<!HTMLElement, !TabbedPaneTab>} */\n    const measuringTabElements = new Map();\n    for (const tab of this._tabs) {\n      if (typeof tab._measuredWidth === 'number') {\n        continue;\n      }\n      const measuringTabElement = tab._createTabElement(true);\n      measuringTabElements.set(measuringTabElement, tab);\n      this._tabsElement.appendChild(measuringTabElement);\n    }\n\n    // Perform measurement\n    for (const [measuringTabElement, tab] of measuringTabElements) {\n      const width = measuringTabElement.getBoundingClientRect().width;\n      tab._measuredWidth = Math.ceil(width);\n    }\n\n    // Nuke elements from the UI\n    for (const measuringTabElement of measuringTabElements.keys()) {\n      measuringTabElement.remove();\n    }\n\n    // Combine the results.\n    const measuredWidths = [];\n    for (const tab of this._tabs) {\n      measuredWidths.push(tab._measuredWidth || 0);\n    }\n    this._tabsElement.style.removeProperty('width');\n\n    return measuredWidths;\n  }\n\n  /**\n   * @param {!Array.<number>} measuredWidths\n   * @param {number} totalWidth\n   */\n  _calculateMaxWidth(measuredWidths, totalWidth) {\n    if (!measuredWidths.length) {\n      return 0;\n    }\n\n    measuredWidths.sort(function(x, y) {\n      return x - y;\n    });\n\n    let totalMeasuredWidth = 0;\n    for (let i = 0; i < measuredWidths.length; ++i) {\n      totalMeasuredWidth += measuredWidths[i];\n    }\n\n    if (totalWidth >= totalMeasuredWidth) {\n      return measuredWidths[measuredWidths.length - 1];\n    }\n\n    let totalExtraWidth = 0;\n    for (let i = measuredWidths.length - 1; i > 0; --i) {\n      const extraWidth = measuredWidths[i] - measuredWidths[i - 1];\n      totalExtraWidth += (measuredWidths.length - i) * extraWidth;\n\n      if (totalWidth + totalExtraWidth >= totalMeasuredWidth) {\n        return measuredWidths[i - 1] +\n            (totalWidth + totalExtraWidth - totalMeasuredWidth) / (measuredWidths.length - i);\n      }\n    }\n\n    return totalWidth / measuredWidths.length;\n  }\n\n  /**\n   * @param {!Array.<!TabbedPaneTab>} tabsOrdered\n   * @param {!Array.<!TabbedPaneTab>} tabsHistory\n   * @param {number} totalWidth\n   * @param {number} measuredDropDownButtonWidth\n   * @return {!Array.<number>}\n   */\n  _tabsToShowIndexes(tabsOrdered, tabsHistory, totalWidth, measuredDropDownButtonWidth) {\n    const tabsToShowIndexes = [];\n\n    let totalTabsWidth = 0;\n    const tabCount = tabsOrdered.length;\n    const tabsToLookAt = tabsOrdered.slice(0);\n    if (this._currentTab !== undefined) {\n      tabsToLookAt.unshift(tabsToLookAt.splice(tabsToLookAt.indexOf(this._currentTab), 1)[0]);\n    }\n    if (this._lastSelectedOverflowTab !== undefined) {\n      tabsToLookAt.unshift(tabsToLookAt.splice(tabsToLookAt.indexOf(this._lastSelectedOverflowTab), 1)[0]);\n    }\n    for (let i = 0; i < tabCount; ++i) {\n      const tab = this._automaticReorder ? tabsHistory[i] : tabsToLookAt[i];\n      totalTabsWidth += tab.width();\n      let minimalRequiredWidth = totalTabsWidth;\n      if (i !== tabCount - 1) {\n        minimalRequiredWidth += measuredDropDownButtonWidth;\n      }\n      if (!this._verticalTabLayout && minimalRequiredWidth > totalWidth) {\n        break;\n      }\n      tabsToShowIndexes.push(tabsOrdered.indexOf(tab));\n    }\n\n    tabsToShowIndexes.sort(function(x, y) {\n      return x - y;\n    });\n\n    return tabsToShowIndexes;\n  }\n\n  _hideCurrentTab() {\n    if (!this._currentTab) {\n      return;\n    }\n\n    this._hideTab(this._currentTab);\n    delete this._currentTab;\n  }\n\n  /**\n   * @param {!TabbedPaneTab} tab\n   */\n  _showTab(tab) {\n    tab.tabElement.tabIndex = 0;\n    tab.tabElement.classList.add('selected');\n    ARIAUtils.setSelected(tab.tabElement, true);\n    tab.view.show(this.element);\n    this._updateTabSlider();\n  }\n\n  _updateTabSlider() {\n    if (!this._sliderEnabled) {\n      return;\n    }\n    if (!this._currentTab) {\n      this._tabSlider.style.width = '0';\n      return;\n    }\n    let left = 0;\n    for (let i = 0; i < this._tabs.length && this._currentTab !== this._tabs[i]; i++) {\n      if (this._tabs[i]._shown) {\n        left += this._tabs[i]._measuredWidth || 0;\n      }\n    }\n    const sliderWidth = this._currentTab._shown ? this._currentTab._measuredWidth : this._dropDownButton.offsetWidth;\n    const scaleFactor = window.devicePixelRatio >= 1.5 ? ' scaleY(0.75)' : '';\n    this._tabSlider.style.transform = 'translateX(' + left + 'px)' + scaleFactor;\n    this._tabSlider.style.width = sliderWidth + 'px';\n\n    if (this._tabSlider.parentElement !== this._headerContentsElement) {\n      this._headerContentsElement.appendChild(this._tabSlider);\n    }\n  }\n\n  /**\n   * @param {!TabbedPaneTab} tab\n   */\n  _hideTab(tab) {\n    tab.tabElement.removeAttribute('tabIndex');\n    tab.tabElement.classList.remove('selected');\n    tab.tabElement.setAttribute('aria-selected', 'false');\n    tab.view.detach();\n  }\n\n  /**\n   * @override\n   * @return {!Array.<!Element>}\n   */\n  elementsToRestoreScrollPositionsFor() {\n    return [this._contentElement];\n  }\n\n  /**\n   * @param {!TabbedPaneTab} tab\n   * @param {number} index\n   */\n  _insertBefore(tab, index) {\n    this._tabsElement.insertBefore(tab.tabElement, this._tabsElement.childNodes[index]);\n    const oldIndex = this._tabs.indexOf(tab);\n    this._tabs.splice(oldIndex, 1);\n    if (oldIndex < index) {\n      --index;\n    }\n    this._tabs.splice(index, 0, tab);\n\n    /** @type {!EventData} */\n    const eventData = {prevTabId: undefined, tabId: tab.id, view: tab.view, isUserGesture: undefined};\n    this.dispatchEventToListeners(Events.TabOrderChanged, eventData);\n  }\n\n  /**\n   * @return {!Toolbar}\n   */\n  leftToolbar() {\n    if (!this._leftToolbar) {\n      this._leftToolbar = new Toolbar('tabbed-pane-left-toolbar');\n      this._headerElement.insertBefore(this._leftToolbar.element, this._headerElement.firstChild);\n    }\n    return this._leftToolbar;\n  }\n\n  /**\n   * @return {!Toolbar}\n   */\n  rightToolbar() {\n    if (!this._rightToolbar) {\n      this._rightToolbar = new Toolbar('tabbed-pane-right-toolbar');\n      this._headerElement.appendChild(this._rightToolbar.element);\n    }\n    return this._rightToolbar;\n  }\n\n  /**\n   * @param {boolean} allow\n   * @param {boolean=} automatic\n   */\n  setAllowTabReorder(allow, automatic) {\n    this._allowTabReorder = allow;\n    this._automaticReorder = automatic;\n  }\n\n  /**\n   * @param {!Event} ev\n   */\n  _keyDown(ev) {\n    if (!this._currentTab) {\n      return;\n    }\n    const event = /** @type {!KeyboardEvent} */ (ev);\n    /** @type {?Element} */\n    let nextTabElement = null;\n    switch (event.key) {\n      case 'ArrowUp':\n      case 'ArrowLeft':\n        nextTabElement = this._currentTab.tabElement.previousElementSibling;\n        if (!nextTabElement && !this._dropDownButton.parentElement) {\n          nextTabElement = this._currentTab.tabElement.parentElement ?\n              this._currentTab.tabElement.parentElement.lastElementChild :\n              null;\n        }\n        break;\n      case 'ArrowDown':\n      case 'ArrowRight':\n        nextTabElement = this._currentTab.tabElement.nextElementSibling;\n        if (!nextTabElement && !this._dropDownButton.parentElement) {\n          nextTabElement = this._currentTab.tabElement.parentElement ?\n              this._currentTab.tabElement.parentElement.firstElementChild :\n              null;\n        }\n        break;\n      case 'Enter':\n      case ' ':\n        this._currentTab.view.focus();\n        return;\n      default:\n        return;\n    }\n    if (!nextTabElement) {\n      this._dropDownButton.click();\n      return;\n    }\n    const tab = this._tabs.find(tab => tab.tabElement === nextTabElement);\n    if (tab) {\n      this.selectTab(tab.id, true);\n    }\n    /** @type {!HTMLElement} */ (nextTabElement).focus();\n  }\n}\n\n/** @typedef {{\n *    prevTabId: (string|undefined),\n *    tabId: string,\n *    view: (!Widget|undefined),\n *    isUserGesture: (boolean|undefined)\n * }}\n */\n// @ts-ignore typedef\nexport let EventData;\n\n/** @enum {symbol} */\nexport const Events = {\n  TabInvoked: Symbol('TabInvoked'),\n  TabSelected: Symbol('TabSelected'),\n  TabClosed: Symbol('TabClosed'),\n  TabOrderChanged: Symbol('TabOrderChanged')\n};\n\nexport class TabbedPaneTab {\n  /**\n   * @param {!TabbedPane} tabbedPane\n   * @param {string} id\n   * @param {string} title\n   * @param {boolean} closeable\n   * @param {!Widget} view\n   * @param {string=} tooltip\n   */\n  constructor(tabbedPane, id, title, closeable, view, tooltip) {\n    this._closeable = closeable;\n    this._tabbedPane = tabbedPane;\n    this._id = id;\n    /** @type {string} */\n    this._title = title;\n    this._tooltip = tooltip;\n    this._view = view;\n    this._shown = false;\n    /** @type {number|undefined} */\n    this._measuredWidth;\n    /** @type {!HTMLElement|undefined} */\n    this._tabElement;\n    /** @type {?Element} */\n    this._iconContainer = null;\n  }\n\n  /**\n   * @return {string}\n   */\n  get id() {\n    return this._id;\n  }\n\n  /**\n   * @return {string}\n   */\n  get title() {\n    return this._title;\n  }\n\n  /**\n   * @param {string} title\n   */\n  set title(title) {\n    if (title === this._title) {\n      return;\n    }\n    this._title = title;\n    if (this._titleElement) {\n      this._titleElement.textContent = title;\n    }\n    delete this._measuredWidth;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCloseable() {\n    return this._closeable;\n  }\n\n  /**\n   * @param {?Icon} icon\n   */\n  _setIcon(icon) {\n    this._icon = icon;\n    if (this._tabElement && this._titleElement) {\n      this._createIconElement(this._tabElement, this._titleElement, false);\n    }\n    delete this._measuredWidth;\n  }\n\n  /**\n   * @param {string} className\n   * @param {boolean=} force\n   * @return {boolean}\n   */\n  _toggleClass(className, force) {\n    const element = this.tabElement;\n    const hasClass = element.classList.contains(className);\n    if (hasClass === force) {\n      return false;\n    }\n    element.classList.toggle(className, force);\n    delete this._measuredWidth;\n    return true;\n  }\n\n  /**\n   * @return {!Widget}\n   */\n  get view() {\n    return this._view;\n  }\n\n  /**\n   * @param {!Widget} view\n   */\n  set view(view) {\n    this._view = view;\n  }\n\n  /**\n   * @return {string|undefined}\n   */\n  get tooltip() {\n    return this._tooltip;\n  }\n\n  /**\n   * @param {string|undefined} tooltip\n   */\n  set tooltip(tooltip) {\n    this._tooltip = tooltip;\n    if (this._titleElement) {\n      Tooltip.install(this._titleElement, tooltip || '');\n    }\n  }\n\n  /**\n   * @return {!HTMLElement}\n   */\n  get tabElement() {\n    if (!this._tabElement) {\n      this._tabElement = this._createTabElement(false);\n    }\n\n    return this._tabElement;\n  }\n\n  /**\n   * @return {number}\n   */\n  width() {\n    return this._width || 0;\n  }\n\n  /**\n   * @param {number} width\n   */\n  setWidth(width) {\n    this.tabElement.style.width = width === -1 ? '' : (width + 'px');\n    this._width = width;\n  }\n\n  /**\n   * @param {!TabbedPaneTabDelegate} delegate\n   */\n  setDelegate(delegate) {\n    this._delegate = delegate;\n  }\n\n  /**\n   * @param {!Element} tabElement\n   * @param {!Element} titleElement\n   * @param {boolean} measuring\n   */\n  _createIconElement(tabElement, titleElement, measuring) {\n    const iconElement = tabIcons.get(tabElement);\n    if (iconElement) {\n      iconElement.remove();\n      tabIcons.delete(tabElement);\n    }\n    if (!this._icon) {\n      return;\n    }\n\n    const iconContainer = document.createElement('span');\n    iconContainer.classList.add('tabbed-pane-header-tab-icon');\n    const iconNode = measuring ? this._icon.cloneNode(true) : this._icon;\n    iconContainer.appendChild(iconNode);\n    tabElement.insertBefore(iconContainer, titleElement);\n    tabIcons.set(tabElement, iconContainer);\n  }\n\n  /**\n   * @param {boolean} measuring\n   * @return {!HTMLElement}\n   */\n  _createTabElement(measuring) {\n    const tabElement = document.createElement('div');\n    tabElement.classList.add('tabbed-pane-header-tab');\n    tabElement.id = 'tab-' + this._id;\n    ARIAUtils.markAsTab(tabElement);\n    ARIAUtils.setSelected(tabElement, false);\n    ARIAUtils.setAccessibleName(tabElement, this.title);\n\n    const titleElement = tabElement.createChild('span', 'tabbed-pane-header-tab-title');\n    titleElement.textContent = this.title;\n    Tooltip.install(titleElement, this.tooltip || '');\n    this._createIconElement(tabElement, titleElement, measuring);\n    if (!measuring) {\n      this._titleElement = titleElement;\n    }\n\n    if (this._closeable) {\n      const closeButton = tabElement.createChild('div', 'tabbed-pane-close-button', 'dt-close-button');\n      // @ts-ignore dt-close-button custom element has a `gray` attribute.\n      closeButton.gray = true;\n      // @ts-ignore dt-close-button custom element has its own custom `setAccessibleName`.\n      closeButton.setAccessibleName(ls`Close ${this.title}`);\n      tabElement.classList.add('closeable');\n    }\n\n    if (measuring) {\n      tabElement.classList.add('measuring');\n    } else {\n      tabElement.addEventListener('click', this._tabClicked.bind(this), false);\n      tabElement.addEventListener('auxclick', this._tabClicked.bind(this), false);\n      tabElement.addEventListener('mousedown', this._tabMouseDown.bind(this), false);\n      tabElement.addEventListener('mouseup', this._tabMouseUp.bind(this), false);\n\n      tabElement.addEventListener('contextmenu', this._tabContextMenu.bind(this), false);\n      if (this._tabbedPane._allowTabReorder) {\n        installDragHandle(\n            tabElement, this._startTabDragging.bind(this), this._tabDragging.bind(this),\n            this._endTabDragging.bind(this), '-webkit-grabbing', 'pointer', 200);\n      }\n    }\n\n    return /** @type {!HTMLElement} */ (tabElement);\n  }\n\n  /**\n   * @param {!Event} ev\n   */\n  _tabClicked(ev) {\n    const event = /** @type {!MouseEvent} */ (ev);\n    const middleButton = event.button === 1;\n    const shouldClose = this._closeable &&\n        (middleButton || /** @type {!HTMLElement} */ (event.target).classList.contains('tabbed-pane-close-button'));\n    if (!shouldClose) {\n      this._tabbedPane.focus();\n      return;\n    }\n    this._closeTabs([this.id]);\n    event.consume(true);\n  }\n\n  /**\n   * @param {!Event} ev\n   */\n  _tabMouseDown(ev) {\n    const event = /** @type {!MouseEvent} */ (ev);\n    if (/** @type {!HTMLElement} */ (event.target).classList.contains('tabbed-pane-close-button') ||\n        event.button === 1) {\n      return;\n    }\n    this._tabbedPane.selectTab(this.id, true);\n  }\n\n  /**\n   * @param {!Event} ev\n   */\n  _tabMouseUp(ev) {\n    const event = /** @type {!MouseEvent} */ (ev);\n    // This is needed to prevent middle-click pasting on linux when tabs are clicked.\n    if (event.button === 1) {\n      event.consume(true);\n    }\n  }\n\n  /**\n   * @param {!Array.<string>} ids\n   */\n  _closeTabs(ids) {\n    if (this._delegate) {\n      this._delegate.closeTabs(this._tabbedPane, ids);\n      return;\n    }\n    this._tabbedPane.closeTabs(ids, true);\n  }\n\n  /** @param {!Event} event */\n  _tabContextMenu(event) {\n    /**\n     * @this {TabbedPaneTab}\n     */\n    function close() {\n      this._closeTabs([this.id]);\n    }\n\n    /**\n     * @this {TabbedPaneTab}\n     */\n    function closeOthers() {\n      this._closeTabs(this._tabbedPane.otherTabs(this.id));\n    }\n\n    /**\n     * @this {TabbedPaneTab}\n     */\n    function closeAll() {\n      this._closeTabs(this._tabbedPane.tabIds());\n    }\n\n    /**\n     * @this {TabbedPaneTab}\n     */\n    function closeToTheRight() {\n      this._closeTabs(this._tabbedPane._tabsToTheRight(this.id));\n    }\n\n    const contextMenu = new ContextMenu(event);\n    if (this._closeable) {\n      contextMenu.defaultSection().appendItem(Common.UIString.UIString('Close'), close.bind(this));\n      contextMenu.defaultSection().appendItem(Common.UIString.UIString('Close others'), closeOthers.bind(this));\n      contextMenu.defaultSection().appendItem(\n          Common.UIString.UIString('Close tabs to the right'), closeToTheRight.bind(this));\n      contextMenu.defaultSection().appendItem(Common.UIString.UIString('Close all'), closeAll.bind(this));\n    }\n    if (this._delegate) {\n      this._delegate.onContextMenu(this.id, contextMenu);\n    }\n    contextMenu.show();\n  }\n\n  /**\n   * @param {!Event} ev\n   * @return {boolean}\n   */\n  _startTabDragging(ev) {\n    const event = /** @type {!MouseEvent} */ (ev);\n    if (/** @type {!HTMLElement} */ (event.target).classList.contains('tabbed-pane-close-button')) {\n      return false;\n    }\n    this._dragStartX = event.pageX;\n    if (this._tabElement) {\n      this._tabElement.classList.add('dragging');\n    }\n    this._tabbedPane._tabSlider.remove();\n    return true;\n  }\n\n  /**\n   * @param {!Event} ev\n   */\n  _tabDragging(ev) {\n    const event = /** @type {!MouseEvent} */ (ev);\n    const tabElements = this._tabbedPane._tabsElement.childNodes;\n    for (let i = 0; i < tabElements.length; ++i) {\n      let tabElement = /** @type {!HTMLElement} */ (tabElements[i]);\n      if (!this._tabElement || tabElement === this._tabElement) {\n        continue;\n      }\n\n      const intersects = tabElement.offsetLeft + tabElement.clientWidth > this._tabElement.offsetLeft &&\n          this._tabElement.offsetLeft + this._tabElement.clientWidth > tabElement.offsetLeft;\n      if (!intersects) {\n        continue;\n      }\n\n      const dragStartX = /** @type {number} */ (this._dragStartX);\n      if (Math.abs(event.pageX - dragStartX) < tabElement.clientWidth / 2 + 5) {\n        break;\n      }\n\n      if (event.pageX - dragStartX > 0) {\n        tabElement = /** @type {!HTMLElement} */ (tabElement.nextSibling);\n        ++i;\n      }\n\n      const oldOffsetLeft = this._tabElement.offsetLeft;\n      this._tabbedPane._insertBefore(this, i);\n      this._dragStartX = dragStartX + this._tabElement.offsetLeft - oldOffsetLeft;\n      break;\n    }\n\n    const dragStartX = /** @type {number} */ (this._dragStartX);\n    const tabElement = /** @type {!HTMLElement} */ (this._tabElement);\n    if (!tabElement.previousSibling && event.pageX - dragStartX < 0) {\n      tabElement.style.setProperty('left', '0px');\n      return;\n    }\n    if (!tabElement.nextSibling && event.pageX - dragStartX > 0) {\n      tabElement.style.setProperty('left', '0px');\n      return;\n    }\n\n    tabElement.style.setProperty('left', (event.pageX - dragStartX) + 'px');\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _endTabDragging(event) {\n    const tabElement = /** @type {!HTMLElement} */ (this._tabElement);\n    tabElement.classList.remove('dragging');\n    tabElement.style.removeProperty('left');\n    delete this._dragStartX;\n    this._tabbedPane._updateTabSlider();\n  }\n}\n\n/** @type {!WeakMap<!Element, !Element>} */\nconst tabIcons = new WeakMap();\n\n/**\n * @interface\n */\nexport class TabbedPaneTabDelegate {\n  /**\n   * @param {!TabbedPane} tabbedPane\n   * @param {!Array.<string>} ids\n   */\n  closeTabs(tabbedPane, ids) {\n  }\n\n  /**\n   * @param {string} tabId\n   * @param {!ContextMenu} contextMenu\n   */\n  onContextMenu(tabId, contextMenu) {}\n}\n"]}