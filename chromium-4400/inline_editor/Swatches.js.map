{"version":3,"file":"Swatches.js","sourceRoot":"","sources":["../../../../../front_end/inline_editor/Swatches.js"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) 2015 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../common/common.js';\nimport * as TextUtils from '../text_utils/text_utils.js';\nimport * as UI from '../ui/ui.js';\n\nimport {ColorSwatch} from './ColorSwatch.js';\nimport {CSSShadowModel} from './CSSShadowModel.js';  // eslint-disable-line no-unused-vars\n\nexport class BezierSwatch extends HTMLSpanElement {\n  constructor() {\n    super();\n    const root = UI.Utils.createShadowRootWithCoreStyles(\n        this, {cssFile: 'inline_editor/bezierSwatch.css', enableLegacyPatching: true, delegatesFocus: undefined});\n    this._iconElement = UI.Icon.Icon.create('smallicon-bezier', 'bezier-swatch-icon');\n    root.appendChild(this._iconElement);\n    this._textElement = this.createChild('span');\n    root.createChild('slot');\n  }\n\n  /**\n   * @return {!BezierSwatch}\n   */\n  static create() {\n    let constructor = BezierSwatch._constructor;\n    if (!constructor) {\n      constructor = UI.Utils.registerCustomElement('span', 'bezier-swatch', BezierSwatch);\n      BezierSwatch._constructor = constructor;\n    }\n\n    return /** @type {!BezierSwatch} */ (constructor());\n  }\n\n  /**\n   * @return {string}\n   */\n  bezierText() {\n    return this._textElement.textContent || '';\n  }\n\n  /**\n   * @param {string} text\n   */\n  setBezierText(text) {\n    this._textElement.textContent = text;\n  }\n\n  /**\n   * @param {boolean} hide\n   */\n  hideText(hide) {\n    this._textElement.hidden = hide;\n  }\n\n  /**\n   * @return {!HTMLSpanElement}\n   */\n  iconElement() {\n    return this._iconElement;\n  }\n}\n\n/** @type {?function():!Element} */\nBezierSwatch._constructor = null;\n\nexport class CSSShadowSwatch extends HTMLSpanElement {\n  constructor() {\n    super();\n    const root = UI.Utils.createShadowRootWithCoreStyles(\n        this, {cssFile: 'inline_editor/cssShadowSwatch.css', enableLegacyPatching: true, delegatesFocus: undefined});\n    this._iconElement = UI.Icon.Icon.create('smallicon-shadow', 'shadow-swatch-icon');\n    root.appendChild(this._iconElement);\n    root.createChild('slot');\n    this._contentElement = this.createChild('span');\n\n    /** @type {?ColorSwatch} */\n    this._colorSwatch;\n  }\n\n  /**\n   * @return {!CSSShadowSwatch}\n   */\n  static create() {\n    let constructor = CSSShadowSwatch._constructor;\n    if (!constructor) {\n      constructor = UI.Utils.registerCustomElement('span', 'css-shadow-swatch', CSSShadowSwatch);\n      CSSShadowSwatch._constructor = constructor;\n    }\n\n    return /** @type {!CSSShadowSwatch} */ (constructor());\n  }\n\n  /**\n   * @return {!CSSShadowModel}\n   */\n  model() {\n    return /** @type {!CSSShadowModel} */ (this._model);\n  }\n\n  /**\n   * @param {!CSSShadowModel} model\n   */\n  setCSSShadow(model) {\n    this._model = model;\n    this._contentElement.removeChildren();\n    const results = TextUtils.TextUtils.Utils.splitStringByRegexes(\n        model.asCSSText(), [/!important/g, /inset/g, Common.Color.Regex]);\n    for (let i = 0; i < results.length; i++) {\n      const result = results[i];\n      if (result.regexIndex === 2) {\n        if (!this._colorSwatch) {\n          this._colorSwatch = new ColorSwatch();\n          const value = this._colorSwatch.createChild('span');\n          this._colorSwatch.addEventListener('format-changed', /** @param {!Event} event */ event => {\n            value.textContent = /** @type {*} */ (event).data.text;\n          });\n        }\n\n        this._colorSwatch.renderColor(model.color());\n        const value = this._colorSwatch.querySelector('span');\n        if (value) {\n          value.textContent = model.color().asString();\n        }\n        this._contentElement.appendChild(this._colorSwatch);\n      } else {\n        this._contentElement.appendChild(document.createTextNode(result.value));\n      }\n    }\n  }\n\n  /**\n   * @param {boolean} hide\n   */\n  hideText(hide) {\n    this._contentElement.hidden = hide;\n  }\n\n  /**\n   * @return {!HTMLSpanElement}\n   */\n  iconElement() {\n    return this._iconElement;\n  }\n\n  /**\n   * @return {?ColorSwatch}\n   */\n  colorSwatch() {\n    return this._colorSwatch;\n  }\n}\n\n/** @type {?function():!Element} */\nCSSShadowSwatch._constructor = null;\n"]}