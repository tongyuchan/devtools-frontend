{"version":3,"file":"AffectedSharedArrayBufferTransferDetailsView.js","sourceRoot":"","sources":["../../../../../front_end/issues/AffectedSharedArrayBufferTransferDetailsView.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,EAAC,EAAE,EAAC,MAAM,yBAAyB,CAAC;AAG3C,OAAO,EAAC,qBAAqB,EAAC,MAAM,4BAA4B,CAAC;AAIjE,MAAM,OAAO,4CAA6C,SAAQ,qBAAqB;IAGrF,YAAY,UAAqB,EAAE,KAAsB;QACvD,KAAK,CAAC,UAAU,EAAE,EAAC,QAAQ,EAAE,EAAE,CAAA,WAAW,EAAE,MAAM,EAAE,EAAE,CAAA,YAAY,EAAC,CAAC,CAAC;QACrE,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACrB,CAAC;IAEO,YAAY,CAAC,OAAoB,EAAE,SAAkB;QAC3D,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC5C,IAAI,SAAS,EAAE;YACb,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAC;YAC7D,MAAM,CAAC,WAAW,GAAG,EAAE,CAAA,SAAS,CAAC;SAClC;aAAM;YACL,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,kCAAkC,CAAC,CAAC;YACzD,MAAM,CAAC,WAAW,GAAG,EAAE,CAAA,SAAS,CAAC;SAClC;QACD,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IAC9B,CAAC;IAEO,aAAa,CAAC,SAAsF;QAC1G,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC5C,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,EAAE,CAAA,iBAAiB,CAAC,CAAC;QACpD,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,EAAE,CAAA,QAAQ,CAAC,CAAC;QAE3C,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAC3C,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE;YAChC,KAAK,EAAE,CAAC;YACR,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;SAC7B;QACD,IAAI,CAAC,2BAA2B,CAAC,KAAK,CAAC,CAAC;IAC1C,CAAC;IAEO,YAAY,CAAC,QAA2E;QAC9F,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC7C,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;QAErD,MAAM,eAAe,GAAG,QAAQ,CAAC,OAAO,EAAE,CAAC;QAC3C,IAAI,CAAC,oBAAoB,CAAC,OAAO,EAAE,eAAe,CAAC,kBAAkB,CAAC,CAAC;QACvE,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,eAAe,CAAC,SAAS,CAAC,CAAC;QAEtD,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;IAC9C,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,gCAAgC,EAAE,CAAC,CAAC;IACpE,CAAC;CACF","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {ls} from '../platform/platform.js';\nimport * as SDK from '../sdk/sdk.js';\n\nimport {AffectedResourcesView} from './AffectedResourcesView.js';\nimport {AggregatedIssue} from './IssueAggregator.js';\nimport {IssueView} from './IssuesPane.js';\n\nexport class AffectedSharedArrayBufferTransferDetailsView extends AffectedResourcesView {\n  private issue: AggregatedIssue;\n\n  constructor(parentView: IssueView, issue: AggregatedIssue) {\n    super(parentView, {singular: ls`directive`, plural: ls`directives`});\n    this.issue = issue;\n  }\n\n  private appendStatus(element: HTMLElement, isWarning: boolean): void {\n    const status = document.createElement('td');\n    if (isWarning) {\n      status.classList.add('affected-resource-report-only-status');\n      status.textContent = ls`warning`;\n    } else {\n      status.classList.add('affected-resource-blocked-status');\n      status.textContent = ls`blocked`;\n    }\n    element.appendChild(status);\n  }\n\n  private appendDetails(sabIssues: Iterable<SDK.SharedArrayBufferTransferIssue.SharedArrayBufferTransferIssue>): void {\n    const header = document.createElement('tr');\n    this.appendColumnTitle(header, ls`Source Location`);\n    this.appendColumnTitle(header, ls`Status`);\n\n    this.affectedResources.appendChild(header);\n    let count = 0;\n    for (const sabIssue of sabIssues) {\n      count++;\n      this.appendDetail(sabIssue);\n    }\n    this.updateAffectedResourceCount(count);\n  }\n\n  private appendDetail(sabIssue: SDK.SharedArrayBufferTransferIssue.SharedArrayBufferTransferIssue): void {\n    const element = document.createElement('tr');\n    element.classList.add('affected-resource-directive');\n\n    const sabIssueDetails = sabIssue.details();\n    this.appendSourceLocation(element, sabIssueDetails.sourceCodeLocation);\n    this.appendStatus(element, sabIssueDetails.isWarning);\n\n    this.affectedResources.appendChild(element);\n  }\n\n  update(): void {\n    this.clear();\n    this.appendDetails(this.issue.sharedArrayBufferTransfersIssues());\n  }\n}\n"]}