{"version":3,"file":"ResourceWebSocketFrameView.js","sourceRoot":"","sources":["../../../../../front_end/network/ResourceWebSocketFrameView.js"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2012 Research In Motion Limited. All rights reserved.\n *\n * This library is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 2 of the License, or (at your option) any later version.\n *\n * This library is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this library; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n */\n\nimport * as Common from '../common/common.js';\nimport * as DataGrid from '../data_grid/data_grid.js';\nimport * as Host from '../host/host.js';\nimport * as Platform from '../platform/platform.js';\nimport {ls} from '../platform/platform.js';\nimport * as SDK from '../sdk/sdk.js';\nimport * as SourceFrame from '../source_frame/source_frame.js';\nimport * as TextUtils from '../text_utils/text_utils.js';\nimport * as UI from '../ui/ui.js';\n\nimport {BinaryResourceView} from './BinaryResourceView.js';\n\nexport class ResourceWebSocketFrameView extends UI.Widget.VBox {\n  /**\n   * @param {!SDK.NetworkRequest.NetworkRequest} request\n   */\n  constructor(request) {\n    super();\n    this.registerRequiredCSS('network/webSocketFrameView.css', {enableLegacyPatching: true});\n    this.element.classList.add('websocket-frame-view');\n    this._request = request;\n\n    this._splitWidget = new UI.SplitWidget.SplitWidget(false, true, 'resourceWebSocketFrameSplitViewState');\n    this._splitWidget.show(this.element);\n\n    const columns = /** @type {!Array<!DataGrid.DataGrid.ColumnDescriptor>} */ ([\n      {id: 'data', title: Common.UIString.UIString('Data'), sortable: false, weight: 88}, {\n        id: 'length',\n        title: Common.UIString.UIString('Length'),\n        sortable: false,\n        align: DataGrid.DataGrid.Align.Right,\n        weight: 5\n      },\n      {id: 'time', title: Common.UIString.UIString('Time'), sortable: true, weight: 7}\n    ]);\n\n    this._dataGrid = new DataGrid.SortableDataGrid.SortableDataGrid({\n      displayName: ls`Web Socket Frame`,\n      columns,\n      editCallback: undefined,\n      deleteCallback: undefined,\n      refreshCallback: undefined\n    });\n    this._dataGrid.setRowContextMenuCallback(onRowContextMenu.bind(this));\n    this._dataGrid.setStickToBottom(true);\n    this._dataGrid.setCellClass('websocket-frame-view-td');\n    this._timeComparator =\n        /** @type {function(!DataGrid.SortableDataGrid.SortableDataGridNode<!ResourceWebSocketFrameNode>, !DataGrid.SortableDataGrid.SortableDataGridNode<!ResourceWebSocketFrameNode>):number} */\n        (ResourceWebSocketFrameNodeTimeComparator);\n    this._dataGrid.sortNodes(this._timeComparator, false);\n    this._dataGrid.markColumnAsSortedBy('time', DataGrid.DataGrid.Order.Ascending);\n    this._dataGrid.addEventListener(DataGrid.DataGrid.Events.SortingChanged, this._sortItems, this);\n\n    this._dataGrid.setName('ResourceWebSocketFrameView');\n    this._dataGrid.addEventListener(DataGrid.DataGrid.Events.SelectedNode, event => {\n      this._onFrameSelected(event);\n    }, this);\n    this._dataGrid.addEventListener(DataGrid.DataGrid.Events.DeselectedNode, this._onFrameDeselected, this);\n\n    this._mainToolbar = new UI.Toolbar.Toolbar('');\n\n    this._clearAllButton = new UI.Toolbar.ToolbarButton(Common.UIString.UIString('Clear All'), 'largeicon-clear');\n    this._clearAllButton.addEventListener(UI.Toolbar.ToolbarButton.Events.Click, this._clearFrames, this);\n    this._mainToolbar.appendToolbarItem(this._clearAllButton);\n\n    this._filterTypeCombobox = new UI.Toolbar.ToolbarComboBox(this._updateFilterSetting.bind(this), ls`Filter`);\n    for (const filterItem of _filterTypes) {\n      const option = this._filterTypeCombobox.createOption(filterItem.label, filterItem.name);\n      this._filterTypeCombobox.addOption(option);\n    }\n    this._mainToolbar.appendToolbarItem(this._filterTypeCombobox);\n    this._filterType = null;\n\n    const placeholder = 'Enter regex, for example: (web)?socket';\n    this._filterTextInput = new UI.Toolbar.ToolbarInput(Common.UIString.UIString(placeholder), '', 0.4);\n    this._filterTextInput.addEventListener(UI.Toolbar.ToolbarInput.Event.TextChanged, this._updateFilterSetting, this);\n    this._mainToolbar.appendToolbarItem(this._filterTextInput);\n    this._filterRegex = null;\n\n    const mainContainer = new UI.Widget.VBox();\n    mainContainer.element.appendChild(this._mainToolbar.element);\n    this._dataGrid.asWidget().show(mainContainer.element);\n    mainContainer.setMinimumSize(0, 72);\n    this._splitWidget.setMainWidget(mainContainer);\n\n    this._frameEmptyWidget =\n        new UI.EmptyWidget.EmptyWidget(Common.UIString.UIString('Select message to browse its content.'));\n    this._splitWidget.setSidebarWidget(this._frameEmptyWidget);\n\n    /** @type {?ResourceWebSocketFrameNode} */\n    this._selectedNode = null;\n\n    /**\n     * @param {!UI.ContextMenu.ContextMenu} contextMenu\n     * @param {!DataGrid.DataGrid.DataGridNode<?>} genericNode\n     * @this {ResourceWebSocketFrameView}\n     */\n    function onRowContextMenu(contextMenu, genericNode) {\n      const node = /** @type {!ResourceWebSocketFrameNode} */ (genericNode);\n      const binaryView = node.binaryView();\n      if (binaryView) {\n        binaryView.addCopyToContextMenu(contextMenu, ls`Copy message...`);\n      } else {\n        contextMenu.clipboardSection().appendItem(\n            Common.UIString.UIString('Copy message'),\n            Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText.bind(\n                Host.InspectorFrontendHost.InspectorFrontendHostInstance, node.data.data));\n      }\n      contextMenu.footerSection().appendItem(Common.UIString.UIString('Clear all'), this._clearFrames.bind(this));\n    }\n  }\n\n  /**\n   * @param {number} opCode\n   * @param {boolean} mask\n   * @return {string}\n   */\n  static opCodeDescription(opCode, mask) {\n    const localizedDescription = opCodeDescriptions[opCode] || '';\n    if (mask) {\n      return ls`${localizedDescription} (Opcode ${opCode}, mask)`;\n    }\n    return ls`${localizedDescription} (Opcode ${opCode})`;\n  }\n\n  /**\n   * @override\n   */\n  wasShown() {\n    this.refresh();\n    this._request.addEventListener(SDK.NetworkRequest.Events.WebsocketFrameAdded, this._frameAdded, this);\n  }\n\n  /**\n   * @override\n   */\n  willHide() {\n    this._request.removeEventListener(SDK.NetworkRequest.Events.WebsocketFrameAdded, this._frameAdded, this);\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _frameAdded(event) {\n    const frame = /** @type {!SDK.NetworkRequest.WebSocketFrame} */ (event.data);\n    if (!this._frameFilter(frame)) {\n      return;\n    }\n    this._dataGrid.insertChild(new ResourceWebSocketFrameNode(this._request.url(), frame));\n  }\n\n  /**\n   * @param {!SDK.NetworkRequest.WebSocketFrame} frame\n   * @return {boolean}\n   */\n  _frameFilter(frame) {\n    if (this._filterType && frame.type !== this._filterType) {\n      return false;\n    }\n    return !this._filterRegex || this._filterRegex.test(frame.text);\n  }\n\n  _clearFrames() {\n    // TODO(allada): actially remove frames from request.\n    _clearFrameOffsets.set(this._request, this._request.frames().length);\n    this.refresh();\n  }\n\n  _updateFilterSetting() {\n    const text = this._filterTextInput.value();\n    const type = /** @type {!HTMLOptionElement} */ (this._filterTypeCombobox.selectedOption()).value;\n    this._filterRegex = text ? new RegExp(text, 'i') : null;\n    this._filterType = type === 'all' ? null : type;\n    this.refresh();\n  }\n\n  /**\n  * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  async _onFrameSelected(event) {\n    this._currentSelectedNode = /** @type {!ResourceWebSocketFrameNode} */ (event.data);\n    const content = this._currentSelectedNode.dataText();\n\n    const binaryView = this._currentSelectedNode.binaryView();\n    if (binaryView) {\n      this._splitWidget.setSidebarWidget(binaryView);\n      return;\n    }\n\n    const jsonView = await SourceFrame.JSONView.JSONView.createView(content);\n    if (jsonView) {\n      this._splitWidget.setSidebarWidget(jsonView);\n      return;\n    }\n\n    this._splitWidget.setSidebarWidget(new SourceFrame.ResourceSourceFrame.ResourceSourceFrame(\n        TextUtils.StaticContentProvider.StaticContentProvider.fromString(\n            this._request.url(), Common.ResourceType.resourceTypes.WebSocket, content)));\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _onFrameDeselected(event) {\n    this._currentSelectedNode = null;\n    this._splitWidget.setSidebarWidget(this._frameEmptyWidget);\n  }\n\n  refresh() {\n    this._dataGrid.rootNode().removeChildren();\n\n    const url = this._request.url();\n    let frames = this._request.frames();\n    const offset = _clearFrameOffsets.get(this._request) || 0;\n    frames = frames.slice(offset);\n    frames = frames.filter(this._frameFilter.bind(this));\n    frames.forEach(frame => this._dataGrid.insertChild(new ResourceWebSocketFrameNode(url, frame)));\n  }\n\n  _sortItems() {\n    this._dataGrid.sortNodes(this._timeComparator, !this._dataGrid.isSortOrderAscending());\n  }\n}\n\n/** @enum {number} */\nexport const OpCodes = {\n  ContinuationFrame: 0,\n  TextFrame: 1,\n  BinaryFrame: 2,\n  ConnectionCloseFrame: 8,\n  PingFrame: 9,\n  PongFrame: 10\n};\n\n/** @type {!Array.<string> } */\nexport const opCodeDescriptions = (function() {\n  const opCodes = OpCodes;\n  const map = [];\n  map[opCodes.ContinuationFrame] = ls`Continuation Frame`;\n  map[opCodes.TextFrame] = ls`Text Message`;\n  map[opCodes.BinaryFrame] = ls`Binary Message`;\n  map[opCodes.ContinuationFrame] = ls`Connection Close Message`;\n  map[opCodes.PingFrame] = ls`Ping Message`;\n  map[opCodes.PongFrame] = ls`Pong Message`;\n  return map;\n})();\n\n/** @type {!Array<!UI.FilterBar.Item>} */\nexport const _filterTypes = [\n  {name: 'all', label: Common.UIString.UIString('All'), title: undefined},\n  {name: 'send', label: Common.UIString.UIString('Send'), title: undefined},\n  {name: 'receive', label: Common.UIString.UIString('Receive'), title: undefined},\n];\n\n/**\n * @extends {DataGrid.SortableDataGrid.SortableDataGridNode<?>}\n */\nexport class ResourceWebSocketFrameNode extends DataGrid.SortableDataGrid.SortableDataGridNode {\n  /**\n   * @param {string} url\n   * @param {!SDK.NetworkRequest.WebSocketFrame} frame\n   */\n  constructor(url, frame) {\n    let length = String(frame.text.length);\n    const time = new Date(frame.time * 1000);\n    const timeText = ('0' + time.getHours()).substr(-2) + ':' + ('0' + time.getMinutes()).substr(-2) + ':' +\n        ('0' + time.getSeconds()).substr(-2) + '.' + ('00' + time.getMilliseconds()).substr(-3);\n    const timeNode = document.createElement('div');\n    UI.UIUtils.createTextChild(timeNode, timeText);\n    UI.Tooltip.Tooltip.install(timeNode, time.toLocaleString());\n\n    let dataText = frame.text;\n    let description = ResourceWebSocketFrameView.opCodeDescription(frame.opCode, frame.mask);\n    const isTextFrame = frame.opCode === OpCodes.TextFrame;\n\n    if (frame.type === SDK.NetworkRequest.WebSocketFrameType.Error) {\n      description = dataText;\n      length = ls`N/A`;\n\n    } else if (isTextFrame) {\n      description = dataText;\n\n    } else if (frame.opCode === OpCodes.BinaryFrame) {\n      length = Platform.NumberUtilities.bytesToString(base64ToSize(frame.text));\n      description = opCodeDescriptions[frame.opCode];\n\n    } else {\n      dataText = description;\n    }\n\n    super({data: description, length: length, time: timeNode});\n\n    this._url = url;\n    this._frame = frame;\n    this._isTextFrame = isTextFrame;\n    this._dataText = dataText;\n\n    /** @type {?BinaryResourceView} */\n    this._binaryView = null;\n  }\n\n  /**\n   * @override\n   * @param {!Element} element\n   */\n  createCells(element) {\n    element.classList.toggle(\n        'websocket-frame-view-row-error', this._frame.type === SDK.NetworkRequest.WebSocketFrameType.Error);\n    element.classList.toggle(\n        'websocket-frame-view-row-send', this._frame.type === SDK.NetworkRequest.WebSocketFrameType.Send);\n    element.classList.toggle(\n        'websocket-frame-view-row-receive', this._frame.type === SDK.NetworkRequest.WebSocketFrameType.Receive);\n    super.createCells(element);\n  }\n\n  /**\n   * @override\n   * @return {number}\n   */\n  nodeSelfHeight() {\n    return 21;\n  }\n\n  /**\n   * @return {string}\n   */\n  dataText() {\n    return this._dataText;\n  }\n\n  /**\n   * @return {!OpCodes}\n   */\n  opCode() {\n    return /** @type {!OpCodes} */ (this._frame.opCode);\n  }\n\n  /**\n   * @return {?BinaryResourceView}\n   */\n  binaryView() {\n    if (this._isTextFrame || this._frame.type === SDK.NetworkRequest.WebSocketFrameType.Error) {\n      return null;\n    }\n\n    if (!this._binaryView) {\n      if (this._dataText.length > 0) {\n        this._binaryView =\n            new BinaryResourceView(this._dataText, /* url */ '', Common.ResourceType.resourceTypes.WebSocket);\n      }\n    }\n    return this._binaryView;\n  }\n}\n\n/**\n * @param {!ResourceWebSocketFrameNode} a\n * @param {!ResourceWebSocketFrameNode} b\n * @return {number}\n */\nexport function ResourceWebSocketFrameNodeTimeComparator(a, b) {\n  return a._frame.time - b._frame.time;\n}\n\n/** @type {!WeakMap<!SDK.NetworkRequest.NetworkRequest, number>} */\nconst _clearFrameOffsets = new WeakMap();\n"]}