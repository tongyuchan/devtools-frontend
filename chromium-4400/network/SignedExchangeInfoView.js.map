{"version":3,"file":"SignedExchangeInfoView.js","sourceRoot":"","sources":["../../../../../front_end/network/SignedExchangeInfoView.js"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2018 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../common/common.js';\nimport * as Components from '../components/components.js';\nimport * as Host from '../host/host.js';\nimport * as SDK from '../sdk/sdk.js';  // eslint-disable-line no-unused-vars\nimport * as UI from '../ui/ui.js';\n\nexport class SignedExchangeInfoView extends UI.Widget.VBox {\n  /**\n   * @param {!SDK.NetworkRequest.NetworkRequest} request\n   */\n  constructor(request) {\n    super();\n    console.assert(request.signedExchangeInfo() !== null);\n    /** @type {!Protocol.Network.SignedExchangeInfo} */\n    const signedExchangeInfo = /** @type {!Protocol.Network.SignedExchangeInfo} */ (request.signedExchangeInfo());\n\n    this.registerRequiredCSS('network/signedExchangeInfoView.css', {enableLegacyPatching: false});\n    this.element.classList.add('signed-exchange-info-view');\n\n    const root = new UI.TreeOutline.TreeOutlineInShadow();\n    root.registerRequiredCSS('network/signedExchangeInfoTree.css', {enableLegacyPatching: true});\n    root.element.classList.add('signed-exchange-info-tree');\n    root.setFocusable(false);\n    root.makeDense();\n    root.expandTreeElementsWhenArrowing = true;\n    this.element.appendChild(root.element);\n\n    /** @type {!Map<number|undefined, !Set<string>>} */\n    const errorFieldSetMap = new Map();\n\n    if (signedExchangeInfo.errors && signedExchangeInfo.errors.length) {\n      const errorMessagesCategory = new Category(root, Common.UIString.UIString('Errors'));\n      for (const error of signedExchangeInfo.errors) {\n        const fragment = document.createDocumentFragment();\n        fragment.appendChild(UI.Icon.Icon.create('smallicon-error', 'prompt-icon'));\n        fragment.createChild('div', 'error-log').textContent = error.message;\n        errorMessagesCategory.createLeaf(fragment);\n        if (error.errorField) {\n          let errorFieldSet = errorFieldSetMap.get(error.signatureIndex);\n          if (!errorFieldSet) {\n            errorFieldSet = new Set();\n            errorFieldSetMap.set(error.signatureIndex, errorFieldSet);\n          }\n          errorFieldSet.add(error.errorField);\n        }\n      }\n    }\n\n    const titleElement = document.createDocumentFragment();\n    titleElement.createChild('div', 'header-name').textContent = Common.UIString.UIString('Signed HTTP exchange');\n    const learnMoreNode = UI.XLink.XLink.create(\n        'https://github.com/WICG/webpackage', Common.UIString.UIString('Learn\\xa0more'), 'header-toggle');\n    titleElement.appendChild(learnMoreNode);\n    const headerCategory = new Category(root, titleElement);\n    if (signedExchangeInfo.header) {\n      const header = signedExchangeInfo.header;\n      const redirectDestination = request.redirectDestination();\n      const requestURLElement = this._formatHeader(Common.UIString.UIString('Request URL'), header.requestUrl);\n      if (redirectDestination) {\n        const viewRequestLink = Components.Linkifier.Linkifier.linkifyRevealable(redirectDestination, 'View request');\n        viewRequestLink.classList.add('header-toggle');\n        requestURLElement.appendChild(viewRequestLink);\n      }\n      headerCategory.createLeaf(requestURLElement);\n      headerCategory.createLeaf(\n          this._formatHeader(Common.UIString.UIString('Response code'), String(header.responseCode)));\n      headerCategory.createLeaf(\n          this._formatHeader(Common.UIString.UIString('Header integrity hash'), header.headerIntegrity));\n\n      this._responseHeadersItem =\n          headerCategory.createLeaf(this._formatHeader(Common.UIString.UIString('Response headers'), ''));\n      const responseHeaders = header.responseHeaders;\n      for (const name in responseHeaders) {\n        const headerTreeElement = new UI.TreeOutline.TreeElement(this._formatHeader(name, responseHeaders[name]));\n        headerTreeElement.selectable = false;\n        this._responseHeadersItem.appendChild(headerTreeElement);\n      }\n      this._responseHeadersItem.expand();\n\n      for (let i = 0; i < header.signatures.length; ++i) {\n        const errorFieldSet = errorFieldSetMap.get(i) || new Set();\n        const signature = header.signatures[i];\n        const signatureCategory = new Category(root, Common.UIString.UIString('Signature'));\n        signatureCategory.createLeaf(this._formatHeader(Common.UIString.UIString('Label'), signature.label));\n        signatureCategory.createLeaf(this._formatHeaderForHexData(\n            Common.UIString.UIString('Signature'), signature.signature,\n            errorFieldSet.has(Protocol.Network.SignedExchangeErrorField.SignatureSig)));\n\n        if (signature.certUrl) {\n          const certURLElement = this._formatHeader(\n              Common.UIString.UIString('Certificate URL'), signature.certUrl,\n              errorFieldSet.has(Protocol.Network.SignedExchangeErrorField.SignatureCertUrl));\n          if (signature.certificates) {\n            const viewCertLink = certURLElement.createChild('span', 'devtools-link header-toggle');\n            viewCertLink.textContent = Common.UIString.UIString('View certificate');\n            viewCertLink.addEventListener(\n                'click',\n                Host.InspectorFrontendHost.InspectorFrontendHostInstance.showCertificateViewer.bind(\n                    null, signature.certificates),\n                false);\n          }\n          signatureCategory.createLeaf(certURLElement);\n        }\n        signatureCategory.createLeaf(this._formatHeader(\n            Common.UIString.UIString('Integrity'), signature.integrity,\n            errorFieldSet.has(Protocol.Network.SignedExchangeErrorField.SignatureIntegrity)));\n        if (signature.certSha256) {\n          signatureCategory.createLeaf(this._formatHeaderForHexData(\n              Common.UIString.UIString('Certificate SHA256'), signature.certSha256,\n              errorFieldSet.has(Protocol.Network.SignedExchangeErrorField.SignatureCertSha256)));\n        }\n        signatureCategory.createLeaf(this._formatHeader(\n            Common.UIString.UIString('Validity URL'), signature.validityUrl,\n            errorFieldSet.has(Protocol.Network.SignedExchangeErrorField.SignatureValidityUrl)));\n        signatureCategory.createLeaf().title = this._formatHeader(\n            Common.UIString.UIString('Date'), new Date(1000 * signature.date).toUTCString(),\n            errorFieldSet.has(Protocol.Network.SignedExchangeErrorField.SignatureTimestamps));\n        signatureCategory.createLeaf().title = this._formatHeader(\n            Common.UIString.UIString('Expires'), new Date(1000 * signature.expires).toUTCString(),\n            errorFieldSet.has(Protocol.Network.SignedExchangeErrorField.SignatureTimestamps));\n      }\n    }\n    if (signedExchangeInfo.securityDetails) {\n      const securityDetails = signedExchangeInfo.securityDetails;\n      const securityCategory = new Category(root, Common.UIString.UIString('Certificate'));\n      securityCategory.createLeaf(this._formatHeader(Common.UIString.UIString('Subject'), securityDetails.subjectName));\n      securityCategory.createLeaf(this._formatHeader(\n          Common.UIString.UIString('Valid from'), new Date(1000 * securityDetails.validFrom).toUTCString()));\n      securityCategory.createLeaf(this._formatHeader(\n          Common.UIString.UIString('Valid until'), new Date(1000 * securityDetails.validTo).toUTCString()));\n      securityCategory.createLeaf(this._formatHeader(Common.UIString.UIString('Issuer'), securityDetails.issuer));\n    }\n  }\n\n  /**\n   * @param {string} name\n   * @param {string} value\n   * @param {boolean=} highlighted\n   * @return {!DocumentFragment}\n   */\n  _formatHeader(name, value, highlighted) {\n    const fragment = document.createDocumentFragment();\n    const nameElement = fragment.createChild('div', 'header-name');\n    nameElement.textContent = name + ': ';\n    fragment.createChild('span', 'header-separator');\n    const valueElement = fragment.createChild('div', 'header-value source-code');\n    valueElement.textContent = value;\n    if (highlighted) {\n      nameElement.classList.add('error-field');\n      valueElement.classList.add('error-field');\n    }\n    return fragment;\n  }\n\n  /**\n   * @param {string} name\n   * @param {string} value\n   * @param {boolean=} highlighted\n   * @return {!DocumentFragment}\n   */\n  _formatHeaderForHexData(name, value, highlighted) {\n    const fragment = document.createDocumentFragment();\n    const nameElement = fragment.createChild('div', 'header-name');\n    nameElement.textContent = name + ': ';\n    fragment.createChild('span', 'header-separator');\n    const valueElement = fragment.createChild('div', 'header-value source-code hex-data');\n    valueElement.textContent = value.replace(/(.{2})/g, '$1 ');\n    if (highlighted) {\n      nameElement.classList.add('error-field');\n      valueElement.classList.add('error-field');\n    }\n    return fragment;\n  }\n}\n\nexport class Category extends UI.TreeOutline.TreeElement {\n  /**\n   * @param {!UI.TreeOutline.TreeOutline} root\n   * @param {(string|!Node)=} title\n   */\n  constructor(root, title) {\n    super(title, true);\n    this.selectable = false;\n    this.toggleOnClick = true;\n    this.expanded = true;\n    root.appendChild(this);\n  }\n\n  /**\n   * @param {(string|!Node)=} title\n   */\n  createLeaf(title) {\n    const leaf = new UI.TreeOutline.TreeElement(title);\n    leaf.selectable = false;\n    this.appendChild(leaf);\n    return leaf;\n  }\n}\n"]}